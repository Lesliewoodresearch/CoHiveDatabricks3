function dg(s,l){for(var a=0;a<l.length;a++){const c=l[a];if(typeof c!="string"&&!Array.isArray(c)){for(const d in c)if(d!=="default"&&!(d in s)){const f=Object.getOwnPropertyDescriptor(c,d);f&&Object.defineProperty(s,d,f.get?f:{enumerable:!0,get:()=>c[d]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function a(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(d){if(d.ep)return;d.ep=!0;const f=a(d);fetch(d.href,f)}})();function Uf(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ti={exports:{}},ra={},_i={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd;function fg(){if(Yd)return Ge;Yd=1;var s=Symbol.for("react.element"),l=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function N(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,S={};function T(C,B,ge){this.props=C,this.context=B,this.refs=S,this.updater=ge||A}T.prototype.isReactComponent={},T.prototype.setState=function(C,B){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,B,"setState")},T.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function W(){}W.prototype=T.prototype;function G(C,B,ge){this.props=C,this.context=B,this.refs=S,this.updater=ge||A}var ue=G.prototype=new W;ue.constructor=G,P(ue,T.prototype),ue.isPureReactComponent=!0;var se=Array.isArray,ae=Object.prototype.hasOwnProperty,Ce={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function je(C,B,ge){var Te,Me={},We=null,Qe=null;if(B!=null)for(Te in B.ref!==void 0&&(Qe=B.ref),B.key!==void 0&&(We=""+B.key),B)ae.call(B,Te)&&!O.hasOwnProperty(Te)&&(Me[Te]=B[Te]);var Ie=arguments.length-2;if(Ie===1)Me.children=ge;else if(1<Ie){for(var ve=Array(Ie),$e=0;$e<Ie;$e++)ve[$e]=arguments[$e+2];Me.children=ve}if(C&&C.defaultProps)for(Te in Ie=C.defaultProps,Ie)Me[Te]===void 0&&(Me[Te]=Ie[Te]);return{$$typeof:s,type:C,key:We,ref:Qe,props:Me,_owner:Ce.current}}function Z(C,B){return{$$typeof:s,type:C.type,key:B,ref:C.ref,props:C.props,_owner:C._owner}}function de(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function Ve(C){var B={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ge){return B[ge]})}var xe=/\/+/g;function He(C,B){return typeof C=="object"&&C!==null&&C.key!=null?Ve(""+C.key):B.toString(36)}function ze(C,B,ge,Te,Me){var We=typeof C;(We==="undefined"||We==="boolean")&&(C=null);var Qe=!1;if(C===null)Qe=!0;else switch(We){case"string":case"number":Qe=!0;break;case"object":switch(C.$$typeof){case s:case l:Qe=!0}}if(Qe)return Qe=C,Me=Me(Qe),C=Te===""?"."+He(Qe,0):Te,se(Me)?(ge="",C!=null&&(ge=C.replace(xe,"$&/")+"/"),ze(Me,B,ge,"",function($e){return $e})):Me!=null&&(de(Me)&&(Me=Z(Me,ge+(!Me.key||Qe&&Qe.key===Me.key?"":(""+Me.key).replace(xe,"$&/")+"/")+C)),B.push(Me)),1;if(Qe=0,Te=Te===""?".":Te+":",se(C))for(var Ie=0;Ie<C.length;Ie++){We=C[Ie];var ve=Te+He(We,Ie);Qe+=ze(We,B,ge,ve,Me)}else if(ve=N(C),typeof ve=="function")for(C=ve.call(C),Ie=0;!(We=C.next()).done;)We=We.value,ve=Te+He(We,Ie++),Qe+=ze(We,B,ge,ve,Me);else if(We==="object")throw B=String(C),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Qe}function Je(C,B,ge){if(C==null)return C;var Te=[],Me=0;return ze(C,Te,"","",function(We){return B.call(ge,We,Me++)}),Te}function J(C){if(C._status===-1){var B=C._result;B=B(),B.then(function(ge){(C._status===0||C._status===-1)&&(C._status=1,C._result=ge)},function(ge){(C._status===0||C._status===-1)&&(C._status=2,C._result=ge)}),C._status===-1&&(C._status=0,C._result=B)}if(C._status===1)return C._result.default;throw C._result}var ne={current:null},U={transition:null},ie={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:U,ReactCurrentOwner:Ce};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:Je,forEach:function(C,B,ge){Je(C,function(){B.apply(this,arguments)},ge)},count:function(C){var B=0;return Je(C,function(){B++}),B},toArray:function(C){return Je(C,function(B){return B})||[]},only:function(C){if(!de(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ge.Component=T,Ge.Fragment=a,Ge.Profiler=d,Ge.PureComponent=G,Ge.StrictMode=c,Ge.Suspense=y,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Ge.act=ee,Ge.cloneElement=function(C,B,ge){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var Te=P({},C.props),Me=C.key,We=C.ref,Qe=C._owner;if(B!=null){if(B.ref!==void 0&&(We=B.ref,Qe=Ce.current),B.key!==void 0&&(Me=""+B.key),C.type&&C.type.defaultProps)var Ie=C.type.defaultProps;for(ve in B)ae.call(B,ve)&&!O.hasOwnProperty(ve)&&(Te[ve]=B[ve]===void 0&&Ie!==void 0?Ie[ve]:B[ve])}var ve=arguments.length-2;if(ve===1)Te.children=ge;else if(1<ve){Ie=Array(ve);for(var $e=0;$e<ve;$e++)Ie[$e]=arguments[$e+2];Te.children=Ie}return{$$typeof:s,type:C.type,key:Me,ref:We,props:Te,_owner:Qe}},Ge.createContext=function(C){return C={$$typeof:g,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:f,_context:C},C.Consumer=C},Ge.createElement=je,Ge.createFactory=function(C){var B=je.bind(null,C);return B.type=C,B},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(C){return{$$typeof:m,render:C}},Ge.isValidElement=de,Ge.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:J}},Ge.memo=function(C,B){return{$$typeof:x,type:C,compare:B===void 0?null:B}},Ge.startTransition=function(C){var B=U.transition;U.transition={};try{C()}finally{U.transition=B}},Ge.unstable_act=ee,Ge.useCallback=function(C,B){return ne.current.useCallback(C,B)},Ge.useContext=function(C){return ne.current.useContext(C)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(C){return ne.current.useDeferredValue(C)},Ge.useEffect=function(C,B){return ne.current.useEffect(C,B)},Ge.useId=function(){return ne.current.useId()},Ge.useImperativeHandle=function(C,B,ge){return ne.current.useImperativeHandle(C,B,ge)},Ge.useInsertionEffect=function(C,B){return ne.current.useInsertionEffect(C,B)},Ge.useLayoutEffect=function(C,B){return ne.current.useLayoutEffect(C,B)},Ge.useMemo=function(C,B){return ne.current.useMemo(C,B)},Ge.useReducer=function(C,B,ge){return ne.current.useReducer(C,B,ge)},Ge.useRef=function(C){return ne.current.useRef(C)},Ge.useState=function(C){return ne.current.useState(C)},Ge.useSyncExternalStore=function(C,B,ge){return ne.current.useSyncExternalStore(C,B,ge)},Ge.useTransition=function(){return ne.current.useTransition()},Ge.version="18.3.1",Ge}var Jd;function nc(){return Jd||(Jd=1,_i.exports=fg()),_i.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd;function pg(){if(Xd)return ra;Xd=1;var s=nc(),l=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function g(m,y,x){var v,w={},N=null,A=null;x!==void 0&&(N=""+x),y.key!==void 0&&(N=""+y.key),y.ref!==void 0&&(A=y.ref);for(v in y)c.call(y,v)&&!f.hasOwnProperty(v)&&(w[v]=y[v]);if(m&&m.defaultProps)for(v in y=m.defaultProps,y)w[v]===void 0&&(w[v]=y[v]);return{$$typeof:l,type:m,key:N,ref:A,props:w,_owner:d.current}}return ra.Fragment=a,ra.jsx=g,ra.jsxs=g,ra}var qd;function mg(){return qd||(qd=1,Ti.exports=pg()),Ti.exports}var r=mg(),bo={},Ai={exports:{}},Ut={},Ri={exports:{}},Di={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd;function hg(){return Zd||(Zd=1,(function(s){function l(U,ie){var ee=U.length;U.push(ie);e:for(;0<ee;){var C=ee-1>>>1,B=U[C];if(0<d(B,ie))U[C]=ie,U[ee]=B,ee=C;else break e}}function a(U){return U.length===0?null:U[0]}function c(U){if(U.length===0)return null;var ie=U[0],ee=U.pop();if(ee!==ie){U[0]=ee;e:for(var C=0,B=U.length,ge=B>>>1;C<ge;){var Te=2*(C+1)-1,Me=U[Te],We=Te+1,Qe=U[We];if(0>d(Me,ee))We<B&&0>d(Qe,Me)?(U[C]=Qe,U[We]=ee,C=We):(U[C]=Me,U[Te]=ee,C=Te);else if(We<B&&0>d(Qe,ee))U[C]=Qe,U[We]=ee,C=We;else break e}}return ie}function d(U,ie){var ee=U.sortIndex-ie.sortIndex;return ee!==0?ee:U.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var g=Date,m=g.now();s.unstable_now=function(){return g.now()-m}}var y=[],x=[],v=1,w=null,N=3,A=!1,P=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ue(U){for(var ie=a(x);ie!==null;){if(ie.callback===null)c(x);else if(ie.startTime<=U)c(x),ie.sortIndex=ie.expirationTime,l(y,ie);else break;ie=a(x)}}function se(U){if(S=!1,ue(U),!P)if(a(y)!==null)P=!0,J(ae);else{var ie=a(x);ie!==null&&ne(se,ie.startTime-U)}}function ae(U,ie){P=!1,S&&(S=!1,W(je),je=-1),A=!0;var ee=N;try{for(ue(ie),w=a(y);w!==null&&(!(w.expirationTime>ie)||U&&!Ve());){var C=w.callback;if(typeof C=="function"){w.callback=null,N=w.priorityLevel;var B=C(w.expirationTime<=ie);ie=s.unstable_now(),typeof B=="function"?w.callback=B:w===a(y)&&c(y),ue(ie)}else c(y);w=a(y)}if(w!==null)var ge=!0;else{var Te=a(x);Te!==null&&ne(se,Te.startTime-ie),ge=!1}return ge}finally{w=null,N=ee,A=!1}}var Ce=!1,O=null,je=-1,Z=5,de=-1;function Ve(){return!(s.unstable_now()-de<Z)}function xe(){if(O!==null){var U=s.unstable_now();de=U;var ie=!0;try{ie=O(!0,U)}finally{ie?He():(Ce=!1,O=null)}}else Ce=!1}var He;if(typeof G=="function")He=function(){G(xe)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,Je=ze.port2;ze.port1.onmessage=xe,He=function(){Je.postMessage(null)}}else He=function(){T(xe,0)};function J(U){O=U,Ce||(Ce=!0,He())}function ne(U,ie){je=T(function(){U(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_continueExecution=function(){P||A||(P=!0,J(ae))},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_getFirstCallbackNode=function(){return a(y)},s.unstable_next=function(U){switch(N){case 1:case 2:case 3:var ie=3;break;default:ie=N}var ee=N;N=ie;try{return U()}finally{N=ee}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(U,ie){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=N;N=U;try{return ie()}finally{N=ee}},s.unstable_scheduleCallback=function(U,ie,ee){var C=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?C+ee:C):ee=C,U){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ee+B,U={id:v++,callback:ie,priorityLevel:U,startTime:ee,expirationTime:B,sortIndex:-1},ee>C?(U.sortIndex=ee,l(x,U),a(y)===null&&U===a(x)&&(S?(W(je),je=-1):S=!0,ne(se,ee-C))):(U.sortIndex=B,l(y,U),P||A||(P=!0,J(ae))),U},s.unstable_shouldYield=Ve,s.unstable_wrapCallback=function(U){var ie=N;return function(){var ee=N;N=ie;try{return U.apply(this,arguments)}finally{N=ee}}}})(Di)),Di}var ef;function gg(){return ef||(ef=1,Ri.exports=hg()),Ri.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf;function yg(){if(tf)return Ut;tf=1;var s=nc(),l=gg();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,d={};function f(e,t){g(e,t),g(e+"Capture",t)}function g(e,t){for(d[e]=t,e=0;e<t.length;e++)c.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function N(e){return y.call(w,e)?!0:y.call(v,e)?!1:x.test(e)?w[e]=!0:(v[e]=!0,!1)}function A(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P(e,t,n,o){if(t===null||typeof t>"u"||A(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function S(e,t,n,o,i,u,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=h}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new S(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new S(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new S(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new S(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new S(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new S(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new S(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new S(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new S(e,5,!1,e.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function G(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(W,G);T[t]=new S(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(W,G);T[t]=new S(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(W,G);T[t]=new S(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new S(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new S(e,1,!1,e.toLowerCase(),null,!0,!0)});function ue(e,t,n,o){var i=T.hasOwnProperty(t)?T[t]:null;(i!==null?i.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(P(t,n,i,o)&&(n=null),o||i===null?N(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,o=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var se=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),je=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),Ve=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),Je=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),U=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,C;function B(e){if(C===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);C=t&&t[1]||""}return`
`+C+e}var ge=!1;function Te(e,t){if(!e||ge)return"";ge=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(L){var o=L}Reflect.construct(e,[],t)}else{try{t.call()}catch(L){o=L}e.call(t.prototype)}else{try{throw Error()}catch(L){o=L}e()}}catch(L){if(L&&o&&typeof L.stack=="string"){for(var i=L.stack.split(`
`),u=o.stack.split(`
`),h=i.length-1,b=u.length-1;1<=h&&0<=b&&i[h]!==u[b];)b--;for(;1<=h&&0<=b;h--,b--)if(i[h]!==u[b]){if(h!==1||b!==1)do if(h--,b--,0>b||i[h]!==u[b]){var k=`
`+i[h].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=h&&0<=b);break}}}finally{ge=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function Me(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=Te(e.type,!1),e;case 11:return e=Te(e.type.render,!1),e;case 1:return e=Te(e.type,!0),e;default:return""}}function We(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case Ce:return"Portal";case Z:return"Profiler";case je:return"StrictMode";case He:return"Suspense";case ze:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ve:return(e.displayName||"Context")+".Consumer";case de:return(e._context.displayName||"Context")+".Provider";case xe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Je:return t=e.displayName||null,t!==null?t:We(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return We(e(t))}catch{}}return null}function Qe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return We(t);case 8:return t===je?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ie(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $e(e){var t=ve(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(h){o=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(h){o=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ze(e){e._valueTracker||(e._valueTracker=$e(e))}function Ct(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=ve(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function z(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function I(e,t){var n=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function le(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=Ie(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Be(e,t){t=t.checked,t!=null&&ue(e,"checked",t,!1)}function De(e,t){Be(e,t);var n=Ie(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?it(e,t.type,n):t.hasOwnProperty("defaultValue")&&it(e,t.type,Ie(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function it(e,t,n){(t!=="number"||z(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var et=Array.isArray;function jt(e,t,n,o){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&o&&(e[n].defaultSelected=!0)}else{for(n=""+Ie(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,o&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ft(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(et(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ie(n)}}function Lr(e,t){var n=Ie(t.value),o=Ie(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function jr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ir(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _,X=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,i)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_=_||document.createElement("div"),_.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Le={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];Object.keys(Le).forEach(function(e){ft.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Le[t]=Le[e]})});function Oe(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Le.hasOwnProperty(e)&&Le[e]?(""+t).trim():t+"px"}function pr(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,i=Oe(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,i):e[n]=i}}var Dn=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sr(e,t){if(t){if(Dn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function fn(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fn=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vs=null,Or=null,Mr=null;function ua(e){if(e=Us(e)){if(typeof vs!="function")throw Error(a(280));var t=e.stateNode;t&&(t=Fa(t),vs(e.stateNode,e.type,t))}}function mr(e){Or?Mr?Mr.push(e):Mr=[e]:Or=e}function da(){if(Or){var e=Or,t=Mr;if(Mr=Or=null,ua(e),t)for(e=0;e<t.length;e++)ua(t[e])}}function Qo(e,t){return e(t)}function fa(){}var bs=!1;function pa(e,t,n){if(bs)return e(t,n);bs=!0;try{return Qo(e,t,n)}finally{bs=!1,(Or!==null||Mr!==null)&&(fa(),da())}}function pn(e,t){var n=e.stateNode;if(n===null)return null;var o=Fa(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var ws=!1;if(m)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){ws=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{ws=!1}function Yo(e,t,n,o,i,u,h,b,k){var L=Array.prototype.slice.call(arguments,3);try{t.apply(n,L)}catch(K){this.onError(K)}}var hn=!1,In=null,F=!1,j=null,Y={onError:function(e){hn=!0,In=e}};function ye(e,t,n,o,i,u,h,b,k){hn=!1,In=null,Yo.apply(Y,arguments)}function M(e,t,n,o,i,u,h,b,k){if(ye.apply(this,arguments),hn){if(hn){var L=In;hn=!1,In=null}else throw Error(a(198));F||(F=!0,j=L)}}function Q(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function be(e){if(Q(e)!==e)throw Error(a(188))}function Se(e){var t=e.alternate;if(!t){if(t=Q(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(i===null)break;var u=i.alternate;if(u===null){if(o=i.return,o!==null){n=o;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===n)return be(i),e;if(u===o)return be(i),t;u=u.sibling}throw Error(a(188))}if(n.return!==o.return)n=i,o=u;else{for(var h=!1,b=i.child;b;){if(b===n){h=!0,n=i,o=u;break}if(b===o){h=!0,o=i,n=u;break}b=b.sibling}if(!h){for(b=u.child;b;){if(b===n){h=!0,n=u,o=i;break}if(b===o){h=!0,o=u,n=i;break}b=b.sibling}if(!h)throw Error(a(189))}}if(n.alternate!==o)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function $(e){return e=Se(e),e!==null?V(e):null}function V(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=V(e);if(t!==null)return t;e=e.sibling}return null}var ce=l.unstable_scheduleCallback,me=l.unstable_cancelCallback,fe=l.unstable_shouldYield,qe=l.unstable_requestPaint,Re=l.unstable_now,ct=l.unstable_getCurrentPriorityLevel,Lt=l.unstable_ImmediatePriority,js=l.unstable_UserBlockingPriority,ma=l.unstable_NormalPriority,km=l.unstable_LowPriority,kc=l.unstable_IdlePriority,ha=null,hr=null;function Cm(e){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(ha,e,void 0,(e.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:Tm,Em=Math.log,Pm=Math.LN2;function Tm(e){return e>>>=0,e===0?32:31-(Em(e)/Pm|0)|0}var ga=64,ya=4194304;function Ns(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xa(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,i=e.suspendedLanes,u=e.pingedLanes,h=n&268435455;if(h!==0){var b=h&~i;b!==0?o=Ns(b):(u&=h,u!==0&&(o=Ns(u)))}else h=n&~i,h!==0?o=Ns(h):u!==0&&(o=Ns(u));if(o===0)return 0;if(t!==0&&t!==o&&(t&i)===0&&(i=o&-o,u=t&-t,i>=u||i===16&&(u&4194240)!==0))return t;if((o&4)!==0&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-sr(t),i=1<<n,o|=e[n],t&=~i;return o}function _m(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Am(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var h=31-sr(u),b=1<<h,k=i[h];k===-1?((b&n)===0||(b&o)!==0)&&(i[h]=_m(b,t)):k<=t&&(e.expiredLanes|=b),u&=~b}}function Jo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cc(){var e=ga;return ga<<=1,(ga&4194240)===0&&(ga=64),e}function Xo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ss(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sr(t),e[t]=n}function Rm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-sr(n),u=1<<i;t[i]=0,o[i]=-1,e[i]=-1,n&=~u}}function qo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-sr(n),i=1<<o;i&t|e[o]&t&&(e[o]|=t),n&=~i}}var tt=0;function Ec(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Pc,Zo,Tc,_c,Ac,el=!1,va=[],zr=null,Br=null,Ur=null,ks=new Map,Cs=new Map,Wr=[],Dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rc(e,t){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":ks.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(t.pointerId)}}function Es(e,t,n,o,i,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:u,targetContainers:[i]},t!==null&&(t=Us(t),t!==null&&Zo(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Fm(e,t,n,o,i){switch(t){case"focusin":return zr=Es(zr,e,t,n,o,i),!0;case"dragenter":return Br=Es(Br,e,t,n,o,i),!0;case"mouseover":return Ur=Es(Ur,e,t,n,o,i),!0;case"pointerover":var u=i.pointerId;return ks.set(u,Es(ks.get(u)||null,e,t,n,o,i)),!0;case"gotpointercapture":return u=i.pointerId,Cs.set(u,Es(Cs.get(u)||null,e,t,n,o,i)),!0}return!1}function Dc(e){var t=gn(e.target);if(t!==null){var n=Q(t);if(n!==null){if(t=n.tag,t===13){if(t=oe(n),t!==null){e.blockedOn=t,Ac(e.priority,function(){Tc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ba(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Fn=o,n.target.dispatchEvent(o),Fn=null}else return t=Us(n),t!==null&&Zo(t),e.blockedOn=n,!1;t.shift()}return!0}function Fc(e,t,n){ba(e)&&n.delete(t)}function Lm(){el=!1,zr!==null&&ba(zr)&&(zr=null),Br!==null&&ba(Br)&&(Br=null),Ur!==null&&ba(Ur)&&(Ur=null),ks.forEach(Fc),Cs.forEach(Fc)}function Ps(e,t){e.blockedOn===t&&(e.blockedOn=null,el||(el=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Lm)))}function Ts(e){function t(i){return Ps(i,e)}if(0<va.length){Ps(va[0],e);for(var n=1;n<va.length;n++){var o=va[n];o.blockedOn===e&&(o.blockedOn=null)}}for(zr!==null&&Ps(zr,e),Br!==null&&Ps(Br,e),Ur!==null&&Ps(Ur,e),ks.forEach(t),Cs.forEach(t),n=0;n<Wr.length;n++)o=Wr[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Wr.length&&(n=Wr[0],n.blockedOn===null);)Dc(n),n.blockedOn===null&&Wr.shift()}var On=se.ReactCurrentBatchConfig,wa=!0;function Im(e,t,n,o){var i=tt,u=On.transition;On.transition=null;try{tt=1,tl(e,t,n,o)}finally{tt=i,On.transition=u}}function Om(e,t,n,o){var i=tt,u=On.transition;On.transition=null;try{tt=4,tl(e,t,n,o)}finally{tt=i,On.transition=u}}function tl(e,t,n,o){if(wa){var i=rl(e,t,n,o);if(i===null)vl(e,t,o,ja,n),Rc(e,o);else if(Fm(i,e,t,n,o))o.stopPropagation();else if(Rc(e,o),t&4&&-1<Dm.indexOf(e)){for(;i!==null;){var u=Us(i);if(u!==null&&Pc(u),u=rl(e,t,n,o),u===null&&vl(e,t,o,ja,n),u===i)break;i=u}i!==null&&o.stopPropagation()}else vl(e,t,o,null,n)}}var ja=null;function rl(e,t,n,o){if(ja=null,e=Ln(o),e=gn(e),e!==null)if(t=Q(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oe(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ja=e,null}function Lc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ct()){case Lt:return 1;case js:return 4;case ma:case km:return 16;case kc:return 536870912;default:return 16}default:return 16}}var $r=null,nl=null,Na=null;function Ic(){if(Na)return Na;var e,t=nl,n=t.length,o,i="value"in $r?$r.value:$r.textContent,u=i.length;for(e=0;e<n&&t[e]===i[e];e++);var h=n-e;for(o=1;o<=h&&t[n-o]===i[u-o];o++);return Na=i.slice(e,1<o?1-o:void 0)}function Sa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ka(){return!0}function Oc(){return!1}function $t(e){function t(n,o,i,u,h){this._reactName=n,this._targetInst=i,this.type=o,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(u):u[b]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ka:Oc,this.isPropagationStopped=Oc,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),t}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sl=$t(Mn),_s=ee({},Mn,{view:0,detail:0}),Mm=$t(_s),al,ol,As,Ca=ee({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:il,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(al=e.screenX-As.screenX,ol=e.screenY-As.screenY):ol=al=0,As=e),al)},movementY:function(e){return"movementY"in e?e.movementY:ol}}),Mc=$t(Ca),zm=ee({},Ca,{dataTransfer:0}),Bm=$t(zm),Um=ee({},_s,{relatedTarget:0}),ll=$t(Um),Wm=ee({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),$m=$t(Wm),Vm=ee({},Mn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hm=$t(Vm),Gm=ee({},Mn,{data:0}),zc=$t(Gm),Km={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ym[e])?!!t[e]:!1}function il(){return Jm}var Xm=ee({},_s,{key:function(e){if(e.key){var t=Km[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:il,charCode:function(e){return e.type==="keypress"?Sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qm=$t(Xm),Zm=ee({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=$t(Zm),eh=ee({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:il}),th=$t(eh),rh=ee({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),nh=$t(rh),sh=ee({},Ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ah=$t(sh),oh=[9,13,27,32],cl=m&&"CompositionEvent"in window,Rs=null;m&&"documentMode"in document&&(Rs=document.documentMode);var lh=m&&"TextEvent"in window&&!Rs,Uc=m&&(!cl||Rs&&8<Rs&&11>=Rs),Wc=" ",$c=!1;function Vc(e,t){switch(e){case"keyup":return oh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function ih(e,t){switch(e){case"compositionend":return Hc(t);case"keypress":return t.which!==32?null:($c=!0,Wc);case"textInput":return e=t.data,e===Wc&&$c?null:e;default:return null}}function ch(e,t){if(zn)return e==="compositionend"||!cl&&Vc(e,t)?(e=Ic(),Na=nl=$r=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uc&&t.locale!=="ko"?null:t.data;default:return null}}var uh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uh[e.type]:t==="textarea"}function Kc(e,t,n,o){mr(o),t=Aa(t,"onChange"),0<t.length&&(n=new sl("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Ds=null,Fs=null;function dh(e){du(e,0)}function Ea(e){var t=Vn(e);if(Ct(t))return e}function fh(e,t){if(e==="change")return t}var Qc=!1;if(m){var ul;if(m){var dl="oninput"in document;if(!dl){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),dl=typeof Yc.oninput=="function"}ul=dl}else ul=!1;Qc=ul&&(!document.documentMode||9<document.documentMode)}function Jc(){Ds&&(Ds.detachEvent("onpropertychange",Xc),Fs=Ds=null)}function Xc(e){if(e.propertyName==="value"&&Ea(Fs)){var t=[];Kc(t,Fs,e,Ln(e)),pa(dh,t)}}function ph(e,t,n){e==="focusin"?(Jc(),Ds=t,Fs=n,Ds.attachEvent("onpropertychange",Xc)):e==="focusout"&&Jc()}function mh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ea(Fs)}function hh(e,t){if(e==="click")return Ea(t)}function gh(e,t){if(e==="input"||e==="change")return Ea(t)}function yh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ar=typeof Object.is=="function"?Object.is:yh;function Ls(e,t){if(ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var i=n[o];if(!y.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function qc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zc(e,t){var n=qc(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qc(n)}}function eu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tu(){for(var e=window,t=z();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=z(e.document)}return t}function fl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xh(e){var t=tu(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&eu(n.ownerDocument.documentElement,n)){if(o!==null&&fl(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,u=Math.min(o.start,i);o=o.end===void 0?u:Math.min(o.end,i),!e.extend&&u>o&&(i=o,o=u,u=i),i=Zc(n,u);var h=Zc(n,o);i&&h&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),u>o?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vh=m&&"documentMode"in document&&11>=document.documentMode,Bn=null,pl=null,Is=null,ml=!1;function ru(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ml||Bn==null||Bn!==z(o)||(o=Bn,"selectionStart"in o&&fl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Is&&Ls(Is,o)||(Is=o,o=Aa(pl,"onSelect"),0<o.length&&(t=new sl("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Bn)))}function Pa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Un={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},hl={},nu={};m&&(nu=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function Ta(e){if(hl[e])return hl[e];if(!Un[e])return e;var t=Un[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nu)return hl[e]=t[n];return e}var su=Ta("animationend"),au=Ta("animationiteration"),ou=Ta("animationstart"),lu=Ta("transitionend"),iu=new Map,cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){iu.set(e,t),f(t,[e])}for(var gl=0;gl<cu.length;gl++){var yl=cu[gl],bh=yl.toLowerCase(),wh=yl[0].toUpperCase()+yl.slice(1);Vr(bh,"on"+wh)}Vr(su,"onAnimationEnd"),Vr(au,"onAnimationIteration"),Vr(ou,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(lu,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function uu(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,M(o,t,void 0,e),e.currentTarget=null}function du(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],i=o.event;o=o.listeners;e:{var u=void 0;if(t)for(var h=o.length-1;0<=h;h--){var b=o[h],k=b.instance,L=b.currentTarget;if(b=b.listener,k!==u&&i.isPropagationStopped())break e;uu(i,b,L),u=k}else for(h=0;h<o.length;h++){if(b=o[h],k=b.instance,L=b.currentTarget,b=b.listener,k!==u&&i.isPropagationStopped())break e;uu(i,b,L),u=k}}}if(F)throw e=j,F=!1,j=null,e}function st(e,t){var n=t[kl];n===void 0&&(n=t[kl]=new Set);var o=e+"__bubble";n.has(o)||(fu(t,e,2,!1),n.add(o))}function xl(e,t,n){var o=0;t&&(o|=4),fu(n,e,o,t)}var _a="_reactListening"+Math.random().toString(36).slice(2);function Ms(e){if(!e[_a]){e[_a]=!0,c.forEach(function(n){n!=="selectionchange"&&(jh.has(n)||xl(n,!1,e),xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_a]||(t[_a]=!0,xl("selectionchange",!1,t))}}function fu(e,t,n,o){switch(Lc(t)){case 1:var i=Im;break;case 4:i=Om;break;default:i=tl}n=i.bind(null,t,n,e),i=void 0,!ws||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),o?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function vl(e,t,n,o,i){var u=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var h=o.tag;if(h===3||h===4){var b=o.stateNode.containerInfo;if(b===i||b.nodeType===8&&b.parentNode===i)break;if(h===4)for(h=o.return;h!==null;){var k=h.tag;if((k===3||k===4)&&(k=h.stateNode.containerInfo,k===i||k.nodeType===8&&k.parentNode===i))return;h=h.return}for(;b!==null;){if(h=gn(b),h===null)return;if(k=h.tag,k===5||k===6){o=u=h;continue e}b=b.parentNode}}o=o.return}pa(function(){var L=u,K=Ln(n),q=[];e:{var H=iu.get(e);if(H!==void 0){var he=sl,Ne=e;switch(e){case"keypress":if(Sa(n)===0)break e;case"keydown":case"keyup":he=qm;break;case"focusin":Ne="focus",he=ll;break;case"focusout":Ne="blur",he=ll;break;case"beforeblur":case"afterblur":he=ll;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=th;break;case su:case au:case ou:he=$m;break;case lu:he=nh;break;case"scroll":he=Mm;break;case"wheel":he=ah;break;case"copy":case"cut":case"paste":he=Hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Bc}var ke=(t&4)!==0,mt=!ke&&e==="scroll",R=ke?H!==null?H+"Capture":null:H;ke=[];for(var E=L,D;E!==null;){D=E;var re=D.stateNode;if(D.tag===5&&re!==null&&(D=re,R!==null&&(re=pn(E,R),re!=null&&ke.push(zs(E,re,D)))),mt)break;E=E.return}0<ke.length&&(H=new he(H,Ne,null,n,K),q.push({event:H,listeners:ke}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",he=e==="mouseout"||e==="pointerout",H&&n!==Fn&&(Ne=n.relatedTarget||n.fromElement)&&(gn(Ne)||Ne[kr]))break e;if((he||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,he?(Ne=n.relatedTarget||n.toElement,he=L,Ne=Ne?gn(Ne):null,Ne!==null&&(mt=Q(Ne),Ne!==mt||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(he=null,Ne=L),he!==Ne)){if(ke=Mc,re="onMouseLeave",R="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ke=Bc,re="onPointerLeave",R="onPointerEnter",E="pointer"),mt=he==null?H:Vn(he),D=Ne==null?H:Vn(Ne),H=new ke(re,E+"leave",he,n,K),H.target=mt,H.relatedTarget=D,re=null,gn(K)===L&&(ke=new ke(R,E+"enter",Ne,n,K),ke.target=D,ke.relatedTarget=mt,re=ke),mt=re,he&&Ne)t:{for(ke=he,R=Ne,E=0,D=ke;D;D=Wn(D))E++;for(D=0,re=R;re;re=Wn(re))D++;for(;0<E-D;)ke=Wn(ke),E--;for(;0<D-E;)R=Wn(R),D--;for(;E--;){if(ke===R||R!==null&&ke===R.alternate)break t;ke=Wn(ke),R=Wn(R)}ke=null}else ke=null;he!==null&&pu(q,H,he,ke,!1),Ne!==null&&mt!==null&&pu(q,mt,Ne,ke,!0)}}e:{if(H=L?Vn(L):window,he=H.nodeName&&H.nodeName.toLowerCase(),he==="select"||he==="input"&&H.type==="file")var Ee=fh;else if(Gc(H))if(Qc)Ee=gh;else{Ee=mh;var _e=ph}else(he=H.nodeName)&&he.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(Ee=hh);if(Ee&&(Ee=Ee(e,L))){Kc(q,Ee,n,K);break e}_e&&_e(e,H,L),e==="focusout"&&(_e=H._wrapperState)&&_e.controlled&&H.type==="number"&&it(H,"number",H.value)}switch(_e=L?Vn(L):window,e){case"focusin":(Gc(_e)||_e.contentEditable==="true")&&(Bn=_e,pl=L,Is=null);break;case"focusout":Is=pl=Bn=null;break;case"mousedown":ml=!0;break;case"contextmenu":case"mouseup":case"dragend":ml=!1,ru(q,n,K);break;case"selectionchange":if(vh)break;case"keydown":case"keyup":ru(q,n,K)}var Ae;if(cl)e:{switch(e){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else zn?Vc(e,n)&&(Fe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Fe="onCompositionStart");Fe&&(Uc&&n.locale!=="ko"&&(zn||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&zn&&(Ae=Ic()):($r=K,nl="value"in $r?$r.value:$r.textContent,zn=!0)),_e=Aa(L,Fe),0<_e.length&&(Fe=new zc(Fe,e,null,n,K),q.push({event:Fe,listeners:_e}),Ae?Fe.data=Ae:(Ae=Hc(n),Ae!==null&&(Fe.data=Ae)))),(Ae=lh?ih(e,n):ch(e,n))&&(L=Aa(L,"onBeforeInput"),0<L.length&&(K=new zc("onBeforeInput","beforeinput",null,n,K),q.push({event:K,listeners:L}),K.data=Ae))}du(q,t)})}function zs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Aa(e,t){for(var n=t+"Capture",o=[];e!==null;){var i=e,u=i.stateNode;i.tag===5&&u!==null&&(i=u,u=pn(e,n),u!=null&&o.unshift(zs(e,u,i)),u=pn(e,t),u!=null&&o.push(zs(e,u,i))),e=e.return}return o}function Wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pu(e,t,n,o,i){for(var u=t._reactName,h=[];n!==null&&n!==o;){var b=n,k=b.alternate,L=b.stateNode;if(k!==null&&k===o)break;b.tag===5&&L!==null&&(b=L,i?(k=pn(n,u),k!=null&&h.unshift(zs(n,k,b))):i||(k=pn(n,u),k!=null&&h.push(zs(n,k,b)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Nh=/\r\n?/g,Sh=/\u0000|\uFFFD/g;function mu(e){return(typeof e=="string"?e:""+e).replace(Nh,`
`).replace(Sh,"")}function Ra(e,t,n){if(t=mu(t),mu(e)!==t&&n)throw Error(a(425))}function Da(){}var bl=null,wl=null;function jl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nl=typeof setTimeout=="function"?setTimeout:void 0,kh=typeof clearTimeout=="function"?clearTimeout:void 0,hu=typeof Promise=="function"?Promise:void 0,Ch=typeof queueMicrotask=="function"?queueMicrotask:typeof hu<"u"?function(e){return hu.resolve(null).then(e).catch(Eh)}:Nl;function Eh(e){setTimeout(function(){throw e})}function Sl(e,t){var n=t,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(o===0){e.removeChild(i),Ts(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=i}while(n);Ts(t)}function Hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $n=Math.random().toString(36).slice(2),gr="__reactFiber$"+$n,Bs="__reactProps$"+$n,kr="__reactContainer$"+$n,kl="__reactEvents$"+$n,Ph="__reactListeners$"+$n,Th="__reactHandles$"+$n;function gn(e){var t=e[gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kr]||n[gr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gu(e);e!==null;){if(n=e[gr])return n;e=gu(e)}return t}e=n,n=e.parentNode}return null}function Us(e){return e=e[gr]||e[kr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Fa(e){return e[Bs]||null}var Cl=[],Hn=-1;function Gr(e){return{current:e}}function at(e){0>Hn||(e.current=Cl[Hn],Cl[Hn]=null,Hn--)}function nt(e,t){Hn++,Cl[Hn]=e.current,e.current=t}var Kr={},Et=Gr(Kr),It=Gr(!1),yn=Kr;function Gn(e,t){var n=e.type.contextTypes;if(!n)return Kr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var i={},u;for(u in n)i[u]=t[u];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ot(e){return e=e.childContextTypes,e!=null}function La(){at(It),at(Et)}function yu(e,t,n){if(Et.current!==Kr)throw Error(a(168));nt(Et,t),nt(It,n)}function xu(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var i in o)if(!(i in t))throw Error(a(108,Qe(e)||"Unknown",i));return ee({},n,o)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kr,yn=Et.current,nt(Et,e),nt(It,It.current),!0}function vu(e,t,n){var o=e.stateNode;if(!o)throw Error(a(169));n?(e=xu(e,t,yn),o.__reactInternalMemoizedMergedChildContext=e,at(It),at(Et),nt(Et,e)):at(It),nt(It,n)}var Cr=null,Oa=!1,El=!1;function bu(e){Cr===null?Cr=[e]:Cr.push(e)}function _h(e){Oa=!0,bu(e)}function Qr(){if(!El&&Cr!==null){El=!0;var e=0,t=tt;try{var n=Cr;for(tt=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Cr=null,Oa=!1}catch(i){throw Cr!==null&&(Cr=Cr.slice(e+1)),ce(Lt,Qr),i}finally{tt=t,El=!1}}return null}var Kn=[],Qn=0,Ma=null,za=0,Jt=[],Xt=0,xn=null,Er=1,Pr="";function vn(e,t){Kn[Qn++]=za,Kn[Qn++]=Ma,Ma=e,za=t}function wu(e,t,n){Jt[Xt++]=Er,Jt[Xt++]=Pr,Jt[Xt++]=xn,xn=e;var o=Er;e=Pr;var i=32-sr(o)-1;o&=~(1<<i),n+=1;var u=32-sr(t)+i;if(30<u){var h=i-i%5;u=(o&(1<<h)-1).toString(32),o>>=h,i-=h,Er=1<<32-sr(t)+i|n<<i|o,Pr=u+e}else Er=1<<u|n<<i|o,Pr=e}function Pl(e){e.return!==null&&(vn(e,1),wu(e,1,0))}function Tl(e){for(;e===Ma;)Ma=Kn[--Qn],Kn[Qn]=null,za=Kn[--Qn],Kn[Qn]=null;for(;e===xn;)xn=Jt[--Xt],Jt[Xt]=null,Pr=Jt[--Xt],Jt[Xt]=null,Er=Jt[--Xt],Jt[Xt]=null}var Vt=null,Ht=null,lt=!1,or=null;function ju(e,t){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vt=e,Ht=Hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vt=e,Ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xn!==null?{id:Er,overflow:Pr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vt=e,Ht=null,!0):!1;default:return!1}}function _l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Al(e){if(lt){var t=Ht;if(t){var n=t;if(!Nu(e,t)){if(_l(e))throw Error(a(418));t=Hr(n.nextSibling);var o=Vt;t&&Nu(e,t)?ju(o,n):(e.flags=e.flags&-4097|2,lt=!1,Vt=e)}}else{if(_l(e))throw Error(a(418));e.flags=e.flags&-4097|2,lt=!1,Vt=e}}}function Su(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vt=e}function Ba(e){if(e!==Vt)return!1;if(!lt)return Su(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jl(e.type,e.memoizedProps)),t&&(t=Ht)){if(_l(e))throw ku(),Error(a(418));for(;t;)ju(e,t),t=Hr(t.nextSibling)}if(Su(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ht=Hr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ht=null}}else Ht=Vt?Hr(e.stateNode.nextSibling):null;return!0}function ku(){for(var e=Ht;e;)e=Hr(e.nextSibling)}function Yn(){Ht=Vt=null,lt=!1}function Rl(e){or===null?or=[e]:or.push(e)}var Ah=se.ReactCurrentBatchConfig;function Ws(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var o=n.stateNode}if(!o)throw Error(a(147,e));var i=o,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(h){var b=i.refs;h===null?delete b[u]:b[u]=h},t._stringRef=u,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ua(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cu(e){var t=e._init;return t(e._payload)}function Eu(e){function t(R,E){if(e){var D=R.deletions;D===null?(R.deletions=[E],R.flags|=16):D.push(E)}}function n(R,E){if(!e)return null;for(;E!==null;)t(R,E),E=E.sibling;return null}function o(R,E){for(R=new Map;E!==null;)E.key!==null?R.set(E.key,E):R.set(E.index,E),E=E.sibling;return R}function i(R,E){return R=rn(R,E),R.index=0,R.sibling=null,R}function u(R,E,D){return R.index=D,e?(D=R.alternate,D!==null?(D=D.index,D<E?(R.flags|=2,E):D):(R.flags|=2,E)):(R.flags|=1048576,E)}function h(R){return e&&R.alternate===null&&(R.flags|=2),R}function b(R,E,D,re){return E===null||E.tag!==6?(E=Ni(D,R.mode,re),E.return=R,E):(E=i(E,D),E.return=R,E)}function k(R,E,D,re){var Ee=D.type;return Ee===O?K(R,E,D.props.children,re,D.key):E!==null&&(E.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===J&&Cu(Ee)===E.type)?(re=i(E,D.props),re.ref=Ws(R,E,D),re.return=R,re):(re=fo(D.type,D.key,D.props,null,R.mode,re),re.ref=Ws(R,E,D),re.return=R,re)}function L(R,E,D,re){return E===null||E.tag!==4||E.stateNode.containerInfo!==D.containerInfo||E.stateNode.implementation!==D.implementation?(E=Si(D,R.mode,re),E.return=R,E):(E=i(E,D.children||[]),E.return=R,E)}function K(R,E,D,re,Ee){return E===null||E.tag!==7?(E=En(D,R.mode,re,Ee),E.return=R,E):(E=i(E,D),E.return=R,E)}function q(R,E,D){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Ni(""+E,R.mode,D),E.return=R,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ae:return D=fo(E.type,E.key,E.props,null,R.mode,D),D.ref=Ws(R,null,E),D.return=R,D;case Ce:return E=Si(E,R.mode,D),E.return=R,E;case J:var re=E._init;return q(R,re(E._payload),D)}if(et(E)||ie(E))return E=En(E,R.mode,D,null),E.return=R,E;Ua(R,E)}return null}function H(R,E,D,re){var Ee=E!==null?E.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return Ee!==null?null:b(R,E,""+D,re);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ae:return D.key===Ee?k(R,E,D,re):null;case Ce:return D.key===Ee?L(R,E,D,re):null;case J:return Ee=D._init,H(R,E,Ee(D._payload),re)}if(et(D)||ie(D))return Ee!==null?null:K(R,E,D,re,null);Ua(R,D)}return null}function he(R,E,D,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number")return R=R.get(D)||null,b(E,R,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ae:return R=R.get(re.key===null?D:re.key)||null,k(E,R,re,Ee);case Ce:return R=R.get(re.key===null?D:re.key)||null,L(E,R,re,Ee);case J:var _e=re._init;return he(R,E,D,_e(re._payload),Ee)}if(et(re)||ie(re))return R=R.get(D)||null,K(E,R,re,Ee,null);Ua(E,re)}return null}function Ne(R,E,D,re){for(var Ee=null,_e=null,Ae=E,Fe=E=0,wt=null;Ae!==null&&Fe<D.length;Fe++){Ae.index>Fe?(wt=Ae,Ae=null):wt=Ae.sibling;var Xe=H(R,Ae,D[Fe],re);if(Xe===null){Ae===null&&(Ae=wt);break}e&&Ae&&Xe.alternate===null&&t(R,Ae),E=u(Xe,E,Fe),_e===null?Ee=Xe:_e.sibling=Xe,_e=Xe,Ae=wt}if(Fe===D.length)return n(R,Ae),lt&&vn(R,Fe),Ee;if(Ae===null){for(;Fe<D.length;Fe++)Ae=q(R,D[Fe],re),Ae!==null&&(E=u(Ae,E,Fe),_e===null?Ee=Ae:_e.sibling=Ae,_e=Ae);return lt&&vn(R,Fe),Ee}for(Ae=o(R,Ae);Fe<D.length;Fe++)wt=he(Ae,R,Fe,D[Fe],re),wt!==null&&(e&&wt.alternate!==null&&Ae.delete(wt.key===null?Fe:wt.key),E=u(wt,E,Fe),_e===null?Ee=wt:_e.sibling=wt,_e=wt);return e&&Ae.forEach(function(nn){return t(R,nn)}),lt&&vn(R,Fe),Ee}function ke(R,E,D,re){var Ee=ie(D);if(typeof Ee!="function")throw Error(a(150));if(D=Ee.call(D),D==null)throw Error(a(151));for(var _e=Ee=null,Ae=E,Fe=E=0,wt=null,Xe=D.next();Ae!==null&&!Xe.done;Fe++,Xe=D.next()){Ae.index>Fe?(wt=Ae,Ae=null):wt=Ae.sibling;var nn=H(R,Ae,Xe.value,re);if(nn===null){Ae===null&&(Ae=wt);break}e&&Ae&&nn.alternate===null&&t(R,Ae),E=u(nn,E,Fe),_e===null?Ee=nn:_e.sibling=nn,_e=nn,Ae=wt}if(Xe.done)return n(R,Ae),lt&&vn(R,Fe),Ee;if(Ae===null){for(;!Xe.done;Fe++,Xe=D.next())Xe=q(R,Xe.value,re),Xe!==null&&(E=u(Xe,E,Fe),_e===null?Ee=Xe:_e.sibling=Xe,_e=Xe);return lt&&vn(R,Fe),Ee}for(Ae=o(R,Ae);!Xe.done;Fe++,Xe=D.next())Xe=he(Ae,R,Fe,Xe.value,re),Xe!==null&&(e&&Xe.alternate!==null&&Ae.delete(Xe.key===null?Fe:Xe.key),E=u(Xe,E,Fe),_e===null?Ee=Xe:_e.sibling=Xe,_e=Xe);return e&&Ae.forEach(function(ug){return t(R,ug)}),lt&&vn(R,Fe),Ee}function mt(R,E,D,re){if(typeof D=="object"&&D!==null&&D.type===O&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case ae:e:{for(var Ee=D.key,_e=E;_e!==null;){if(_e.key===Ee){if(Ee=D.type,Ee===O){if(_e.tag===7){n(R,_e.sibling),E=i(_e,D.props.children),E.return=R,R=E;break e}}else if(_e.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===J&&Cu(Ee)===_e.type){n(R,_e.sibling),E=i(_e,D.props),E.ref=Ws(R,_e,D),E.return=R,R=E;break e}n(R,_e);break}else t(R,_e);_e=_e.sibling}D.type===O?(E=En(D.props.children,R.mode,re,D.key),E.return=R,R=E):(re=fo(D.type,D.key,D.props,null,R.mode,re),re.ref=Ws(R,E,D),re.return=R,R=re)}return h(R);case Ce:e:{for(_e=D.key;E!==null;){if(E.key===_e)if(E.tag===4&&E.stateNode.containerInfo===D.containerInfo&&E.stateNode.implementation===D.implementation){n(R,E.sibling),E=i(E,D.children||[]),E.return=R,R=E;break e}else{n(R,E);break}else t(R,E);E=E.sibling}E=Si(D,R.mode,re),E.return=R,R=E}return h(R);case J:return _e=D._init,mt(R,E,_e(D._payload),re)}if(et(D))return Ne(R,E,D,re);if(ie(D))return ke(R,E,D,re);Ua(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,E!==null&&E.tag===6?(n(R,E.sibling),E=i(E,D),E.return=R,R=E):(n(R,E),E=Ni(D,R.mode,re),E.return=R,R=E),h(R)):n(R,E)}return mt}var Jn=Eu(!0),Pu=Eu(!1),Wa=Gr(null),$a=null,Xn=null,Dl=null;function Fl(){Dl=Xn=$a=null}function Ll(e){var t=Wa.current;at(Wa),e._currentValue=t}function Il(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function qn(e,t){$a=e,Dl=Xn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Mt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(Dl!==e)if(e={context:e,memoizedValue:t,next:null},Xn===null){if($a===null)throw Error(a(308));Xn=e,$a.dependencies={lanes:0,firstContext:e}}else Xn=Xn.next=e;return t}var bn=null;function Ol(e){bn===null?bn=[e]:bn.push(e)}function Tu(e,t,n,o){var i=t.interleaved;return i===null?(n.next=n,Ol(t)):(n.next=i.next,i.next=n),t.interleaved=n,Tr(e,o)}function Tr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yr=!1;function Ml(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var i=o.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),o.pending=t,Tr(e,n)}return i=o.interleaved,i===null?(t.next=t,Ol(o)):(t.next=i.next,i.next=t),o.interleaved=t,Tr(e,n)}function Va(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,qo(e,n)}}function Au(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var i=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?i=u=h:u=u.next=h,n=n.next}while(n!==null);u===null?i=u=t:u=u.next=t}else i=u=t;n={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,o){var i=e.updateQueue;Yr=!1;var u=i.firstBaseUpdate,h=i.lastBaseUpdate,b=i.shared.pending;if(b!==null){i.shared.pending=null;var k=b,L=k.next;k.next=null,h===null?u=L:h.next=L,h=k;var K=e.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==h&&(b===null?K.firstBaseUpdate=L:b.next=L,K.lastBaseUpdate=k))}if(u!==null){var q=i.baseState;h=0,K=L=k=null,b=u;do{var H=b.lane,he=b.eventTime;if((o&H)===H){K!==null&&(K=K.next={eventTime:he,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var Ne=e,ke=b;switch(H=t,he=n,ke.tag){case 1:if(Ne=ke.payload,typeof Ne=="function"){q=Ne.call(he,q,H);break e}q=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=ke.payload,H=typeof Ne=="function"?Ne.call(he,q,H):Ne,H==null)break e;q=ee({},q,H);break e;case 2:Yr=!0}}b.callback!==null&&b.lane!==0&&(e.flags|=64,H=i.effects,H===null?i.effects=[b]:H.push(b))}else he={eventTime:he,lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(L=K=he,k=q):K=K.next=he,h|=H;if(b=b.next,b===null){if(b=i.shared.pending,b===null)break;H=b,b=H.next,H.next=null,i.lastBaseUpdate=H,i.shared.pending=null}}while(!0);if(K===null&&(k=q),i.baseState=k,i.firstBaseUpdate=L,i.lastBaseUpdate=K,t=i.shared.interleaved,t!==null){i=t;do h|=i.lane,i=i.next;while(i!==t)}else u===null&&(i.shared.lanes=0);Nn|=h,e.lanes=h,e.memoizedState=q}}function Ru(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],i=o.callback;if(i!==null){if(o.callback=null,o=n,typeof i!="function")throw Error(a(191,i));i.call(o)}}}var $s={},yr=Gr($s),Vs=Gr($s),Hs=Gr($s);function wn(e){if(e===$s)throw Error(a(174));return e}function zl(e,t){switch(nt(Hs,t),nt(Vs,e),nt(yr,$s),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ir(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ir(t,e)}at(yr),nt(yr,t)}function Zn(){at(yr),at(Vs),at(Hs)}function Du(e){wn(Hs.current);var t=wn(yr.current),n=Ir(t,e.type);t!==n&&(nt(Vs,e),nt(yr,n))}function Bl(e){Vs.current===e&&(at(yr),at(Vs))}var ut=Gr(0);function Ga(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ul=[];function Wl(){for(var e=0;e<Ul.length;e++)Ul[e]._workInProgressVersionPrimary=null;Ul.length=0}var Ka=se.ReactCurrentDispatcher,$l=se.ReactCurrentBatchConfig,jn=0,dt=null,gt=null,vt=null,Qa=!1,Gs=!1,Ks=0,Rh=0;function Pt(){throw Error(a(321))}function Vl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Hl(e,t,n,o,i,u){if(jn=u,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ka.current=e===null||e.memoizedState===null?Ih:Oh,e=n(o,i),Gs){u=0;do{if(Gs=!1,Ks=0,25<=u)throw Error(a(301));u+=1,vt=gt=null,t.updateQueue=null,Ka.current=Mh,e=n(o,i)}while(Gs)}if(Ka.current=Xa,t=gt!==null&&gt.next!==null,jn=0,vt=gt=dt=null,Qa=!1,t)throw Error(a(300));return e}function Gl(){var e=Ks!==0;return Ks=0,e}function xr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?dt.memoizedState=vt=e:vt=vt.next=e,vt}function Zt(){if(gt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=vt===null?dt.memoizedState:vt.next;if(t!==null)vt=t,gt=e;else{if(e===null)throw Error(a(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},vt===null?dt.memoizedState=vt=e:vt=vt.next=e}return vt}function Qs(e,t){return typeof t=="function"?t(e):t}function Kl(e){var t=Zt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var o=gt,i=o.baseQueue,u=n.pending;if(u!==null){if(i!==null){var h=i.next;i.next=u.next,u.next=h}o.baseQueue=i=u,n.pending=null}if(i!==null){u=i.next,o=o.baseState;var b=h=null,k=null,L=u;do{var K=L.lane;if((jn&K)===K)k!==null&&(k=k.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),o=L.hasEagerState?L.eagerState:e(o,L.action);else{var q={lane:K,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};k===null?(b=k=q,h=o):k=k.next=q,dt.lanes|=K,Nn|=K}L=L.next}while(L!==null&&L!==u);k===null?h=o:k.next=b,ar(o,t.memoizedState)||(Mt=!0),t.memoizedState=o,t.baseState=h,t.baseQueue=k,n.lastRenderedState=o}if(e=n.interleaved,e!==null){i=e;do u=i.lane,dt.lanes|=u,Nn|=u,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ql(e){var t=Zt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,u=t.memoizedState;if(i!==null){n.pending=null;var h=i=i.next;do u=e(u,h.action),h=h.next;while(h!==i);ar(u,t.memoizedState)||(Mt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,o]}function Fu(){}function Lu(e,t){var n=dt,o=Zt(),i=t(),u=!ar(o.memoizedState,i);if(u&&(o.memoizedState=i,Mt=!0),o=o.queue,Yl(Mu.bind(null,n,o,e),[e]),o.getSnapshot!==t||u||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Ys(9,Ou.bind(null,n,o,i,t),void 0,null),bt===null)throw Error(a(349));(jn&30)!==0||Iu(n,t,i)}return i}function Iu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ou(e,t,n,o){t.value=n,t.getSnapshot=o,zu(t)&&Bu(e)}function Mu(e,t,n){return n(function(){zu(t)&&Bu(e)})}function zu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch{return!0}}function Bu(e){var t=Tr(e,1);t!==null&&ur(t,e,1,-1)}function Uu(e){var t=xr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e},t.queue=e,e=e.dispatch=Lh.bind(null,dt,e),[t.memoizedState,e]}function Ys(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Wu(){return Zt().memoizedState}function Ya(e,t,n,o){var i=xr();dt.flags|=e,i.memoizedState=Ys(1|t,n,void 0,o===void 0?null:o)}function Ja(e,t,n,o){var i=Zt();o=o===void 0?null:o;var u=void 0;if(gt!==null){var h=gt.memoizedState;if(u=h.destroy,o!==null&&Vl(o,h.deps)){i.memoizedState=Ys(t,n,u,o);return}}dt.flags|=e,i.memoizedState=Ys(1|t,n,u,o)}function $u(e,t){return Ya(8390656,8,e,t)}function Yl(e,t){return Ja(2048,8,e,t)}function Vu(e,t){return Ja(4,2,e,t)}function Hu(e,t){return Ja(4,4,e,t)}function Gu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ku(e,t,n){return n=n!=null?n.concat([e]):null,Ja(4,4,Gu.bind(null,t,e),n)}function Jl(){}function Qu(e,t){var n=Zt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Vl(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Yu(e,t){var n=Zt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Vl(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Ju(e,t,n){return(jn&21)===0?(e.baseState&&(e.baseState=!1,Mt=!0),e.memoizedState=n):(ar(n,t)||(n=Cc(),dt.lanes|=n,Nn|=n,e.baseState=!0),t)}function Dh(e,t){var n=tt;tt=n!==0&&4>n?n:4,e(!0);var o=$l.transition;$l.transition={};try{e(!1),t()}finally{tt=n,$l.transition=o}}function Xu(){return Zt().memoizedState}function Fh(e,t,n){var o=en(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},qu(e))Zu(t,n);else if(n=Tu(e,t,n,o),n!==null){var i=Rt();ur(n,e,o,i),ed(n,t,o)}}function Lh(e,t,n){var o=en(e),i={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(qu(e))Zu(t,i);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,b=u(h,n);if(i.hasEagerState=!0,i.eagerState=b,ar(b,h)){var k=t.interleaved;k===null?(i.next=i,Ol(t)):(i.next=k.next,k.next=i),t.interleaved=i;return}}catch{}finally{}n=Tu(e,t,i,o),n!==null&&(i=Rt(),ur(n,e,o,i),ed(n,t,o))}}function qu(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function Zu(e,t){Gs=Qa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ed(e,t,n){if((n&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,qo(e,n)}}var Xa={readContext:qt,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},Ih={readContext:qt,useCallback:function(e,t){return xr().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:$u,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ya(4194308,4,Gu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ya(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ya(4,2,e,t)},useMemo:function(e,t){var n=xr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=xr();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Fh.bind(null,dt,e),[o.memoizedState,e]},useRef:function(e){var t=xr();return e={current:e},t.memoizedState=e},useState:Uu,useDebugValue:Jl,useDeferredValue:function(e){return xr().memoizedState=e},useTransition:function(){var e=Uu(!1),t=e[0];return e=Dh.bind(null,e[1]),xr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=dt,i=xr();if(lt){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),bt===null)throw Error(a(349));(jn&30)!==0||Iu(o,t,n)}i.memoizedState=n;var u={value:n,getSnapshot:t};return i.queue=u,$u(Mu.bind(null,o,u,e),[e]),o.flags|=2048,Ys(9,Ou.bind(null,o,u,n,t),void 0,null),n},useId:function(){var e=xr(),t=bt.identifierPrefix;if(lt){var n=Pr,o=Er;n=(o&~(1<<32-sr(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ks++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Oh={readContext:qt,useCallback:Qu,useContext:qt,useEffect:Yl,useImperativeHandle:Ku,useInsertionEffect:Vu,useLayoutEffect:Hu,useMemo:Yu,useReducer:Kl,useRef:Wu,useState:function(){return Kl(Qs)},useDebugValue:Jl,useDeferredValue:function(e){var t=Zt();return Ju(t,gt.memoizedState,e)},useTransition:function(){var e=Kl(Qs)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:Fu,useSyncExternalStore:Lu,useId:Xu,unstable_isNewReconciler:!1},Mh={readContext:qt,useCallback:Qu,useContext:qt,useEffect:Yl,useImperativeHandle:Ku,useInsertionEffect:Vu,useLayoutEffect:Hu,useMemo:Yu,useReducer:Ql,useRef:Wu,useState:function(){return Ql(Qs)},useDebugValue:Jl,useDeferredValue:function(e){var t=Zt();return gt===null?t.memoizedState=e:Ju(t,gt.memoizedState,e)},useTransition:function(){var e=Ql(Qs)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:Fu,useSyncExternalStore:Lu,useId:Xu,unstable_isNewReconciler:!1};function lr(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xl(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qa={isMounted:function(e){return(e=e._reactInternals)?Q(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Rt(),i=en(e),u=_r(o,i);u.payload=t,n!=null&&(u.callback=n),t=Jr(e,u,i),t!==null&&(ur(t,e,i,o),Va(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Rt(),i=en(e),u=_r(o,i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Jr(e,u,i),t!==null&&(ur(t,e,i,o),Va(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),o=en(e),i=_r(n,o);i.tag=2,t!=null&&(i.callback=t),t=Jr(e,i,o),t!==null&&(ur(t,e,o,n),Va(t,e,o))}};function td(e,t,n,o,i,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,u,h):t.prototype&&t.prototype.isPureReactComponent?!Ls(n,o)||!Ls(i,u):!0}function rd(e,t,n){var o=!1,i=Kr,u=t.contextType;return typeof u=="object"&&u!==null?u=qt(u):(i=Ot(t)?yn:Et.current,o=t.contextTypes,u=(o=o!=null)?Gn(e,i):Kr),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qa,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=u),t}function nd(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&qa.enqueueReplaceState(t,t.state,null)}function ql(e,t,n,o){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ml(e);var u=t.contextType;typeof u=="object"&&u!==null?i.context=qt(u):(u=Ot(t)?yn:Et.current,i.context=Gn(e,u)),i.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Xl(e,t,u,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qa.enqueueReplaceState(i,i.state,null),Ha(e,n,i,o),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function es(e,t){try{var n="",o=t;do n+=Me(o),o=o.return;while(o);var i=n}catch(u){i=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:i,digest:null}}function Zl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ei(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zh=typeof WeakMap=="function"?WeakMap:Map;function sd(e,t,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){ao||(ao=!0,hi=o),ei(e,t)},n}function ad(e,t,n){n=_r(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var i=t.value;n.payload=function(){return o(i)},n.callback=function(){ei(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){ei(e,t),typeof o!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function od(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new zh;var i=new Set;o.set(t,i)}else i=o.get(t),i===void 0&&(i=new Set,o.set(t,i));i.has(n)||(i.add(n),e=Zh.bind(null,e,t,n),t.then(e,e))}function ld(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function id(e,t,n,o,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_r(-1,1),t.tag=2,Jr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Bh=se.ReactCurrentOwner,Mt=!1;function At(e,t,n,o){t.child=e===null?Pu(t,null,n,o):Jn(t,e.child,n,o)}function cd(e,t,n,o,i){n=n.render;var u=t.ref;return qn(t,i),o=Hl(e,t,n,o,u,i),n=Gl(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ar(e,t,i)):(lt&&n&&Pl(t),t.flags|=1,At(e,t,o,i),t.child)}function ud(e,t,n,o,i){if(e===null){var u=n.type;return typeof u=="function"&&!ji(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,dd(e,t,u,o,i)):(e=fo(n.type,null,o,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&i)===0){var h=u.memoizedProps;if(n=n.compare,n=n!==null?n:Ls,n(h,o)&&e.ref===t.ref)return Ar(e,t,i)}return t.flags|=1,e=rn(u,o),e.ref=t.ref,e.return=t,t.child=e}function dd(e,t,n,o,i){if(e!==null){var u=e.memoizedProps;if(Ls(u,o)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=o=u,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Mt=!0);else return t.lanes=e.lanes,Ar(e,t,i)}return ti(e,t,n,o,i)}function fd(e,t,n){var o=t.pendingProps,i=o.children,u=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(rs,Gt),Gt|=n;else{if((n&1073741824)===0)return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nt(rs,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=u!==null?u.baseLanes:n,nt(rs,Gt),Gt|=o}else u!==null?(o=u.baseLanes|n,t.memoizedState=null):o=n,nt(rs,Gt),Gt|=o;return At(e,t,i,n),t.child}function pd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ti(e,t,n,o,i){var u=Ot(n)?yn:Et.current;return u=Gn(t,u),qn(t,i),n=Hl(e,t,n,o,u,i),o=Gl(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ar(e,t,i)):(lt&&o&&Pl(t),t.flags|=1,At(e,t,n,i),t.child)}function md(e,t,n,o,i){if(Ot(n)){var u=!0;Ia(t)}else u=!1;if(qn(t,i),t.stateNode===null)eo(e,t),rd(t,n,o),ql(t,n,o,i),o=!0;else if(e===null){var h=t.stateNode,b=t.memoizedProps;h.props=b;var k=h.context,L=n.contextType;typeof L=="object"&&L!==null?L=qt(L):(L=Ot(n)?yn:Et.current,L=Gn(t,L));var K=n.getDerivedStateFromProps,q=typeof K=="function"||typeof h.getSnapshotBeforeUpdate=="function";q||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==o||k!==L)&&nd(t,h,o,L),Yr=!1;var H=t.memoizedState;h.state=H,Ha(t,o,h,i),k=t.memoizedState,b!==o||H!==k||It.current||Yr?(typeof K=="function"&&(Xl(t,n,K,o),k=t.memoizedState),(b=Yr||td(t,n,b,o,H,k,L))?(q||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=k),h.props=o,h.state=k,h.context=L,o=b):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{h=t.stateNode,_u(e,t),b=t.memoizedProps,L=t.type===t.elementType?b:lr(t.type,b),h.props=L,q=t.pendingProps,H=h.context,k=n.contextType,typeof k=="object"&&k!==null?k=qt(k):(k=Ot(n)?yn:Et.current,k=Gn(t,k));var he=n.getDerivedStateFromProps;(K=typeof he=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==q||H!==k)&&nd(t,h,o,k),Yr=!1,H=t.memoizedState,h.state=H,Ha(t,o,h,i);var Ne=t.memoizedState;b!==q||H!==Ne||It.current||Yr?(typeof he=="function"&&(Xl(t,n,he,o),Ne=t.memoizedState),(L=Yr||td(t,n,L,o,H,Ne,k)||!1)?(K||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,Ne,k),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,Ne,k)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Ne),h.props=o,h.state=Ne,h.context=k,o=L):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),o=!1)}return ri(e,t,n,o,u,i)}function ri(e,t,n,o,i,u){pd(e,t);var h=(t.flags&128)!==0;if(!o&&!h)return i&&vu(t,n,!1),Ar(e,t,u);o=t.stateNode,Bh.current=t;var b=h&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&h?(t.child=Jn(t,e.child,null,u),t.child=Jn(t,null,b,u)):At(e,t,b,u),t.memoizedState=o.state,i&&vu(t,n,!0),t.child}function hd(e){var t=e.stateNode;t.pendingContext?yu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yu(e,t.context,!1),zl(e,t.containerInfo)}function gd(e,t,n,o,i){return Yn(),Rl(i),t.flags|=256,At(e,t,n,o),t.child}var ni={dehydrated:null,treeContext:null,retryLane:0};function si(e){return{baseLanes:e,cachePool:null,transitions:null}}function yd(e,t,n){var o=t.pendingProps,i=ut.current,u=!1,h=(t.flags&128)!==0,b;if((b=h)||(b=e!==null&&e.memoizedState===null?!1:(i&2)!==0),b?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),nt(ut,i&1),e===null)return Al(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=o.children,e=o.fallback,u?(o=t.mode,u=t.child,h={mode:"hidden",children:h},(o&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=h):u=po(h,o,0,null),e=En(e,o,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=si(n),t.memoizedState=ni,e):ai(t,h));if(i=e.memoizedState,i!==null&&(b=i.dehydrated,b!==null))return Uh(e,t,h,o,b,i,n);if(u){u=o.fallback,h=t.mode,i=e.child,b=i.sibling;var k={mode:"hidden",children:o.children};return(h&1)===0&&t.child!==i?(o=t.child,o.childLanes=0,o.pendingProps=k,t.deletions=null):(o=rn(i,k),o.subtreeFlags=i.subtreeFlags&14680064),b!==null?u=rn(b,u):(u=En(u,h,n,null),u.flags|=2),u.return=t,o.return=t,o.sibling=u,t.child=o,o=u,u=t.child,h=e.child.memoizedState,h=h===null?si(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=e.childLanes&~n,t.memoizedState=ni,o}return u=e.child,e=u.sibling,o=rn(u,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function ai(e,t){return t=po({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Za(e,t,n,o){return o!==null&&Rl(o),Jn(t,e.child,null,n),e=ai(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uh(e,t,n,o,i,u,h){if(n)return t.flags&256?(t.flags&=-257,o=Zl(Error(a(422))),Za(e,t,h,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=o.fallback,i=t.mode,o=po({mode:"visible",children:o.children},i,0,null),u=En(u,i,h,null),u.flags|=2,o.return=t,u.return=t,o.sibling=u,t.child=o,(t.mode&1)!==0&&Jn(t,e.child,null,h),t.child.memoizedState=si(h),t.memoizedState=ni,u);if((t.mode&1)===0)return Za(e,t,h,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var b=o.dgst;return o=b,u=Error(a(419)),o=Zl(u,o,void 0),Za(e,t,h,o)}if(b=(h&e.childLanes)!==0,Mt||b){if(o=bt,o!==null){switch(h&-h){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(o.suspendedLanes|h))!==0?0:i,i!==0&&i!==u.retryLane&&(u.retryLane=i,Tr(e,i),ur(o,e,i,-1))}return wi(),o=Zl(Error(a(421))),Za(e,t,h,o)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=eg.bind(null,e),i._reactRetry=t,null):(e=u.treeContext,Ht=Hr(i.nextSibling),Vt=t,lt=!0,or=null,e!==null&&(Jt[Xt++]=Er,Jt[Xt++]=Pr,Jt[Xt++]=xn,Er=e.id,Pr=e.overflow,xn=t),t=ai(t,o.children),t.flags|=4096,t)}function xd(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Il(e.return,t,n)}function oi(e,t,n,o,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=n,u.tailMode=i)}function vd(e,t,n){var o=t.pendingProps,i=o.revealOrder,u=o.tail;if(At(e,t,o.children,n),o=ut.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xd(e,n,t);else if(e.tag===19)xd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(nt(ut,o),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ga(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),oi(t,!1,i,n,u);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ga(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}oi(t,!0,n,null,u);break;case"together":oi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function eo(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ar(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wh(e,t,n){switch(t.tag){case 3:hd(t),Yn();break;case 5:Du(t);break;case 1:Ot(t.type)&&Ia(t);break;case 4:zl(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,i=t.memoizedProps.value;nt(Wa,o._currentValue),o._currentValue=i;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(nt(ut,ut.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?yd(e,t,n):(nt(ut,ut.current&1),e=Ar(e,t,n),e!==null?e.sibling:null);nt(ut,ut.current&1);break;case 19:if(o=(n&t.childLanes)!==0,(e.flags&128)!==0){if(o)return vd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(ut,ut.current),o)break;return null;case 22:case 23:return t.lanes=0,fd(e,t,n)}return Ar(e,t,n)}var bd,li,wd,jd;bd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},li=function(){},wd=function(e,t,n,o){var i=e.memoizedProps;if(i!==o){e=t.stateNode,wn(yr.current);var u=null;switch(n){case"input":i=I(e,i),o=I(e,o),u=[];break;case"select":i=ee({},i,{value:void 0}),o=ee({},o,{value:void 0}),u=[];break;case"textarea":i=dn(e,i),o=dn(e,o),u=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Da)}Sr(n,o);var h;n=null;for(L in i)if(!o.hasOwnProperty(L)&&i.hasOwnProperty(L)&&i[L]!=null)if(L==="style"){var b=i[L];for(h in b)b.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(d.hasOwnProperty(L)?u||(u=[]):(u=u||[]).push(L,null));for(L in o){var k=o[L];if(b=i?.[L],o.hasOwnProperty(L)&&k!==b&&(k!=null||b!=null))if(L==="style")if(b){for(h in b)!b.hasOwnProperty(h)||k&&k.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in k)k.hasOwnProperty(h)&&b[h]!==k[h]&&(n||(n={}),n[h]=k[h])}else n||(u||(u=[]),u.push(L,n)),n=k;else L==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,b=b?b.__html:void 0,k!=null&&b!==k&&(u=u||[]).push(L,k)):L==="children"?typeof k!="string"&&typeof k!="number"||(u=u||[]).push(L,""+k):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(d.hasOwnProperty(L)?(k!=null&&L==="onScroll"&&st("scroll",e),u||b===k||(u=[])):(u=u||[]).push(L,k))}n&&(u=u||[]).push("style",n);var L=u;(t.updateQueue=L)&&(t.flags|=4)}},jd=function(e,t,n,o){n!==o&&(t.flags|=4)};function Js(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function $h(e,t,n){var o=t.pendingProps;switch(Tl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Ot(t.type)&&La(),Tt(t),null;case 3:return o=t.stateNode,Zn(),at(It),at(Et),Wl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ba(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,or!==null&&(xi(or),or=null))),li(e,t),Tt(t),null;case 5:Bl(t);var i=wn(Hs.current);if(n=t.type,e!==null&&t.stateNode!=null)wd(e,t,n,o,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(a(166));return Tt(t),null}if(e=wn(yr.current),Ba(t)){o=t.stateNode,n=t.type;var u=t.memoizedProps;switch(o[gr]=t,o[Bs]=u,e=(t.mode&1)!==0,n){case"dialog":st("cancel",o),st("close",o);break;case"iframe":case"object":case"embed":st("load",o);break;case"video":case"audio":for(i=0;i<Os.length;i++)st(Os[i],o);break;case"source":st("error",o);break;case"img":case"image":case"link":st("error",o),st("load",o);break;case"details":st("toggle",o);break;case"input":le(o,u),st("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},st("invalid",o);break;case"textarea":Ft(o,u),st("invalid",o)}Sr(n,u),i=null;for(var h in u)if(u.hasOwnProperty(h)){var b=u[h];h==="children"?typeof b=="string"?o.textContent!==b&&(u.suppressHydrationWarning!==!0&&Ra(o.textContent,b,e),i=["children",b]):typeof b=="number"&&o.textContent!==""+b&&(u.suppressHydrationWarning!==!0&&Ra(o.textContent,b,e),i=["children",""+b]):d.hasOwnProperty(h)&&b!=null&&h==="onScroll"&&st("scroll",o)}switch(n){case"input":Ze(o),Pe(o,u,!0);break;case"textarea":Ze(o),jr(o);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(o.onclick=Da)}o=i,t.updateQueue=o,o!==null&&(t.flags|=4)}else{h=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nr(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=h.createElement(n,{is:o.is}):(e=h.createElement(n),n==="select"&&(h=e,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):e=h.createElementNS(e,n),e[gr]=t,e[Bs]=o,bd(e,t,!1,!1),t.stateNode=e;e:{switch(h=fn(n,o),n){case"dialog":st("cancel",e),st("close",e),i=o;break;case"iframe":case"object":case"embed":st("load",e),i=o;break;case"video":case"audio":for(i=0;i<Os.length;i++)st(Os[i],e);i=o;break;case"source":st("error",e),i=o;break;case"img":case"image":case"link":st("error",e),st("load",e),i=o;break;case"details":st("toggle",e),i=o;break;case"input":le(e,o),i=I(e,o),st("invalid",e);break;case"option":i=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=ee({},o,{value:void 0}),st("invalid",e);break;case"textarea":Ft(e,o),i=dn(e,o),st("invalid",e);break;default:i=o}Sr(n,i),b=i;for(u in b)if(b.hasOwnProperty(u)){var k=b[u];u==="style"?pr(e,k):u==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&X(e,k)):u==="children"?typeof k=="string"?(n!=="textarea"||k!=="")&&pe(e,k):typeof k=="number"&&pe(e,""+k):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(d.hasOwnProperty(u)?k!=null&&u==="onScroll"&&st("scroll",e):k!=null&&ue(e,u,k,h))}switch(n){case"input":Ze(e),Pe(e,o,!1);break;case"textarea":Ze(e),jr(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Ie(o.value));break;case"select":e.multiple=!!o.multiple,u=o.value,u!=null?jt(e,!!o.multiple,u,!1):o.defaultValue!=null&&jt(e,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Da)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)jd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(a(166));if(n=wn(Hs.current),wn(yr.current),Ba(t)){if(o=t.stateNode,n=t.memoizedProps,o[gr]=t,(u=o.nodeValue!==n)&&(e=Vt,e!==null))switch(e.tag){case 3:Ra(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ra(o.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[gr]=t,t.stateNode=o}return Tt(t),null;case 13:if(at(ut),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&Ht!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ku(),Yn(),t.flags|=98560,u=!1;else if(u=Ba(t),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(a(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[gr]=t}else Yn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Tt(t),u=!1}else or!==null&&(xi(or),or=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ut.current&1)!==0?yt===0&&(yt=3):wi())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return Zn(),li(e,t),e===null&&Ms(t.stateNode.containerInfo),Tt(t),null;case 10:return Ll(t.type._context),Tt(t),null;case 17:return Ot(t.type)&&La(),Tt(t),null;case 19:if(at(ut),u=t.memoizedState,u===null)return Tt(t),null;if(o=(t.flags&128)!==0,h=u.rendering,h===null)if(o)Js(u,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Ga(e),h!==null){for(t.flags|=128,Js(u,!1),o=h.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)u=n,e=o,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,e=h.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return nt(ut,ut.current&1|2),t.child}e=e.sibling}u.tail!==null&&Re()>ns&&(t.flags|=128,o=!0,Js(u,!1),t.lanes=4194304)}else{if(!o)if(e=Ga(h),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Js(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!lt)return Tt(t),null}else 2*Re()-u.renderingStartTime>ns&&n!==1073741824&&(t.flags|=128,o=!0,Js(u,!1),t.lanes=4194304);u.isBackwards?(h.sibling=t.child,t.child=h):(n=u.last,n!==null?n.sibling=h:t.child=h,u.last=h)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Re(),t.sibling=null,n=ut.current,nt(ut,o?n&1|2:n&1),t):(Tt(t),null);case 22:case 23:return bi(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(Gt&1073741824)!==0&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function Vh(e,t){switch(Tl(t),t.tag){case 1:return Ot(t.type)&&La(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zn(),at(It),at(Et),Wl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Bl(t),null;case 13:if(at(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return at(ut),null;case 4:return Zn(),null;case 10:return Ll(t.type._context),null;case 22:case 23:return bi(),null;case 24:return null;default:return null}}var to=!1,_t=!1,Hh=typeof WeakSet=="function"?WeakSet:Set,we=null;function ts(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){pt(e,t,o)}else n.current=null}function ii(e,t,n){try{n()}catch(o){pt(e,t,o)}}var Nd=!1;function Gh(e,t){if(bl=wa,e=tu(),fl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var i=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var h=0,b=-1,k=-1,L=0,K=0,q=e,H=null;t:for(;;){for(var he;q!==n||i!==0&&q.nodeType!==3||(b=h+i),q!==u||o!==0&&q.nodeType!==3||(k=h+o),q.nodeType===3&&(h+=q.nodeValue.length),(he=q.firstChild)!==null;)H=q,q=he;for(;;){if(q===e)break t;if(H===n&&++L===i&&(b=h),H===u&&++K===o&&(k=h),(he=q.nextSibling)!==null)break;q=H,H=q.parentNode}q=he}n=b===-1||k===-1?null:{start:b,end:k}}else n=null}n=n||{start:0,end:0}}else n=null;for(wl={focusedElem:e,selectionRange:n},wa=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var Ne=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var ke=Ne.memoizedProps,mt=Ne.memoizedState,R=t.stateNode,E=R.getSnapshotBeforeUpdate(t.elementType===t.type?ke:lr(t.type,ke),mt);R.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var D=t.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(re){pt(t,t.return,re)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return Ne=Nd,Nd=!1,Ne}function Xs(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&e)===e){var u=i.destroy;i.destroy=void 0,u!==void 0&&ii(t,n,u)}i=i.next}while(i!==o)}}function ro(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function ci(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sd(e){var t=e.alternate;t!==null&&(e.alternate=null,Sd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gr],delete t[Bs],delete t[kl],delete t[Ph],delete t[Th])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kd(e){return e.tag===5||e.tag===3||e.tag===4}function Cd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ui(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Da));else if(o!==4&&(e=e.child,e!==null))for(ui(e,t,n),e=e.sibling;e!==null;)ui(e,t,n),e=e.sibling}function di(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(di(e,t,n),e=e.sibling;e!==null;)di(e,t,n),e=e.sibling}var Nt=null,ir=!1;function Xr(e,t,n){for(n=n.child;n!==null;)Ed(e,t,n),n=n.sibling}function Ed(e,t,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(ha,n)}catch{}switch(n.tag){case 5:_t||ts(n,t);case 6:var o=Nt,i=ir;Nt=null,Xr(e,t,n),Nt=o,ir=i,Nt!==null&&(ir?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(ir?(e=Nt,n=n.stateNode,e.nodeType===8?Sl(e.parentNode,n):e.nodeType===1&&Sl(e,n),Ts(e)):Sl(Nt,n.stateNode));break;case 4:o=Nt,i=ir,Nt=n.stateNode.containerInfo,ir=!0,Xr(e,t,n),Nt=o,ir=i;break;case 0:case 11:case 14:case 15:if(!_t&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var u=i,h=u.destroy;u=u.tag,h!==void 0&&((u&2)!==0||(u&4)!==0)&&ii(n,t,h),i=i.next}while(i!==o)}Xr(e,t,n);break;case 1:if(!_t&&(ts(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(b){pt(n,t,b)}Xr(e,t,n);break;case 21:Xr(e,t,n);break;case 22:n.mode&1?(_t=(o=_t)||n.memoizedState!==null,Xr(e,t,n),_t=o):Xr(e,t,n);break;default:Xr(e,t,n)}}function Pd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hh),t.forEach(function(o){var i=tg.bind(null,e,o);n.has(o)||(n.add(o),o.then(i,i))})}}function cr(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];try{var u=e,h=t,b=h;e:for(;b!==null;){switch(b.tag){case 5:Nt=b.stateNode,ir=!1;break e;case 3:Nt=b.stateNode.containerInfo,ir=!0;break e;case 4:Nt=b.stateNode.containerInfo,ir=!0;break e}b=b.return}if(Nt===null)throw Error(a(160));Ed(u,h,i),Nt=null,ir=!1;var k=i.alternate;k!==null&&(k.return=null),i.return=null}catch(L){pt(i,t,L)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Td(t,e),t=t.sibling}function Td(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cr(t,e),vr(e),o&4){try{Xs(3,e,e.return),ro(3,e)}catch(ke){pt(e,e.return,ke)}try{Xs(5,e,e.return)}catch(ke){pt(e,e.return,ke)}}break;case 1:cr(t,e),vr(e),o&512&&n!==null&&ts(n,n.return);break;case 5:if(cr(t,e),vr(e),o&512&&n!==null&&ts(n,n.return),e.flags&32){var i=e.stateNode;try{pe(i,"")}catch(ke){pt(e,e.return,ke)}}if(o&4&&(i=e.stateNode,i!=null)){var u=e.memoizedProps,h=n!==null?n.memoizedProps:u,b=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{b==="input"&&u.type==="radio"&&u.name!=null&&Be(i,u),fn(b,h);var L=fn(b,u);for(h=0;h<k.length;h+=2){var K=k[h],q=k[h+1];K==="style"?pr(i,q):K==="dangerouslySetInnerHTML"?X(i,q):K==="children"?pe(i,q):ue(i,K,q,L)}switch(b){case"input":De(i,u);break;case"textarea":Lr(i,u);break;case"select":var H=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!u.multiple;var he=u.value;he!=null?jt(i,!!u.multiple,he,!1):H!==!!u.multiple&&(u.defaultValue!=null?jt(i,!!u.multiple,u.defaultValue,!0):jt(i,!!u.multiple,u.multiple?[]:"",!1))}i[Bs]=u}catch(ke){pt(e,e.return,ke)}}break;case 6:if(cr(t,e),vr(e),o&4){if(e.stateNode===null)throw Error(a(162));i=e.stateNode,u=e.memoizedProps;try{i.nodeValue=u}catch(ke){pt(e,e.return,ke)}}break;case 3:if(cr(t,e),vr(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Ts(t.containerInfo)}catch(ke){pt(e,e.return,ke)}break;case 4:cr(t,e),vr(e);break;case 13:cr(t,e),vr(e),i=e.child,i.flags&8192&&(u=i.memoizedState!==null,i.stateNode.isHidden=u,!u||i.alternate!==null&&i.alternate.memoizedState!==null||(mi=Re())),o&4&&Pd(e);break;case 22:if(K=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(L=_t)||K,cr(t,e),_t=L):cr(t,e),vr(e),o&8192){if(L=e.memoizedState!==null,(e.stateNode.isHidden=L)&&!K&&(e.mode&1)!==0)for(we=e,K=e.child;K!==null;){for(q=we=K;we!==null;){switch(H=we,he=H.child,H.tag){case 0:case 11:case 14:case 15:Xs(4,H,H.return);break;case 1:ts(H,H.return);var Ne=H.stateNode;if(typeof Ne.componentWillUnmount=="function"){o=H,n=H.return;try{t=o,Ne.props=t.memoizedProps,Ne.state=t.memoizedState,Ne.componentWillUnmount()}catch(ke){pt(o,n,ke)}}break;case 5:ts(H,H.return);break;case 22:if(H.memoizedState!==null){Rd(q);continue}}he!==null?(he.return=H,we=he):Rd(q)}K=K.sibling}e:for(K=null,q=e;;){if(q.tag===5){if(K===null){K=q;try{i=q.stateNode,L?(u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(b=q.stateNode,k=q.memoizedProps.style,h=k!=null&&k.hasOwnProperty("display")?k.display:null,b.style.display=Oe("display",h))}catch(ke){pt(e,e.return,ke)}}}else if(q.tag===6){if(K===null)try{q.stateNode.nodeValue=L?"":q.memoizedProps}catch(ke){pt(e,e.return,ke)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===e)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===e)break e;for(;q.sibling===null;){if(q.return===null||q.return===e)break e;K===q&&(K=null),q=q.return}K===q&&(K=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:cr(t,e),vr(e),o&4&&Pd(e);break;case 21:break;default:cr(t,e),vr(e)}}function vr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kd(n)){var o=n;break e}n=n.return}throw Error(a(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(pe(i,""),o.flags&=-33);var u=Cd(e);di(e,u,i);break;case 3:case 4:var h=o.stateNode.containerInfo,b=Cd(e);ui(e,b,h);break;default:throw Error(a(161))}}catch(k){pt(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kh(e,t,n){we=e,_d(e)}function _d(e,t,n){for(var o=(e.mode&1)!==0;we!==null;){var i=we,u=i.child;if(i.tag===22&&o){var h=i.memoizedState!==null||to;if(!h){var b=i.alternate,k=b!==null&&b.memoizedState!==null||_t;b=to;var L=_t;if(to=h,(_t=k)&&!L)for(we=i;we!==null;)h=we,k=h.child,h.tag===22&&h.memoizedState!==null?Dd(i):k!==null?(k.return=h,we=k):Dd(i);for(;u!==null;)we=u,_d(u),u=u.sibling;we=i,to=b,_t=L}Ad(e)}else(i.subtreeFlags&8772)!==0&&u!==null?(u.return=i,we=u):Ad(e)}}function Ad(e){for(;we!==null;){var t=we;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:_t||ro(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!_t)if(n===null)o.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:lr(t.type,n.memoizedProps);o.componentDidUpdate(i,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Ru(t,u,o);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ru(t,h,n)}break;case 5:var b=t.stateNode;if(n===null&&t.flags&4){n=b;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&n.focus();break;case"img":k.src&&(n.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var L=t.alternate;if(L!==null){var K=L.memoizedState;if(K!==null){var q=K.dehydrated;q!==null&&Ts(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}_t||t.flags&512&&ci(t)}catch(H){pt(t,t.return,H)}}if(t===e){we=null;break}if(n=t.sibling,n!==null){n.return=t.return,we=n;break}we=t.return}}function Rd(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var n=t.sibling;if(n!==null){n.return=t.return,we=n;break}we=t.return}}function Dd(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ro(4,t)}catch(k){pt(t,n,k)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var i=t.return;try{o.componentDidMount()}catch(k){pt(t,i,k)}}var u=t.return;try{ci(t)}catch(k){pt(t,u,k)}break;case 5:var h=t.return;try{ci(t)}catch(k){pt(t,h,k)}}}catch(k){pt(t,t.return,k)}if(t===e){we=null;break}var b=t.sibling;if(b!==null){b.return=t.return,we=b;break}we=t.return}}var Qh=Math.ceil,no=se.ReactCurrentDispatcher,fi=se.ReactCurrentOwner,er=se.ReactCurrentBatchConfig,Ye=0,bt=null,ht=null,St=0,Gt=0,rs=Gr(0),yt=0,qs=null,Nn=0,so=0,pi=0,Zs=null,zt=null,mi=0,ns=1/0,Rr=null,ao=!1,hi=null,qr=null,oo=!1,Zr=null,lo=0,ea=0,gi=null,io=-1,co=0;function Rt(){return(Ye&6)!==0?Re():io!==-1?io:io=Re()}function en(e){return(e.mode&1)===0?1:(Ye&2)!==0&&St!==0?St&-St:Ah.transition!==null?(co===0&&(co=Cc()),co):(e=tt,e!==0||(e=window.event,e=e===void 0?16:Lc(e.type)),e)}function ur(e,t,n,o){if(50<ea)throw ea=0,gi=null,Error(a(185));Ss(e,n,o),((Ye&2)===0||e!==bt)&&(e===bt&&((Ye&2)===0&&(so|=n),yt===4&&tn(e,St)),Bt(e,o),n===1&&Ye===0&&(t.mode&1)===0&&(ns=Re()+500,Oa&&Qr()))}function Bt(e,t){var n=e.callbackNode;Am(e,t);var o=xa(e,e===bt?St:0);if(o===0)n!==null&&me(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&me(n),t===1)e.tag===0?_h(Ld.bind(null,e)):bu(Ld.bind(null,e)),Ch(function(){(Ye&6)===0&&Qr()}),n=null;else{switch(Ec(o)){case 1:n=Lt;break;case 4:n=js;break;case 16:n=ma;break;case 536870912:n=kc;break;default:n=ma}n=$d(n,Fd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fd(e,t){if(io=-1,co=0,(Ye&6)!==0)throw Error(a(327));var n=e.callbackNode;if(ss()&&e.callbackNode!==n)return null;var o=xa(e,e===bt?St:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=uo(e,o);else{t=o;var i=Ye;Ye|=2;var u=Od();(bt!==e||St!==t)&&(Rr=null,ns=Re()+500,kn(e,t));do try{Xh();break}catch(b){Id(e,b)}while(!0);Fl(),no.current=u,Ye=i,ht!==null?t=0:(bt=null,St=0,t=yt)}if(t!==0){if(t===2&&(i=Jo(e),i!==0&&(o=i,t=yi(e,i))),t===1)throw n=qs,kn(e,0),tn(e,o),Bt(e,Re()),n;if(t===6)tn(e,o);else{if(i=e.current.alternate,(o&30)===0&&!Yh(i)&&(t=uo(e,o),t===2&&(u=Jo(e),u!==0&&(o=u,t=yi(e,u))),t===1))throw n=qs,kn(e,0),tn(e,o),Bt(e,Re()),n;switch(e.finishedWork=i,e.finishedLanes=o,t){case 0:case 1:throw Error(a(345));case 2:Cn(e,zt,Rr);break;case 3:if(tn(e,o),(o&130023424)===o&&(t=mi+500-Re(),10<t)){if(xa(e,0)!==0)break;if(i=e.suspendedLanes,(i&o)!==o){Rt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Nl(Cn.bind(null,e,zt,Rr),t);break}Cn(e,zt,Rr);break;case 4:if(tn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,i=-1;0<o;){var h=31-sr(o);u=1<<h,h=t[h],h>i&&(i=h),o&=~u}if(o=i,o=Re()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Qh(o/1960))-o,10<o){e.timeoutHandle=Nl(Cn.bind(null,e,zt,Rr),o);break}Cn(e,zt,Rr);break;case 5:Cn(e,zt,Rr);break;default:throw Error(a(329))}}}return Bt(e,Re()),e.callbackNode===n?Fd.bind(null,e):null}function yi(e,t){var n=Zs;return e.current.memoizedState.isDehydrated&&(kn(e,t).flags|=256),e=uo(e,t),e!==2&&(t=zt,zt=n,t!==null&&xi(t)),e}function xi(e){zt===null?zt=e:zt.push.apply(zt,e)}function Yh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var i=n[o],u=i.getSnapshot;i=i.value;try{if(!ar(u(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~pi,t&=~so,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-sr(t),o=1<<n;e[n]=-1,t&=~o}}function Ld(e){if((Ye&6)!==0)throw Error(a(327));ss();var t=xa(e,0);if((t&1)===0)return Bt(e,Re()),null;var n=uo(e,t);if(e.tag!==0&&n===2){var o=Jo(e);o!==0&&(t=o,n=yi(e,o))}if(n===1)throw n=qs,kn(e,0),tn(e,t),Bt(e,Re()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,zt,Rr),Bt(e,Re()),null}function vi(e,t){var n=Ye;Ye|=1;try{return e(t)}finally{Ye=n,Ye===0&&(ns=Re()+500,Oa&&Qr())}}function Sn(e){Zr!==null&&Zr.tag===0&&(Ye&6)===0&&ss();var t=Ye;Ye|=1;var n=er.transition,o=tt;try{if(er.transition=null,tt=1,e)return e()}finally{tt=o,er.transition=n,Ye=t,(Ye&6)===0&&Qr()}}function bi(){Gt=rs.current,at(rs)}function kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kh(n)),ht!==null)for(n=ht.return;n!==null;){var o=n;switch(Tl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&La();break;case 3:Zn(),at(It),at(Et),Wl();break;case 5:Bl(o);break;case 4:Zn();break;case 13:at(ut);break;case 19:at(ut);break;case 10:Ll(o.type._context);break;case 22:case 23:bi()}n=n.return}if(bt=e,ht=e=rn(e.current,null),St=Gt=t,yt=0,qs=null,pi=so=Nn=0,zt=Zs=null,bn!==null){for(t=0;t<bn.length;t++)if(n=bn[t],o=n.interleaved,o!==null){n.interleaved=null;var i=o.next,u=n.pending;if(u!==null){var h=u.next;u.next=i,o.next=h}n.pending=o}bn=null}return e}function Id(e,t){do{var n=ht;try{if(Fl(),Ka.current=Xa,Qa){for(var o=dt.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}Qa=!1}if(jn=0,vt=gt=dt=null,Gs=!1,Ks=0,fi.current=null,n===null||n.return===null){yt=1,qs=t,ht=null;break}e:{var u=e,h=n.return,b=n,k=t;if(t=St,b.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var L=k,K=b,q=K.tag;if((K.mode&1)===0&&(q===0||q===11||q===15)){var H=K.alternate;H?(K.updateQueue=H.updateQueue,K.memoizedState=H.memoizedState,K.lanes=H.lanes):(K.updateQueue=null,K.memoizedState=null)}var he=ld(h);if(he!==null){he.flags&=-257,id(he,h,b,u,t),he.mode&1&&od(u,L,t),t=he,k=L;var Ne=t.updateQueue;if(Ne===null){var ke=new Set;ke.add(k),t.updateQueue=ke}else Ne.add(k);break e}else{if((t&1)===0){od(u,L,t),wi();break e}k=Error(a(426))}}else if(lt&&b.mode&1){var mt=ld(h);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),id(mt,h,b,u,t),Rl(es(k,b));break e}}u=k=es(k,b),yt!==4&&(yt=2),Zs===null?Zs=[u]:Zs.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var R=sd(u,k,t);Au(u,R);break e;case 1:b=k;var E=u.type,D=u.stateNode;if((u.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(qr===null||!qr.has(D)))){u.flags|=65536,t&=-t,u.lanes|=t;var re=ad(u,b,t);Au(u,re);break e}}u=u.return}while(u!==null)}zd(n)}catch(Ee){t=Ee,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function Od(){var e=no.current;return no.current=Xa,e===null?Xa:e}function wi(){(yt===0||yt===3||yt===2)&&(yt=4),bt===null||(Nn&268435455)===0&&(so&268435455)===0||tn(bt,St)}function uo(e,t){var n=Ye;Ye|=2;var o=Od();(bt!==e||St!==t)&&(Rr=null,kn(e,t));do try{Jh();break}catch(i){Id(e,i)}while(!0);if(Fl(),Ye=n,no.current=o,ht!==null)throw Error(a(261));return bt=null,St=0,yt}function Jh(){for(;ht!==null;)Md(ht)}function Xh(){for(;ht!==null&&!fe();)Md(ht)}function Md(e){var t=Wd(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?zd(e):ht=t,fi.current=null}function zd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=$h(n,t,Gt),n!==null){ht=n;return}}else{if(n=Vh(n,t),n!==null){n.flags&=32767,ht=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,ht=null;return}}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);yt===0&&(yt=5)}function Cn(e,t,n){var o=tt,i=er.transition;try{er.transition=null,tt=1,qh(e,t,n,o)}finally{er.transition=i,tt=o}return null}function qh(e,t,n,o){do ss();while(Zr!==null);if((Ye&6)!==0)throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(Rm(e,u),e===bt&&(ht=bt=null,St=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||oo||(oo=!0,$d(ma,function(){return ss(),null})),u=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||u){u=er.transition,er.transition=null;var h=tt;tt=1;var b=Ye;Ye|=4,fi.current=null,Gh(e,n),Td(n,e),xh(wl),wa=!!bl,wl=bl=null,e.current=n,Kh(n),qe(),Ye=b,tt=h,er.transition=u}else e.current=n;if(oo&&(oo=!1,Zr=e,lo=i),u=e.pendingLanes,u===0&&(qr=null),Cm(n.stateNode),Bt(e,Re()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],o(i.value,{componentStack:i.stack,digest:i.digest});if(ao)throw ao=!1,e=hi,hi=null,e;return(lo&1)!==0&&e.tag!==0&&ss(),u=e.pendingLanes,(u&1)!==0?e===gi?ea++:(ea=0,gi=e):ea=0,Qr(),null}function ss(){if(Zr!==null){var e=Ec(lo),t=er.transition,n=tt;try{if(er.transition=null,tt=16>e?16:e,Zr===null)var o=!1;else{if(e=Zr,Zr=null,lo=0,(Ye&6)!==0)throw Error(a(331));var i=Ye;for(Ye|=4,we=e.current;we!==null;){var u=we,h=u.child;if((we.flags&16)!==0){var b=u.deletions;if(b!==null){for(var k=0;k<b.length;k++){var L=b[k];for(we=L;we!==null;){var K=we;switch(K.tag){case 0:case 11:case 15:Xs(8,K,u)}var q=K.child;if(q!==null)q.return=K,we=q;else for(;we!==null;){K=we;var H=K.sibling,he=K.return;if(Sd(K),K===L){we=null;break}if(H!==null){H.return=he,we=H;break}we=he}}}var Ne=u.alternate;if(Ne!==null){var ke=Ne.child;if(ke!==null){Ne.child=null;do{var mt=ke.sibling;ke.sibling=null,ke=mt}while(ke!==null)}}we=u}}if((u.subtreeFlags&2064)!==0&&h!==null)h.return=u,we=h;else e:for(;we!==null;){if(u=we,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:Xs(9,u,u.return)}var R=u.sibling;if(R!==null){R.return=u.return,we=R;break e}we=u.return}}var E=e.current;for(we=E;we!==null;){h=we;var D=h.child;if((h.subtreeFlags&2064)!==0&&D!==null)D.return=h,we=D;else e:for(h=E;we!==null;){if(b=we,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:ro(9,b)}}catch(Ee){pt(b,b.return,Ee)}if(b===h){we=null;break e}var re=b.sibling;if(re!==null){re.return=b.return,we=re;break e}we=b.return}}if(Ye=i,Qr(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(ha,e)}catch{}o=!0}return o}finally{tt=n,er.transition=t}}return!1}function Bd(e,t,n){t=es(n,t),t=sd(e,t,1),e=Jr(e,t,1),t=Rt(),e!==null&&(Ss(e,1,t),Bt(e,t))}function pt(e,t,n){if(e.tag===3)Bd(e,e,n);else for(;t!==null;){if(t.tag===3){Bd(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qr===null||!qr.has(o))){e=es(n,e),e=ad(t,e,1),t=Jr(t,e,1),e=Rt(),t!==null&&(Ss(t,1,e),Bt(t,e));break}}t=t.return}}function Zh(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&n,bt===e&&(St&n)===n&&(yt===4||yt===3&&(St&130023424)===St&&500>Re()-mi?kn(e,0):pi|=n),Bt(e,t)}function Ud(e,t){t===0&&((e.mode&1)===0?t=1:(t=ya,ya<<=1,(ya&130023424)===0&&(ya=4194304)));var n=Rt();e=Tr(e,t),e!==null&&(Ss(e,t,n),Bt(e,n))}function eg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ud(e,n)}function tg(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(a(314))}o!==null&&o.delete(t),Ud(e,n)}var Wd;Wd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)Mt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Mt=!1,Wh(e,t,n);Mt=(e.flags&131072)!==0}else Mt=!1,lt&&(t.flags&1048576)!==0&&wu(t,za,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;eo(e,t),e=t.pendingProps;var i=Gn(t,Et.current);qn(t,n),i=Hl(null,t,o,e,i,n);var u=Gl();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ot(o)?(u=!0,Ia(t)):u=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ml(t),i.updater=qa,t.stateNode=i,i._reactInternals=t,ql(t,o,e,n),t=ri(null,t,o,!0,u,n)):(t.tag=0,lt&&u&&Pl(t),At(null,t,i,n),t=t.child),t;case 16:o=t.elementType;e:{switch(eo(e,t),e=t.pendingProps,i=o._init,o=i(o._payload),t.type=o,i=t.tag=ng(o),e=lr(o,e),i){case 0:t=ti(null,t,o,e,n);break e;case 1:t=md(null,t,o,e,n);break e;case 11:t=cd(null,t,o,e,n);break e;case 14:t=ud(null,t,o,lr(o.type,e),n);break e}throw Error(a(306,o,""))}return t;case 0:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:lr(o,i),ti(e,t,o,i,n);case 1:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:lr(o,i),md(e,t,o,i,n);case 3:e:{if(hd(t),e===null)throw Error(a(387));o=t.pendingProps,u=t.memoizedState,i=u.element,_u(e,t),Ha(t,o,null,n);var h=t.memoizedState;if(o=h.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){i=es(Error(a(423)),t),t=gd(e,t,o,n,i);break e}else if(o!==i){i=es(Error(a(424)),t),t=gd(e,t,o,n,i);break e}else for(Ht=Hr(t.stateNode.containerInfo.firstChild),Vt=t,lt=!0,or=null,n=Pu(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yn(),o===i){t=Ar(e,t,n);break e}At(e,t,o,n)}t=t.child}return t;case 5:return Du(t),e===null&&Al(t),o=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,h=i.children,jl(o,i)?h=null:u!==null&&jl(o,u)&&(t.flags|=32),pd(e,t),At(e,t,h,n),t.child;case 6:return e===null&&Al(t),null;case 13:return yd(e,t,n);case 4:return zl(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Jn(t,null,o,n):At(e,t,o,n),t.child;case 11:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:lr(o,i),cd(e,t,o,i,n);case 7:return At(e,t,t.pendingProps,n),t.child;case 8:return At(e,t,t.pendingProps.children,n),t.child;case 12:return At(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,i=t.pendingProps,u=t.memoizedProps,h=i.value,nt(Wa,o._currentValue),o._currentValue=h,u!==null)if(ar(u.value,h)){if(u.children===i.children&&!It.current){t=Ar(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var b=u.dependencies;if(b!==null){h=u.child;for(var k=b.firstContext;k!==null;){if(k.context===o){if(u.tag===1){k=_r(-1,n&-n),k.tag=2;var L=u.updateQueue;if(L!==null){L=L.shared;var K=L.pending;K===null?k.next=k:(k.next=K.next,K.next=k),L.pending=k}}u.lanes|=n,k=u.alternate,k!==null&&(k.lanes|=n),Il(u.return,n,t),b.lanes|=n;break}k=k.next}}else if(u.tag===10)h=u.type===t.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error(a(341));h.lanes|=n,b=h.alternate,b!==null&&(b.lanes|=n),Il(h,n,t),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===t){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}At(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps.children,qn(t,n),i=qt(i),o=o(i),t.flags|=1,At(e,t,o,n),t.child;case 14:return o=t.type,i=lr(o,t.pendingProps),i=lr(o.type,i),ud(e,t,o,i,n);case 15:return dd(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:lr(o,i),eo(e,t),t.tag=1,Ot(o)?(e=!0,Ia(t)):e=!1,qn(t,n),rd(t,o,i),ql(t,o,i,n),ri(null,t,o,!0,e,n);case 19:return vd(e,t,n);case 22:return fd(e,t,n)}throw Error(a(156,t.tag))};function $d(e,t){return ce(e,t)}function rg(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(e,t,n,o){return new rg(e,t,n,o)}function ji(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ng(e){if(typeof e=="function")return ji(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xe)return 11;if(e===Je)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=tr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fo(e,t,n,o,i,u){var h=2;if(o=e,typeof e=="function")ji(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case O:return En(n.children,i,u,t);case je:h=8,i|=8;break;case Z:return e=tr(12,n,t,i|2),e.elementType=Z,e.lanes=u,e;case He:return e=tr(13,n,t,i),e.elementType=He,e.lanes=u,e;case ze:return e=tr(19,n,t,i),e.elementType=ze,e.lanes=u,e;case ne:return po(n,i,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case de:h=10;break e;case Ve:h=9;break e;case xe:h=11;break e;case Je:h=14;break e;case J:h=16,o=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=tr(h,n,t,i),t.elementType=e,t.type=o,t.lanes=u,t}function En(e,t,n,o){return e=tr(7,e,o,t),e.lanes=n,e}function po(e,t,n,o){return e=tr(22,e,o,t),e.elementType=ne,e.lanes=n,e.stateNode={isHidden:!1},e}function Ni(e,t,n){return e=tr(6,e,null,t),e.lanes=n,e}function Si(e,t,n){return t=tr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sg(e,t,n,o,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xo(0),this.expirationTimes=Xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ki(e,t,n,o,i,u,h,b,k){return e=new sg(e,t,n,b,k),t===1?(t=1,u===!0&&(t|=8)):t=0,u=tr(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ml(u),e}function ag(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Vd(e){if(!e)return Kr;e=e._reactInternals;e:{if(Q(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(Ot(n))return xu(e,n,t)}return t}function Hd(e,t,n,o,i,u,h,b,k){return e=ki(n,o,!0,e,i,u,h,b,k),e.context=Vd(null),n=e.current,o=Rt(),i=en(n),u=_r(o,i),u.callback=t??null,Jr(n,u,i),e.current.lanes=i,Ss(e,i,o),Bt(e,o),e}function mo(e,t,n,o){var i=t.current,u=Rt(),h=en(i);return n=Vd(n),t.context===null?t.context=n:t.pendingContext=n,t=_r(u,h),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Jr(i,t,h),e!==null&&(ur(e,i,h,u),Va(e,i,h)),h}function ho(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ci(e,t){Gd(e,t),(e=e.alternate)&&Gd(e,t)}function og(){return null}var Kd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ei(e){this._internalRoot=e}go.prototype.render=Ei.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));mo(e,t,null,null)},go.prototype.unmount=Ei.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sn(function(){mo(null,e,null,null)}),t[kr]=null}};function go(e){this._internalRoot=e}go.prototype.unstable_scheduleHydration=function(e){if(e){var t=_c();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wr.length&&t!==0&&t<Wr[n].priority;n++);Wr.splice(n,0,e),n===0&&Dc(e)}};function Pi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qd(){}function lg(e,t,n,o,i){if(i){if(typeof o=="function"){var u=o;o=function(){var L=ho(h);u.call(L)}}var h=Hd(t,o,e,0,null,!1,!1,"",Qd);return e._reactRootContainer=h,e[kr]=h.current,Ms(e.nodeType===8?e.parentNode:e),Sn(),h}for(;i=e.lastChild;)e.removeChild(i);if(typeof o=="function"){var b=o;o=function(){var L=ho(k);b.call(L)}}var k=ki(e,0,!1,null,null,!1,!1,"",Qd);return e._reactRootContainer=k,e[kr]=k.current,Ms(e.nodeType===8?e.parentNode:e),Sn(function(){mo(t,k,n,o)}),k}function xo(e,t,n,o,i){var u=n._reactRootContainer;if(u){var h=u;if(typeof i=="function"){var b=i;i=function(){var k=ho(h);b.call(k)}}mo(t,h,e,i)}else h=lg(n,t,e,i,o);return ho(h)}Pc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ns(t.pendingLanes);n!==0&&(qo(t,n|1),Bt(t,Re()),(Ye&6)===0&&(ns=Re()+500,Qr()))}break;case 13:Sn(function(){var o=Tr(e,1);if(o!==null){var i=Rt();ur(o,e,1,i)}}),Ci(e,1)}},Zo=function(e){if(e.tag===13){var t=Tr(e,134217728);if(t!==null){var n=Rt();ur(t,e,134217728,n)}Ci(e,134217728)}},Tc=function(e){if(e.tag===13){var t=en(e),n=Tr(e,t);if(n!==null){var o=Rt();ur(n,e,t,o)}Ci(e,t)}},_c=function(){return tt},Ac=function(e,t){var n=tt;try{return tt=e,t()}finally{tt=n}},vs=function(e,t,n){switch(t){case"input":if(De(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=Fa(o);if(!i)throw Error(a(90));Ct(o),De(o,i)}}}break;case"textarea":Lr(e,n);break;case"select":t=n.value,t!=null&&jt(e,!!n.multiple,t,!1)}},Qo=vi,fa=Sn;var ig={usingClientEntryPoint:!1,Events:[Us,Vn,Fa,mr,da,vi]},ta={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cg={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$(e),e===null?null:e.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||og,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{ha=vo.inject(cg),hr=vo}catch{}}return Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ig,Ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pi(t))throw Error(a(200));return ag(e,t,null,n)},Ut.createRoot=function(e,t){if(!Pi(e))throw Error(a(299));var n=!1,o="",i=Kd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ki(e,1,!1,null,null,n,!1,o,i),e[kr]=t.current,Ms(e.nodeType===8?e.parentNode:e),new Ei(t)},Ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=$(t),e=e===null?null:e.stateNode,e},Ut.flushSync=function(e){return Sn(e)},Ut.hydrate=function(e,t,n){if(!yo(t))throw Error(a(200));return xo(null,e,t,!0,n)},Ut.hydrateRoot=function(e,t,n){if(!Pi(e))throw Error(a(405));var o=n!=null&&n.hydratedSources||null,i=!1,u="",h=Kd;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=Hd(t,null,e,1,n??null,i,!1,u,h),e[kr]=t.current,Ms(e),o)for(e=0;e<o.length;e++)n=o[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new go(t)},Ut.render=function(e,t,n){if(!yo(t))throw Error(a(200));return xo(null,e,t,!1,n)},Ut.unmountComponentAtNode=function(e){if(!yo(e))throw Error(a(40));return e._reactRootContainer?(Sn(function(){xo(null,null,e,!1,function(){e._reactRootContainer=null,e[kr]=null})}),!0):!1},Ut.unstable_batchedUpdates=vi,Ut.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!yo(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return xo(e,t,n,!1,o)},Ut.version="18.3.1-next-f1338f8080-20240426",Ut}var rf;function Wf(){if(rf)return Ai.exports;rf=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),Ai.exports=yg(),Ai.exports}var nf;function xg(){if(nf)return bo;nf=1;var s=Wf();return bo.createRoot=s.createRoot,bo.hydrateRoot=s.hydrateRoot,bo}var vg=xg(),p=nc();const $f=Uf(p),Mo=dg({__proto__:null,default:$f},[p]);var Vf=Wf();const bg=Uf(Vf);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(s){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])}return s},aa.apply(this,arguments)}var ln;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(ln||(ln={}));const sf="popstate";function wg(s){s===void 0&&(s={});function l(c,d){let{pathname:f,search:g,hash:m}=c.location;return Hi("",{pathname:f,search:g,hash:m},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function a(c,d){return typeof d=="string"?d:Hf(d)}return Ng(l,a,null,s)}function xt(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function sc(s,l){if(!s){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function jg(){return Math.random().toString(36).substr(2,8)}function af(s,l){return{usr:s.state,key:s.key,idx:l}}function Hi(s,l,a,c){return a===void 0&&(a=null),aa({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof l=="string"?ms(l):l,{state:a,key:l&&l.key||c||jg()})}function Hf(s){let{pathname:l="/",search:a="",hash:c=""}=s;return a&&a!=="?"&&(l+=a.charAt(0)==="?"?a:"?"+a),c&&c!=="#"&&(l+=c.charAt(0)==="#"?c:"#"+c),l}function ms(s){let l={};if(s){let a=s.indexOf("#");a>=0&&(l.hash=s.substr(a),s=s.substr(0,a));let c=s.indexOf("?");c>=0&&(l.search=s.substr(c),s=s.substr(0,c)),s&&(l.pathname=s)}return l}function Ng(s,l,a,c){c===void 0&&(c={});let{window:d=document.defaultView,v5Compat:f=!1}=c,g=d.history,m=ln.Pop,y=null,x=v();x==null&&(x=0,g.replaceState(aa({},g.state,{idx:x}),""));function v(){return(g.state||{idx:null}).idx}function w(){m=ln.Pop;let T=v(),W=T==null?null:T-x;x=T,y&&y({action:m,location:S.location,delta:W})}function N(T,W){m=ln.Push;let G=Hi(S.location,T,W);x=v()+1;let ue=af(G,x),se=S.createHref(G);try{g.pushState(ue,"",se)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;d.location.assign(se)}f&&y&&y({action:m,location:S.location,delta:1})}function A(T,W){m=ln.Replace;let G=Hi(S.location,T,W);x=v();let ue=af(G,x),se=S.createHref(G);g.replaceState(ue,"",se),f&&y&&y({action:m,location:S.location,delta:0})}function P(T){let W=d.location.origin!=="null"?d.location.origin:d.location.href,G=typeof T=="string"?T:Hf(T);return G=G.replace(/ $/,"%20"),xt(W,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,W)}let S={get action(){return m},get location(){return s(d,g)},listen(T){if(y)throw new Error("A history only accepts one active listener");return d.addEventListener(sf,w),y=T,()=>{d.removeEventListener(sf,w),y=null}},createHref(T){return l(d,T)},createURL:P,encodeLocation(T){let W=P(T);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:N,replace:A,go(T){return g.go(T)}};return S}var of;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(of||(of={}));function Sg(s,l,a){return a===void 0&&(a="/"),kg(s,l,a)}function kg(s,l,a,c){let d=typeof l=="string"?ms(l):l,f=Qf(d.pathname||"/",a);if(f==null)return null;let g=Gf(s);Cg(g);let m=null;for(let y=0;m==null&&y<g.length;++y){let x=Mg(f);m=Lg(g[y],x)}return m}function Gf(s,l,a,c){l===void 0&&(l=[]),a===void 0&&(a=[]),c===void 0&&(c="");let d=(f,g,m)=>{let y={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};y.relativePath.startsWith("/")&&(xt(y.relativePath.startsWith(c),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(c.length));let x=_n([c,y.relativePath]),v=a.concat(y);f.children&&f.children.length>0&&(xt(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),Gf(f.children,l,v,x)),!(f.path==null&&!f.index)&&l.push({path:x,score:Dg(x,f.index),routesMeta:v})};return s.forEach((f,g)=>{var m;if(f.path===""||!((m=f.path)!=null&&m.includes("?")))d(f,g);else for(let y of Kf(f.path))d(f,g,y)}),l}function Kf(s){let l=s.split("/");if(l.length===0)return[];let[a,...c]=l,d=a.endsWith("?"),f=a.replace(/\?$/,"");if(c.length===0)return d?[f,""]:[f];let g=Kf(c.join("/")),m=[];return m.push(...g.map(y=>y===""?f:[f,y].join("/"))),d&&m.push(...g),m.map(y=>s.startsWith("/")&&y===""?"/":y)}function Cg(s){s.sort((l,a)=>l.score!==a.score?a.score-l.score:Fg(l.routesMeta.map(c=>c.childrenIndex),a.routesMeta.map(c=>c.childrenIndex)))}const Eg=/^:[\w-]+$/,Pg=3,Tg=2,_g=1,Ag=10,Rg=-2,lf=s=>s==="*";function Dg(s,l){let a=s.split("/"),c=a.length;return a.some(lf)&&(c+=Rg),l&&(c+=Tg),a.filter(d=>!lf(d)).reduce((d,f)=>d+(Eg.test(f)?Pg:f===""?_g:Ag),c)}function Fg(s,l){return s.length===l.length&&s.slice(0,-1).every((c,d)=>c===l[d])?s[s.length-1]-l[l.length-1]:0}function Lg(s,l,a){let{routesMeta:c}=s,d={},f="/",g=[];for(let m=0;m<c.length;++m){let y=c[m],x=m===c.length-1,v=f==="/"?l:l.slice(f.length)||"/",w=Ig({path:y.relativePath,caseSensitive:y.caseSensitive,end:x},v),N=y.route;if(!w)return null;Object.assign(d,w.params),g.push({params:d,pathname:_n([f,w.pathname]),pathnameBase:Hg(_n([f,w.pathnameBase])),route:N}),w.pathnameBase!=="/"&&(f=_n([f,w.pathnameBase]))}return g}function Ig(s,l){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,c]=Og(s.path,s.caseSensitive,s.end),d=l.match(a);if(!d)return null;let f=d[0],g=f.replace(/(.)\/+$/,"$1"),m=d.slice(1);return{params:c.reduce((x,v,w)=>{let{paramName:N,isOptional:A}=v;if(N==="*"){let S=m[w]||"";g=f.slice(0,f.length-S.length).replace(/(.)\/+$/,"$1")}const P=m[w];return A&&!P?x[N]=void 0:x[N]=(P||"").replace(/%2F/g,"/"),x},{}),pathname:f,pathnameBase:g,pattern:s}}function Og(s,l,a){l===void 0&&(l=!1),a===void 0&&(a=!0),sc(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let c=[],d="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,m,y)=>(c.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(c.push({paramName:"*"}),d+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?d+="\\/*$":s!==""&&s!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,l?void 0:"i"),c]}function Mg(s){try{return s.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return sc(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+l+").")),s}}function Qf(s,l){if(l==="/")return s;if(!s.toLowerCase().startsWith(l.toLowerCase()))return null;let a=l.endsWith("/")?l.length-1:l.length,c=s.charAt(a);return c&&c!=="/"?null:s.slice(a)||"/"}const zg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bg=s=>zg.test(s);function Ug(s,l){l===void 0&&(l="/");let{pathname:a,search:c="",hash:d=""}=typeof s=="string"?ms(s):s,f;if(a)if(Bg(a))f=a;else{if(a.includes("//")){let g=a;a=a.replace(/\/\/+/g,"/"),sc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(g+" -> "+a))}a.startsWith("/")?f=cf(a.substring(1),"/"):f=cf(a,l)}else f=l;return{pathname:f,search:Gg(c),hash:Kg(d)}}function cf(s,l){let a=l.replace(/\/+$/,"").split("/");return s.split("/").forEach(d=>{d===".."?a.length>1&&a.pop():d!=="."&&a.push(d)}),a.length>1?a.join("/"):"/"}function Fi(s,l,a,c){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+l+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wg(s){return s.filter((l,a)=>a===0||l.route.path&&l.route.path.length>0)}function $g(s,l){let a=Wg(s);return l?a.map((c,d)=>d===a.length-1?c.pathname:c.pathnameBase):a.map(c=>c.pathnameBase)}function Vg(s,l,a,c){c===void 0&&(c=!1);let d;typeof s=="string"?d=ms(s):(d=aa({},s),xt(!d.pathname||!d.pathname.includes("?"),Fi("?","pathname","search",d)),xt(!d.pathname||!d.pathname.includes("#"),Fi("#","pathname","hash",d)),xt(!d.search||!d.search.includes("#"),Fi("#","search","hash",d)));let f=s===""||d.pathname==="",g=f?"/":d.pathname,m;if(g==null)m=a;else{let w=l.length-1;if(!c&&g.startsWith("..")){let N=g.split("/");for(;N[0]==="..";)N.shift(),w-=1;d.pathname=N.join("/")}m=w>=0?l[w]:"/"}let y=Ug(d,m),x=g&&g!=="/"&&g.endsWith("/"),v=(f||g===".")&&a.endsWith("/");return!y.pathname.endsWith("/")&&(x||v)&&(y.pathname+="/"),y}const _n=s=>s.join("/").replace(/\/\/+/g,"/"),Hg=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Gg=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Kg=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Qg(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Yf=["post","put","patch","delete"];new Set(Yf);const Yg=["get",...Yf];new Set(Yg);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oa(){return oa=Object.assign?Object.assign.bind():function(s){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])}return s},oa.apply(this,arguments)}const ac=p.createContext(null),Jg=p.createContext(null),zo=p.createContext(null),Bo=p.createContext(null),hs=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Jf=p.createContext(null);function Uo(){return p.useContext(Bo)!=null}function Xf(){return Uo()||xt(!1),p.useContext(Bo).location}function qf(s){p.useContext(zo).static||p.useLayoutEffect(s)}function Xg(){let{isDataRoute:s}=p.useContext(hs);return s?uy():qg()}function qg(){Uo()||xt(!1);let s=p.useContext(ac),{basename:l,future:a,navigator:c}=p.useContext(zo),{matches:d}=p.useContext(hs),{pathname:f}=Xf(),g=JSON.stringify($g(d,a.v7_relativeSplatPath)),m=p.useRef(!1);return qf(()=>{m.current=!0}),p.useCallback(function(x,v){if(v===void 0&&(v={}),!m.current)return;if(typeof x=="number"){c.go(x);return}let w=Vg(x,JSON.parse(g),f,v.relative==="path");s==null&&l!=="/"&&(w.pathname=w.pathname==="/"?l:_n([l,w.pathname])),(v.replace?c.replace:c.push)(w,v.state,v)},[l,c,g,f,s])}function Zg(s,l){return ey(s,l)}function ey(s,l,a,c){Uo()||xt(!1);let{navigator:d}=p.useContext(zo),{matches:f}=p.useContext(hs),g=f[f.length-1],m=g?g.params:{};g&&g.pathname;let y=g?g.pathnameBase:"/";g&&g.route;let x=Xf(),v;if(l){var w;let T=typeof l=="string"?ms(l):l;y==="/"||(w=T.pathname)!=null&&w.startsWith(y)||xt(!1),v=T}else v=x;let N=v.pathname||"/",A=N;if(y!=="/"){let T=y.replace(/^\//,"").split("/");A="/"+N.replace(/^\//,"").split("/").slice(T.length).join("/")}let P=Sg(s,{pathname:A}),S=ay(P&&P.map(T=>Object.assign({},T,{params:Object.assign({},m,T.params),pathname:_n([y,d.encodeLocation?d.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?y:_n([y,d.encodeLocation?d.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),f,a,c);return l&&S?p.createElement(Bo.Provider,{value:{location:oa({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:ln.Pop}},S):S}function ty(){let s=cy(),l=Qg(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},l),a?p.createElement("pre",{style:d},a):null,null)}const ry=p.createElement(ty,null);class ny extends p.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,a){return a.location!==l.location||a.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:a.error,location:a.location,revalidation:l.revalidation||a.revalidation}}componentDidCatch(l,a){console.error("React Router caught the following error during render",l,a)}render(){return this.state.error!==void 0?p.createElement(hs.Provider,{value:this.props.routeContext},p.createElement(Jf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sy(s){let{routeContext:l,match:a,children:c}=s,d=p.useContext(ac);return d&&d.static&&d.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=a.route.id),p.createElement(hs.Provider,{value:l},c)}function ay(s,l,a,c){var d;if(l===void 0&&(l=[]),a===void 0&&(a=null),c===void 0&&(c=null),s==null){var f;if(!a)return null;if(a.errors)s=a.matches;else if((f=c)!=null&&f.v7_partialHydration&&l.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let g=s,m=(d=a)==null?void 0:d.errors;if(m!=null){let v=g.findIndex(w=>w.route.id&&m?.[w.route.id]!==void 0);v>=0||xt(!1),g=g.slice(0,Math.min(g.length,v+1))}let y=!1,x=-1;if(a&&c&&c.v7_partialHydration)for(let v=0;v<g.length;v++){let w=g[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(x=v),w.route.id){let{loaderData:N,errors:A}=a,P=w.route.loader&&N[w.route.id]===void 0&&(!A||A[w.route.id]===void 0);if(w.route.lazy||P){y=!0,x>=0?g=g.slice(0,x+1):g=[g[0]];break}}}return g.reduceRight((v,w,N)=>{let A,P=!1,S=null,T=null;a&&(A=m&&w.route.id?m[w.route.id]:void 0,S=w.route.errorElement||ry,y&&(x<0&&N===0?(dy("route-fallback"),P=!0,T=null):x===N&&(P=!0,T=w.route.hydrateFallbackElement||null)));let W=l.concat(g.slice(0,N+1)),G=()=>{let ue;return A?ue=S:P?ue=T:w.route.Component?ue=p.createElement(w.route.Component,null):w.route.element?ue=w.route.element:ue=v,p.createElement(sy,{match:w,routeContext:{outlet:v,matches:W,isDataRoute:a!=null},children:ue})};return a&&(w.route.ErrorBoundary||w.route.errorElement||N===0)?p.createElement(ny,{location:a.location,revalidation:a.revalidation,component:S,error:A,children:G(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):G()},null)}var Zf=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(Zf||{}),ep=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(ep||{});function oy(s){let l=p.useContext(ac);return l||xt(!1),l}function ly(s){let l=p.useContext(Jg);return l||xt(!1),l}function iy(s){let l=p.useContext(hs);return l||xt(!1),l}function tp(s){let l=iy(),a=l.matches[l.matches.length-1];return a.route.id||xt(!1),a.route.id}function cy(){var s;let l=p.useContext(Jf),a=ly(),c=tp();return l!==void 0?l:(s=a.errors)==null?void 0:s[c]}function uy(){let{router:s}=oy(Zf.UseNavigateStable),l=tp(ep.UseNavigateStable),a=p.useRef(!1);return qf(()=>{a.current=!0}),p.useCallback(function(d,f){f===void 0&&(f={}),a.current&&(typeof d=="number"?s.navigate(d):s.navigate(d,oa({fromRouteId:l},f)))},[s,l])}const uf={};function dy(s,l,a){uf[s]||(uf[s]=!0)}function fy(s,l){s?.v7_startTransition,s?.v7_relativeSplatPath}function Gi(s){xt(!1)}function py(s){let{basename:l="/",children:a=null,location:c,navigationType:d=ln.Pop,navigator:f,static:g=!1,future:m}=s;Uo()&&xt(!1);let y=l.replace(/^\/*/,"/"),x=p.useMemo(()=>({basename:y,navigator:f,static:g,future:oa({v7_relativeSplatPath:!1},m)}),[y,m,f,g]);typeof c=="string"&&(c=ms(c));let{pathname:v="/",search:w="",hash:N="",state:A=null,key:P="default"}=c,S=p.useMemo(()=>{let T=Qf(v,y);return T==null?null:{location:{pathname:T,search:w,hash:N,state:A,key:P},navigationType:d}},[y,v,w,N,A,P,d]);return S==null?null:p.createElement(zo.Provider,{value:x},p.createElement(Bo.Provider,{children:a,value:S}))}function my(s){let{children:l,location:a}=s;return Zg(Ki(l),a)}new Promise(()=>{});function Ki(s,l){l===void 0&&(l=[]);let a=[];return p.Children.forEach(s,(c,d)=>{if(!p.isValidElement(c))return;let f=[...l,d];if(c.type===p.Fragment){a.push.apply(a,Ki(c.props.children,f));return}c.type!==Gi&&xt(!1),!c.props.index||!c.props.children||xt(!1);let g={id:c.props.id||f.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(g.children=Ki(c.props.children,f)),a.push(g)}),a}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const hy="6";try{window.__reactRouterVersion=hy}catch{}const gy="startTransition",df=Mo[gy];function yy(s){let{basename:l,children:a,future:c,window:d}=s,f=p.useRef();f.current==null&&(f.current=wg({window:d,v5Compat:!0}));let g=f.current,[m,y]=p.useState({action:g.action,location:g.location}),{v7_startTransition:x}=c||{},v=p.useCallback(w=>{x&&df?df(()=>y(w)):y(w)},[y,x]);return p.useLayoutEffect(()=>g.listen(v),[g,v]),p.useEffect(()=>fy(c),[c]),p.createElement(py,{basename:l,children:a,location:m.location,navigationType:m.action,navigator:g,future:c})}var ff;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(ff||(ff={}));var pf;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(pf||(pf={}));const xy="modulepreload",vy=function(s){return"/"+s},mf={},by=function(l,a,c){let d=Promise.resolve();if(a&&a.length>0){let g=function(x){return Promise.all(x.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),y=m?.nonce||m?.getAttribute("nonce");d=g(a.map(x=>{if(x=vy(x),x in mf)return;mf[x]=!0;const v=x.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${w}`))return;const N=document.createElement("link");if(N.rel=v?"stylesheet":xy,v||(N.as="script"),N.crossOrigin="",N.href=x,y&&N.setAttribute("nonce",y),document.head.appendChild(N),v)return new Promise((A,P)=>{N.addEventListener("load",A),N.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${x}`)))})}))}function f(g){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=g,window.dispatchEvent(m),!m.defaultPrevented)throw g}return d.then(g=>{for(const m of g||[])m.status==="rejected"&&f(m.reason);return l().catch(f)})};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rp=(...s)=>s.filter((l,a,c)=>!!l&&l.trim()!==""&&c.indexOf(l)===a).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=p.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:d="",children:f,iconNode:g,...m},y)=>p.createElement("svg",{ref:y,...jy,width:l,height:l,stroke:s,strokeWidth:c?Number(a)*24/Number(l):a,className:rp("lucide",d),...m},[...g.map(([x,v])=>p.createElement(x,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(s,l)=>{const a=p.forwardRef(({className:c,...d},f)=>p.createElement(Ny,{ref:f,iconNode:l,className:rp(`lucide-${wy(s)}`,c),...d}));return a.displayName=`${s}`,a};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=Ke("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=Ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=Ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=Ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=Ke("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=Ke("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Ke("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Ke("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Ke("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Ke("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=Ke("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=Ke("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=Ke("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=Ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=Ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=Ke("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=Ke("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),te={hex:{Enter:"#FAC81E",research:"#0A50AA",Findings:"#0A7878",review:"#0AAAAA",Grade:"#AAC864",Luminaries:"#78206E",panelist:"#7E15A2",Colleagues:"#684CC1",social:"#8133D6",Wisdom:"#0A78AA",Consumers:"#A02B93",competitors:"#834FBF",cultural:"#7E15A2",purple:{light:"#8B5CF6"},active:"8B5CF6"},background:{primary:"#FFFFFF",secondary:"#F9FAFB",tertiary:"#F3F4F6"},text:{primary:"#111827",secondary:"#6B7280",tertiary:"#9CA3AF"},border:{light:"#E5E7EB"}},Pn={sizes:{small:{width:112,height:92,fontSize:"0.75rem"},medium:{width:128,height:106,fontSize:"0.875rem"},large:{width:144,height:118,fontSize:"1rem"}},points:"45,5 155,5 195,82.5 155,160 45,160 5,82.5",stroke:{default:{color:"rgba(255,255,255,0.3)",width:2},active:{color:te.hex.active,width:3}}},Li={shadow:{hex3D:"drop-shadow(0 8px 12px rgba(0, 0, 0, 0.4)) drop-shadow(0 4px 6px rgba(0, 0, 0, 0.25))",hexHover:"drop-shadow(0 12px 20px rgba(0, 0, 0, 0.5)) drop-shadow(0 6px 8px rgba(0, 0, 0, 0.3))"}},Kt={Enter:te.hex.Enter,research:te.hex.research,Findings:te.hex.Findings,review:te.hex.review,Grade:te.hex.Grade,Luminaries:te.hex.Luminaries,panelist:te.hex.panelist,Consumers:te.hex.Consumers,Colleagues:te.hex.Colleagues,competitors:te.hex.competitors,cultural:te.hex.cultural,social:te.hex.social,Wisdom:te.hex.Wisdom};function Fy({label:s,color:l,status:a,onClick:c,size:d="medium",textColor:f="white",className:g="",usageCount:m=0,hideTextOutline:y=!1}){const x=Pn.sizes[d],v=s.replace(/\n/g,"-").replace(/[^a-zA-Z0-9-]/g,"-"),w=()=>{switch(a){case"completed":return"opacity-100";case"active":return"opacity-100 ring-4 ring-purple-400 ring-offset-2";case"upcoming":return"opacity-100"}},N=a==="active"?Pn.stroke.active.color:Pn.stroke.default.color,A=a==="active"?Pn.stroke.active.width:Pn.stroke.default.width;return r.jsx("button",{onClick:c,className:`group cursor-pointer transition-all ${w()} hover:scale-105 ${g} relative`,style:{width:x.width,height:x.height},children:r.jsxs("div",{className:"relative w-full h-full",children:[r.jsxs("svg",{viewBox:"0 0 200 165",className:"w-full h-full transition-all duration-200",style:{filter:Li.shadow.hex3D,transition:"filter 200ms ease-in-out"},onMouseEnter:P=>{P.currentTarget.style.filter=Li.shadow.hexHover},onMouseLeave:P=>{P.currentTarget.style.filter=Li.shadow.hex3D},children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:`gradient-${v}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",style:{stopColor:l,stopOpacity:1}}),r.jsx("stop",{offset:"50%",style:{stopColor:l,stopOpacity:.95}}),r.jsx("stop",{offset:"100%",style:{stopColor:l,stopOpacity:.75}})]}),r.jsxs("filter",{id:`innerShadow-${v}`,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feOffset",{in:"SourceAlpha",dx:"0",dy:"2",result:"offsetBlur"}),r.jsx("feFlood",{floodColor:"#000000",floodOpacity:"0.3",result:"offsetColor"}),r.jsx("feComposite",{in:"offsetColor",in2:"offsetBlur",operator:"in",result:"offsetBlur"}),r.jsx("feComposite",{in:"SourceGraphic",in2:"offsetBlur",operator:"over"})]}),r.jsxs("linearGradient",{id:`highlight-${v}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",style:{stopColor:"#ffffff",stopOpacity:.4}}),r.jsx("stop",{offset:"30%",style:{stopColor:"#ffffff",stopOpacity:0}})]})]}),r.jsx("polygon",{points:Pn.points,fill:`url(#gradient-${v})`,stroke:N,strokeWidth:A,filter:`url(#innerShadow-${v})`}),r.jsx("polygon",{points:"45,5 155,5 149,11 51,11",fill:"rgba(255, 255, 255, 0.6)",stroke:"none"}),r.jsx("polygon",{points:"155,5 195,82.5 189,82.5 149,11",fill:"rgba(255, 255, 255, 0.4)",stroke:"none"}),r.jsx("polygon",{points:"195,82.5 155,160 149,154 189,82.5",fill:"rgba(0, 0, 0, 0.2)",stroke:"none"}),r.jsx("polygon",{points:"155,160 45,160 51,154 149,154",fill:"rgba(0, 0, 0, 0.25)",stroke:"none"}),r.jsx("polygon",{points:"45,160 5,82.5 11,82.5 51,154",fill:"rgba(0, 0, 0, 0.2)",stroke:"none"}),r.jsx("polygon",{points:"5,82.5 45,5 51,11 11,82.5",fill:"rgba(255, 255, 255, 0.4)",stroke:"none"}),r.jsx("polygon",{points:Pn.points,fill:`url(#highlight-${v})`,stroke:"none"})]}),r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center px-4",children:[r.jsx("span",{className:"text-white text-center leading-tight font-bold",style:{fontSize:x.fontSize,color:f,whiteSpace:"pre-line",WebkitTextStroke:y?"0px black":"1px black",textStroke:y?"0px black":"1px black",paintOrder:"stroke fill"},children:s}),m>0&&r.jsxs("span",{className:"text-white text-center mt-0.5 font-bold",style:{fontSize:"9px",opacity:.9,color:f,WebkitTextStroke:"0.5px black",textStroke:"0.5px black",paintOrder:"stroke fill"},children:["Used ",m,"x"]})]})]})})}const qi=[{id:"Enter",label:"Enter",color:Kt.Enter,position:{x:0,y:0},row:1},{id:"research",label:"Knowledge Base",color:Kt.research,position:{x:0,y:570},row:2},{id:"Luminaries",label:"Luminaries",color:Kt.Luminaries,position:{x:225,y:140},row:3},{id:"panelist",label:"Panelist",color:Kt.panelist,position:{x:120,y:305},row:5},{id:"Consumers",label:"Consumers",color:Kt.Consumers,position:{x:120,y:195},row:4},{id:"competitors",label:"Competitors",color:Kt.competitors,position:{x:15,y:250},row:4},{id:"Colleagues",label:"Colleagues",color:Kt.Colleagues,position:{x:120,y:85},row:3},{id:"cultural",label:`Cultural
Voices`,color:Kt.cultural,position:{x:225,y:250},row:4},{id:"social",label:`Social
Listening`,color:Kt.social,position:{x:15,y:140},row:3},{id:"Wisdom",label:`Share Your
Wisdom`,color:Kt.Wisdom,position:{x:120,y:570},row:6},{id:"Grade",label:`Score
Results`,color:Kt.Grade,position:{x:220,y:395},row:7},{id:"Findings",label:"Findings",color:Kt.Findings,position:{x:75,y:445},row:8},{id:"review",label:`My
Files`,color:Kt.review,position:{x:240,y:570},row:9}],Ly={title:"Research",description:"Create and manage comprehensive research assets including synthesis reports and persona files.",details:["Choose between Synthesis and Personas modes","Synthesis: Combine multiple studies, create new brand/project analyses","Synthesis: Edit/approve existing synthesis files","Personas: Create persona profiles for each hexagon (Luminaries, Panelist, Consumers, etc.)","Personas: Edit/read existing persona files","Approve or reject research files for use in the workflow","Upload and manage research documents"]},Iy={title:"Research",description:"View research files, make suggestions, and access approved research assets.",details:["View all research files in the system","Browse synthesis reports and persona files","Suggest edits to existing research files","Track status of your edit suggestions (Pending, Approved, Rejected)"]},Oy={Enter:{title:"Enter",description:"The starting point for every CoHive project. This hexagon initializes your knowledge workflow.",details:["You must complete this step in order to continue","Define your Brand and Project Type","Create a new project or select an existing one","Load current ideas or get AI-generated inspiration","Select approved knowledge files to work with"]},research:{title:"Knowledge Base",description:"Central hub for managing all knowledge assets, synthesis, and persona files.",details:["Create synthesis reports and persona files","View knowledge files and suggest edits","Upload and manage research and knowledge documents","Approve or reject knowledge files","Build persona profiles for different hexagons","Track user edit suggestions and their status"]},Luminaries:{title:"Luminaries",description:"Gather insights and recommendations from industry experts outside your organization.",details:["Select relevant knowledge files for expert review","Choose assessment type: Assess, Recommend, or Unified","AI analyzes expert perspectives based on your knowledge foundation","Can be visited multiple times throughout the workflow"]},panelist:{title:"Panelist",description:"Leverage data and insights from consumer panel households.",details:["Select knowledge files for panel analysis","Understand how panel members would respond","Get recommendations from diverse consumer perspectives","Identify additional research opportunities","Can be used repeatedly for different analyses"]},Consumers:{title:"Consumers",description:"Understand buyer behavior, preferences, and key buyer personas.",details:["Select relevant consumer files","Analyze key buyer personas and their characteristics","Assess resonance with target buyers","Identify messaging that appeals to buyers","Generate buyer-focused recommendations","Multiple executions available for different buyer segments"]},competitors:{title:"Competitors",description:"Analyze competitor strategies, market position, and competitive landscape.",details:["Select competitive analysis knowledge files","Evaluate competitor strengths and weaknesses","Assess market share and positioning","Identify competitive differentiators","Generate strategic competitive insights","Can be executed multiple times for different competitors"]},Colleagues:{title:"Colleagues",description:"Leverage knowledge and insights from internal stakeholders and experts.",details:["Select internal stakeholders","Consult different departments and teams","Generate cross-functional recommendations","Multiple executions for different internal perspectives"]},cultural:{title:"Cultural Voices",description:"Understand cultural trends, influences, and cultural factors affecting your market.",details:["Select cultural personas and trend files","Analyze relevant cultural trends and movements","Understand how culture influences behavior","Identify cultural segments to target","Assess cultural barriers and opportunities","Execute multiple times for different cultural aspects"]},social:{title:"Social Listening",description:"Monitor social media conversations, sentiment, and online trends.",details:["Select social listening and media research files","Analyze sentiment across social platforms","Monitor keywords, topics, and trending conversations","Identify emerging insights from social data","Generate social media strategy recommendations","Can be executed multiple times for different platforms or time periods"]},Wisdom:{title:"Wisdom",description:"Add your insights about brands, markets, flavors, consumers and any other insights that would help build a better foundation for results",details:["Respond to a survey about a brand, markets, flavors, packaging or consumers.","Upload comments, insights and wisdom as text, speech, photos or videos"]},Grade:{title:`Score
Results`,description:"Test hypotheses and strategies against defined target segments.",details:["Select audience segment and testing files","Define and test hypotheses for each segment","Choose appropriate testing methodology","Evaluate against defined success metrics","Generate segment-specific recommendations","Multiple executions for different segments or hypotheses"]},Findings:{title:"Findings",description:"The final step where you develop actionable strategies from all gathered insights.",details:["This step adds the results from the prior steps to a combined document","Final output for Databricks integration"]},review:{title:"My Files",description:"Review all my saved files",details:["Review all gathered insights and test results"]}};function My({activeStep:s,onStepChange:l,completedSteps:a=[],isEnterComplete:c=!1,userRole:d,hexExecutions:f={},projectType:g}){const[m,y]=p.useState(!1),x=A=>A===s?"active":a.includes(A)?"completed":"upcoming",v=A=>f[A]?.length||0,w=A=>A==="Enter"||A==="review"||A==="research"||A==="Wisdom"?!0:g==="War Games"&&["Luminaries","panelist","Colleagues","Consumers","cultural","social","Grade"].includes(A)?!1:!!c,N=()=>s==="research"?d==="administrator"||d==="research-analyst"||d==="research-leader"?Ly:Iy:Oy[s];return r.jsx("div",{className:"p-2",style:{height:"750px"},children:r.jsxs("div",{className:"relative",style:{minWidth:"360px",width:"360px",height:"750px"},children:[r.jsxs("div",{className:"absolute top-0 right-0 z-50",children:[r.jsxs("button",{onClick:()=>y(!m),className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 hover:bg-blue-700 transition-colors",title:"View information about the current hexagon",children:[r.jsx(sp,{className:"w-4 h-4"}),"Info"]}),m&&(()=>{const A=N();return r.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white border-2 border-blue-600 rounded-lg shadow-xl z-50 p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"text-blue-900",style:{fontSize:"8pt"},children:A?.title||"Hexagon Information"}),r.jsx("button",{onClick:P=>{P.stopPropagation(),y(!1)},className:"p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",title:"Close",children:r.jsx(Wo,{className:"w-3 h-3 text-gray-600"})})]}),r.jsx("p",{className:"text-gray-600 mb-3",style:{fontSize:"6pt",lineHeight:"1.3"},children:A?.description||"No description available."}),r.jsxs("div",{className:"bg-gray-50 rounded p-2",children:[r.jsx("p",{className:"text-gray-900 mb-2",style:{fontSize:"7pt"},children:"What Happens:"}),r.jsx("ul",{className:"space-y-1",children:A?.details.map((P,S)=>r.jsxs("li",{className:"flex items-start gap-1",children:[r.jsx("div",{className:"w-1 h-1 bg-blue-600 rounded-full mt-1 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",style:{fontSize:"6pt",lineHeight:"1.3"},children:P})]},S))})]})]})})()]}),r.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:0},children:[r.jsx("polygon",{points:"87,122 115,105 115,137",fill:"#A9A9A9"}),r.jsx("polygon",{points:"250,380 275,360 280,390",fill:"#A9A9A9"}),r.jsx("polygon",{points:"208,490 224,462 240,490",fill:"#A9A9A9"}),r.jsx("defs",{children:r.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",children:r.jsx("polygon",{points:"0 0, 10 3, 0 6",fill:"#9333EA"})})})]}),qi.map(A=>{const P=w(A.id),S=v(A.id),T=A.id===s;return A.id==="Wisdom"&&console.log("Rendering Wisdom hex:",{color:A.color,clickable:P,status:x(A.id)}),r.jsx("div",{className:`absolute ${P?"":"opacity-30 pointer-events-none"}`,style:{left:`${A.position.x}px`,top:`${A.position.y}px`,zIndex:T?20:10},children:r.jsx(Fy,{label:A.label,color:A.color,status:x(A.id),onClick:()=>P&&l(A.id),textColor:A.id==="Enter"?"#80350E":void 0,usageCount:S,hideTextOutline:A.id==="Enter"})},A.id)})]})})}function Dt(s,l,{checkForDefaultPrevented:a=!0}={}){return function(d){if(s?.(d),a===!1||!d.defaultPrevented)return l?.(d)}}function Nf(s,l){if(typeof s=="function")return s(l);s!=null&&(s.current=l)}function $o(...s){return l=>{let a=!1;const c=s.map(d=>{const f=Nf(d,l);return!a&&typeof f=="function"&&(a=!0),f});if(a)return()=>{for(let d=0;d<c.length;d++){const f=c[d];typeof f=="function"?f():Nf(s[d],null)}}}}function Qt(...s){return p.useCallback($o(...s),s)}function zy(s,l){const a=p.createContext(l),c=f=>{const{children:g,...m}=f,y=p.useMemo(()=>m,Object.values(m));return r.jsx(a.Provider,{value:y,children:g})};c.displayName=s+"Provider";function d(f){const g=p.useContext(a);if(g)return g;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}function lp(s,l=[]){let a=[];function c(f,g){const m=p.createContext(g),y=a.length;a=[...a,g];const x=w=>{const{scope:N,children:A,...P}=w,S=N?.[s]?.[y]||m,T=p.useMemo(()=>P,Object.values(P));return r.jsx(S.Provider,{value:T,children:A})};x.displayName=f+"Provider";function v(w,N){const A=N?.[s]?.[y]||m,P=p.useContext(A);if(P)return P;if(g!==void 0)return g;throw new Error(`\`${w}\` must be used within \`${f}\``)}return[x,v]}const d=()=>{const f=a.map(g=>p.createContext(g));return function(m){const y=m?.[s]||f;return p.useMemo(()=>({[`__scope${s}`]:{...m,[s]:y}}),[m,y])}};return d.scopeName=s,[c,By(d,...l)]}function By(...s){const l=s[0];if(s.length===1)return l;const a=()=>{const c=s.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(f){const g=c.reduce((m,{useScope:y,scopeName:x})=>{const w=y(f)[`__scope${x}`];return{...m,...w}},{});return p.useMemo(()=>({[`__scope${l.scopeName}`]:g}),[g])}};return a.scopeName=l.scopeName,a}var fs=globalThis?.document?p.useLayoutEffect:()=>{},Uy=Mo[" useId ".trim().toString()]||(()=>{}),Wy=0;function Ii(s){const[l,a]=p.useState(Uy());return fs(()=>{a(c=>c??String(Wy++))},[s]),s||(l?`radix-${l}`:"")}var $y=Mo[" useInsertionEffect ".trim().toString()]||fs;function Vy({prop:s,defaultProp:l,onChange:a=()=>{},caller:c}){const[d,f,g]=Hy({defaultProp:l,onChange:a}),m=s!==void 0,y=m?s:d;{const v=p.useRef(s!==void 0);p.useEffect(()=>{const w=v.current;w!==m&&console.warn(`${c} is changing from ${w?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=m},[m,c])}const x=p.useCallback(v=>{if(m){const w=Gy(v)?v(s):v;w!==s&&g.current?.(w)}else f(v)},[m,s,f,g]);return[y,x]}function Hy({defaultProp:s,onChange:l}){const[a,c]=p.useState(s),d=p.useRef(a),f=p.useRef(l);return $y(()=>{f.current=l},[l]),p.useEffect(()=>{d.current!==a&&(f.current?.(a),d.current=a)},[a,d]),[a,c,f]}function Gy(s){return typeof s=="function"}function Ky(s){const l=Qy(s),a=p.forwardRef((c,d)=>{const{children:f,...g}=c,m=p.Children.toArray(f),y=m.find(Jy);if(y){const x=y.props.children,v=m.map(w=>w===y?p.Children.count(x)>1?p.Children.only(null):p.isValidElement(x)?x.props.children:null:w);return r.jsx(l,{...g,ref:d,children:p.isValidElement(x)?p.cloneElement(x,void 0,v):null})}return r.jsx(l,{...g,ref:d,children:f})});return a.displayName=`${s}.Slot`,a}function Qy(s){const l=p.forwardRef((a,c)=>{const{children:d,...f}=a;if(p.isValidElement(d)){const g=qy(d),m=Xy(f,d.props);return d.type!==p.Fragment&&(m.ref=c?$o(c,g):g),p.cloneElement(d,m)}return p.Children.count(d)>1?p.Children.only(null):null});return l.displayName=`${s}.SlotClone`,l}var Yy=Symbol("radix.slottable");function Jy(s){return p.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Yy}function Xy(s,l){const a={...l};for(const c in l){const d=s[c],f=l[c];/^on[A-Z]/.test(c)?d&&f?a[c]=(...m)=>{const y=f(...m);return d(...m),y}:d&&(a[c]=d):c==="style"?a[c]={...d,...f}:c==="className"&&(a[c]=[d,f].filter(Boolean).join(" "))}return{...s,...a}}function qy(s){let l=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,a=l&&"isReactWarning"in l&&l.isReactWarning;return a?s.ref:(l=Object.getOwnPropertyDescriptor(s,"ref")?.get,a=l&&"isReactWarning"in l&&l.isReactWarning,a?s.props.ref:s.props.ref||s.ref)}var Zy=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wt=Zy.reduce((s,l)=>{const a=Ky(`Primitive.${l}`),c=p.forwardRef((d,f)=>{const{asChild:g,...m}=d,y=g?a:l;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(y,{...m,ref:f})});return c.displayName=`Primitive.${l}`,{...s,[l]:c}},{});function e0(s,l){s&&Vf.flushSync(()=>s.dispatchEvent(l))}function rr(s){const l=p.useRef(s);return p.useEffect(()=>{l.current=s}),p.useMemo(()=>(...a)=>l.current?.(...a),[])}function t0(s,l=globalThis?.document){const a=rr(s);p.useEffect(()=>{const c=d=>{d.key==="Escape"&&a(d)};return l.addEventListener("keydown",c,{capture:!0}),()=>l.removeEventListener("keydown",c,{capture:!0})},[a,l])}var r0="DismissableLayer",Zi="dismissableLayer.update",n0="dismissableLayer.pointerDownOutside",s0="dismissableLayer.focusOutside",Sf,ip=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cp=p.forwardRef((s,l)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:g,onDismiss:m,...y}=s,x=p.useContext(ip),[v,w]=p.useState(null),N=v?.ownerDocument??globalThis?.document,[,A]=p.useState({}),P=Qt(l,O=>w(O)),S=Array.from(x.layers),[T]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),W=S.indexOf(T),G=v?S.indexOf(v):-1,ue=x.layersWithOutsidePointerEventsDisabled.size>0,se=G>=W,ae=l0(O=>{const je=O.target,Z=[...x.branches].some(de=>de.contains(je));!se||Z||(d?.(O),g?.(O),O.defaultPrevented||m?.())},N),Ce=i0(O=>{const je=O.target;[...x.branches].some(de=>de.contains(je))||(f?.(O),g?.(O),O.defaultPrevented||m?.())},N);return t0(O=>{G===x.layers.size-1&&(c?.(O),!O.defaultPrevented&&m&&(O.preventDefault(),m()))},N),p.useEffect(()=>{if(v)return a&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(Sf=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(v)),x.layers.add(v),kf(),()=>{a&&x.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=Sf)}},[v,N,a,x]),p.useEffect(()=>()=>{v&&(x.layers.delete(v),x.layersWithOutsidePointerEventsDisabled.delete(v),kf())},[v,x]),p.useEffect(()=>{const O=()=>A({});return document.addEventListener(Zi,O),()=>document.removeEventListener(Zi,O)},[]),r.jsx(Wt.div,{...y,ref:P,style:{pointerEvents:ue?se?"auto":"none":void 0,...s.style},onFocusCapture:Dt(s.onFocusCapture,Ce.onFocusCapture),onBlurCapture:Dt(s.onBlurCapture,Ce.onBlurCapture),onPointerDownCapture:Dt(s.onPointerDownCapture,ae.onPointerDownCapture)})});cp.displayName=r0;var a0="DismissableLayerBranch",o0=p.forwardRef((s,l)=>{const a=p.useContext(ip),c=p.useRef(null),d=Qt(l,c);return p.useEffect(()=>{const f=c.current;if(f)return a.branches.add(f),()=>{a.branches.delete(f)}},[a.branches]),r.jsx(Wt.div,{...s,ref:d})});o0.displayName=a0;function l0(s,l=globalThis?.document){const a=rr(s),c=p.useRef(!1),d=p.useRef(()=>{});return p.useEffect(()=>{const f=m=>{if(m.target&&!c.current){let y=function(){up(n0,a,x,{discrete:!0})};const x={originalEvent:m};m.pointerType==="touch"?(l.removeEventListener("click",d.current),d.current=y,l.addEventListener("click",d.current,{once:!0})):y()}else l.removeEventListener("click",d.current);c.current=!1},g=window.setTimeout(()=>{l.addEventListener("pointerdown",f)},0);return()=>{window.clearTimeout(g),l.removeEventListener("pointerdown",f),l.removeEventListener("click",d.current)}},[l,a]),{onPointerDownCapture:()=>c.current=!0}}function i0(s,l=globalThis?.document){const a=rr(s),c=p.useRef(!1);return p.useEffect(()=>{const d=f=>{f.target&&!c.current&&up(s0,a,{originalEvent:f},{discrete:!1})};return l.addEventListener("focusin",d),()=>l.removeEventListener("focusin",d)},[l,a]),{onFocusCapture:()=>c.current=!0,onBlurCapture:()=>c.current=!1}}function kf(){const s=new CustomEvent(Zi);document.dispatchEvent(s)}function up(s,l,a,{discrete:c}){const d=a.originalEvent.target,f=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:a});l&&d.addEventListener(s,l,{once:!0}),c?e0(d,f):d.dispatchEvent(f)}var Oi="focusScope.autoFocusOnMount",Mi="focusScope.autoFocusOnUnmount",Cf={bubbles:!1,cancelable:!0},c0="FocusScope",dp=p.forwardRef((s,l)=>{const{loop:a=!1,trapped:c=!1,onMountAutoFocus:d,onUnmountAutoFocus:f,...g}=s,[m,y]=p.useState(null),x=rr(d),v=rr(f),w=p.useRef(null),N=Qt(l,S=>y(S)),A=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(c){let S=function(ue){if(A.paused||!m)return;const se=ue.target;m.contains(se)?w.current=se:on(w.current,{select:!0})},T=function(ue){if(A.paused||!m)return;const se=ue.relatedTarget;se!==null&&(m.contains(se)||on(w.current,{select:!0}))},W=function(ue){if(document.activeElement===document.body)for(const ae of ue)ae.removedNodes.length>0&&on(m)};document.addEventListener("focusin",S),document.addEventListener("focusout",T);const G=new MutationObserver(W);return m&&G.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",T),G.disconnect()}}},[c,m,A.paused]),p.useEffect(()=>{if(m){Pf.add(A);const S=document.activeElement;if(!m.contains(S)){const W=new CustomEvent(Oi,Cf);m.addEventListener(Oi,x),m.dispatchEvent(W),W.defaultPrevented||(u0(h0(fp(m)),{select:!0}),document.activeElement===S&&on(m))}return()=>{m.removeEventListener(Oi,x),setTimeout(()=>{const W=new CustomEvent(Mi,Cf);m.addEventListener(Mi,v),m.dispatchEvent(W),W.defaultPrevented||on(S??document.body,{select:!0}),m.removeEventListener(Mi,v),Pf.remove(A)},0)}}},[m,x,v,A]);const P=p.useCallback(S=>{if(!a&&!c||A.paused)return;const T=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,W=document.activeElement;if(T&&W){const G=S.currentTarget,[ue,se]=d0(G);ue&&se?!S.shiftKey&&W===se?(S.preventDefault(),a&&on(ue,{select:!0})):S.shiftKey&&W===ue&&(S.preventDefault(),a&&on(se,{select:!0})):W===G&&S.preventDefault()}},[a,c,A.paused]);return r.jsx(Wt.div,{tabIndex:-1,...g,ref:N,onKeyDown:P})});dp.displayName=c0;function u0(s,{select:l=!1}={}){const a=document.activeElement;for(const c of s)if(on(c,{select:l}),document.activeElement!==a)return}function d0(s){const l=fp(s),a=Ef(l,s),c=Ef(l.reverse(),s);return[a,c]}function fp(s){const l=[],a=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const d=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||d?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)l.push(a.currentNode);return l}function Ef(s,l){for(const a of s)if(!f0(a,{upTo:l}))return a}function f0(s,{upTo:l}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(l!==void 0&&s===l)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function p0(s){return s instanceof HTMLInputElement&&"select"in s}function on(s,{select:l=!1}={}){if(s&&s.focus){const a=document.activeElement;s.focus({preventScroll:!0}),s!==a&&p0(s)&&l&&s.select()}}var Pf=m0();function m0(){let s=[];return{add(l){const a=s[0];l!==a&&a?.pause(),s=Tf(s,l),s.unshift(l)},remove(l){s=Tf(s,l),s[0]?.resume()}}}function Tf(s,l){const a=[...s],c=a.indexOf(l);return c!==-1&&a.splice(c,1),a}function h0(s){return s.filter(l=>l.tagName!=="A")}var g0="Portal",pp=p.forwardRef((s,l)=>{const{container:a,...c}=s,[d,f]=p.useState(!1);fs(()=>f(!0),[]);const g=a||d&&globalThis?.document?.body;return g?bg.createPortal(r.jsx(Wt.div,{...c,ref:l}),g):null});pp.displayName=g0;function y0(s,l){return p.useReducer((a,c)=>l[a][c]??a,s)}var un=s=>{const{present:l,children:a}=s,c=x0(l),d=typeof a=="function"?a({present:c.isPresent}):p.Children.only(a),f=Qt(c.ref,v0(d));return typeof a=="function"||c.isPresent?p.cloneElement(d,{ref:f}):null};un.displayName="Presence";function x0(s){const[l,a]=p.useState(),c=p.useRef(null),d=p.useRef(s),f=p.useRef("none"),g=s?"mounted":"unmounted",[m,y]=y0(g,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const x=wo(c.current);f.current=m==="mounted"?x:"none"},[m]),fs(()=>{const x=c.current,v=d.current;if(v!==s){const N=f.current,A=wo(x);s?y("MOUNT"):A==="none"||x?.display==="none"?y("UNMOUNT"):y(v&&N!==A?"ANIMATION_OUT":"UNMOUNT"),d.current=s}},[s,y]),fs(()=>{if(l){let x;const v=l.ownerDocument.defaultView??window,w=A=>{const S=wo(c.current).includes(CSS.escape(A.animationName));if(A.target===l&&S&&(y("ANIMATION_END"),!d.current)){const T=l.style.animationFillMode;l.style.animationFillMode="forwards",x=v.setTimeout(()=>{l.style.animationFillMode==="forwards"&&(l.style.animationFillMode=T)})}},N=A=>{A.target===l&&(f.current=wo(c.current))};return l.addEventListener("animationstart",N),l.addEventListener("animationcancel",w),l.addEventListener("animationend",w),()=>{v.clearTimeout(x),l.removeEventListener("animationstart",N),l.removeEventListener("animationcancel",w),l.removeEventListener("animationend",w)}}else y("ANIMATION_END")},[l,y]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:p.useCallback(x=>{c.current=x?getComputedStyle(x):null,a(x)},[])}}function wo(s){return s?.animationName||"none"}function v0(s){let l=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,a=l&&"isReactWarning"in l&&l.isReactWarning;return a?s.ref:(l=Object.getOwnPropertyDescriptor(s,"ref")?.get,a=l&&"isReactWarning"in l&&l.isReactWarning,a?s.props.ref:s.props.ref||s.ref)}var zi=0;function b0(){p.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??_f()),document.body.insertAdjacentElement("beforeend",s[1]??_f()),zi++,()=>{zi===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(l=>l.remove()),zi--}},[])}function _f(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var br=function(){return br=Object.assign||function(l){for(var a,c=1,d=arguments.length;c<d;c++){a=arguments[c];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(l[f]=a[f])}return l},br.apply(this,arguments)};function mp(s,l){var a={};for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&l.indexOf(c)<0&&(a[c]=s[c]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(s);d<c.length;d++)l.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(s,c[d])&&(a[c[d]]=s[c[d]]);return a}function w0(s,l,a){if(a||arguments.length===2)for(var c=0,d=l.length,f;c<d;c++)(f||!(c in l))&&(f||(f=Array.prototype.slice.call(l,0,c)),f[c]=l[c]);return s.concat(f||Array.prototype.slice.call(l))}var Po="right-scroll-bar-position",To="width-before-scroll-bar",j0="with-scroll-bars-hidden",N0="--removed-body-scroll-bar-size";function Bi(s,l){return typeof s=="function"?s(l):s&&(s.current=l),s}function S0(s,l){var a=p.useState(function(){return{value:s,callback:l,facade:{get current(){return a.value},set current(c){var d=a.value;d!==c&&(a.value=c,a.callback(c,d))}}}})[0];return a.callback=l,a.facade}var k0=typeof window<"u"?p.useLayoutEffect:p.useEffect,Af=new WeakMap;function C0(s,l){var a=S0(null,function(c){return s.forEach(function(d){return Bi(d,c)})});return k0(function(){var c=Af.get(a);if(c){var d=new Set(c),f=new Set(s),g=a.current;d.forEach(function(m){f.has(m)||Bi(m,null)}),f.forEach(function(m){d.has(m)||Bi(m,g)})}Af.set(a,s)},[s]),a}function E0(s){return s}function P0(s,l){l===void 0&&(l=E0);var a=[],c=!1,d={read:function(){if(c)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:s},useMedium:function(f){var g=l(f,c);return a.push(g),function(){a=a.filter(function(m){return m!==g})}},assignSyncMedium:function(f){for(c=!0;a.length;){var g=a;a=[],g.forEach(f)}a={push:function(m){return f(m)},filter:function(){return a}}},assignMedium:function(f){c=!0;var g=[];if(a.length){var m=a;a=[],m.forEach(f),g=a}var y=function(){var v=g;g=[],v.forEach(f)},x=function(){return Promise.resolve().then(y)};x(),a={push:function(v){g.push(v),x()},filter:function(v){return g=g.filter(v),a}}}};return d}function T0(s){s===void 0&&(s={});var l=P0(null);return l.options=br({async:!0,ssr:!1},s),l}var hp=function(s){var l=s.sideCar,a=mp(s,["sideCar"]);if(!l)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var c=l.read();if(!c)throw new Error("Sidecar medium not found");return p.createElement(c,br({},a))};hp.isSideCarExport=!0;function _0(s,l){return s.useMedium(l),hp}var gp=T0(),Ui=function(){},Vo=p.forwardRef(function(s,l){var a=p.useRef(null),c=p.useState({onScrollCapture:Ui,onWheelCapture:Ui,onTouchMoveCapture:Ui}),d=c[0],f=c[1],g=s.forwardProps,m=s.children,y=s.className,x=s.removeScrollBar,v=s.enabled,w=s.shards,N=s.sideCar,A=s.noRelative,P=s.noIsolation,S=s.inert,T=s.allowPinchZoom,W=s.as,G=W===void 0?"div":W,ue=s.gapMode,se=mp(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ae=N,Ce=C0([a,l]),O=br(br({},se),d);return p.createElement(p.Fragment,null,v&&p.createElement(ae,{sideCar:gp,removeScrollBar:x,shards:w,noRelative:A,noIsolation:P,inert:S,setCallbacks:f,allowPinchZoom:!!T,lockRef:a,gapMode:ue}),g?p.cloneElement(p.Children.only(m),br(br({},O),{ref:Ce})):p.createElement(G,br({},O,{className:y,ref:Ce}),m))});Vo.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vo.classNames={fullWidth:To,zeroRight:Po};var A0=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function R0(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var l=A0();return l&&s.setAttribute("nonce",l),s}function D0(s,l){s.styleSheet?s.styleSheet.cssText=l:s.appendChild(document.createTextNode(l))}function F0(s){var l=document.head||document.getElementsByTagName("head")[0];l.appendChild(s)}var L0=function(){var s=0,l=null;return{add:function(a){s==0&&(l=R0())&&(D0(l,a),F0(l)),s++},remove:function(){s--,!s&&l&&(l.parentNode&&l.parentNode.removeChild(l),l=null)}}},I0=function(){var s=L0();return function(l,a){p.useEffect(function(){return s.add(l),function(){s.remove()}},[l&&a])}},yp=function(){var s=I0(),l=function(a){var c=a.styles,d=a.dynamic;return s(c,d),null};return l},O0={left:0,top:0,right:0,gap:0},Wi=function(s){return parseInt(s||"",10)||0},M0=function(s){var l=window.getComputedStyle(document.body),a=l[s==="padding"?"paddingLeft":"marginLeft"],c=l[s==="padding"?"paddingTop":"marginTop"],d=l[s==="padding"?"paddingRight":"marginRight"];return[Wi(a),Wi(c),Wi(d)]},z0=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return O0;var l=M0(s),a=document.documentElement.clientWidth,c=window.innerWidth;return{left:l[0],top:l[1],right:l[2],gap:Math.max(0,c-a+l[2]-l[0])}},B0=yp(),cs="data-scroll-locked",U0=function(s,l,a,c){var d=s.left,f=s.top,g=s.right,m=s.gap;return a===void 0&&(a="margin"),`
  .`.concat(j0,` {
   overflow: hidden `).concat(c,`;
   padding-right: `).concat(m,"px ").concat(c,`;
  }
  body[`).concat(cs,`] {
    overflow: hidden `).concat(c,`;
    overscroll-behavior: contain;
    `).concat([l&&"position: relative ".concat(c,";"),a==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(f,`px;
    padding-right: `).concat(g,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(c,`;
    `),a==="padding"&&"padding-right: ".concat(m,"px ").concat(c,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Po,` {
    right: `).concat(m,"px ").concat(c,`;
  }
  
  .`).concat(To,` {
    margin-right: `).concat(m,"px ").concat(c,`;
  }
  
  .`).concat(Po," .").concat(Po,` {
    right: 0 `).concat(c,`;
  }
  
  .`).concat(To," .").concat(To,` {
    margin-right: 0 `).concat(c,`;
  }
  
  body[`).concat(cs,`] {
    `).concat(N0,": ").concat(m,`px;
  }
`)},Rf=function(){var s=parseInt(document.body.getAttribute(cs)||"0",10);return isFinite(s)?s:0},W0=function(){p.useEffect(function(){return document.body.setAttribute(cs,(Rf()+1).toString()),function(){var s=Rf()-1;s<=0?document.body.removeAttribute(cs):document.body.setAttribute(cs,s.toString())}},[])},$0=function(s){var l=s.noRelative,a=s.noImportant,c=s.gapMode,d=c===void 0?"margin":c;W0();var f=p.useMemo(function(){return z0(d)},[d]);return p.createElement(B0,{styles:U0(f,!l,d,a?"":"!important")})},ec=!1;if(typeof window<"u")try{var jo=Object.defineProperty({},"passive",{get:function(){return ec=!0,!0}});window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{ec=!1}var as=ec?{passive:!1}:!1,V0=function(s){return s.tagName==="TEXTAREA"},xp=function(s,l){if(!(s instanceof Element))return!1;var a=window.getComputedStyle(s);return a[l]!=="hidden"&&!(a.overflowY===a.overflowX&&!V0(s)&&a[l]==="visible")},H0=function(s){return xp(s,"overflowY")},G0=function(s){return xp(s,"overflowX")},Df=function(s,l){var a=l.ownerDocument,c=l;do{typeof ShadowRoot<"u"&&c instanceof ShadowRoot&&(c=c.host);var d=vp(s,c);if(d){var f=bp(s,c),g=f[1],m=f[2];if(g>m)return!0}c=c.parentNode}while(c&&c!==a.body);return!1},K0=function(s){var l=s.scrollTop,a=s.scrollHeight,c=s.clientHeight;return[l,a,c]},Q0=function(s){var l=s.scrollLeft,a=s.scrollWidth,c=s.clientWidth;return[l,a,c]},vp=function(s,l){return s==="v"?H0(l):G0(l)},bp=function(s,l){return s==="v"?K0(l):Q0(l)},Y0=function(s,l){return s==="h"&&l==="rtl"?-1:1},J0=function(s,l,a,c,d){var f=Y0(s,window.getComputedStyle(l).direction),g=f*c,m=a.target,y=l.contains(m),x=!1,v=g>0,w=0,N=0;do{if(!m)break;var A=bp(s,m),P=A[0],S=A[1],T=A[2],W=S-T-f*P;(P||W)&&vp(s,m)&&(w+=W,N+=P);var G=m.parentNode;m=G&&G.nodeType===Node.DOCUMENT_FRAGMENT_NODE?G.host:G}while(!y&&m!==document.body||y&&(l.contains(m)||l===m));return(v&&Math.abs(w)<1||!v&&Math.abs(N)<1)&&(x=!0),x},No=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},Ff=function(s){return[s.deltaX,s.deltaY]},Lf=function(s){return s&&"current"in s?s.current:s},X0=function(s,l){return s[0]===l[0]&&s[1]===l[1]},q0=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},Z0=0,os=[];function ex(s){var l=p.useRef([]),a=p.useRef([0,0]),c=p.useRef(),d=p.useState(Z0++)[0],f=p.useState(yp)[0],g=p.useRef(s);p.useEffect(function(){g.current=s},[s]),p.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(d));var S=w0([s.lockRef.current],(s.shards||[]).map(Lf),!0).filter(Boolean);return S.forEach(function(T){return T.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),S.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(d))})}}},[s.inert,s.lockRef.current,s.shards]);var m=p.useCallback(function(S,T){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!g.current.allowPinchZoom;var W=No(S),G=a.current,ue="deltaX"in S?S.deltaX:G[0]-W[0],se="deltaY"in S?S.deltaY:G[1]-W[1],ae,Ce=S.target,O=Math.abs(ue)>Math.abs(se)?"h":"v";if("touches"in S&&O==="h"&&Ce.type==="range")return!1;var je=window.getSelection(),Z=je&&je.anchorNode,de=Z?Z===Ce||Z.contains(Ce):!1;if(de)return!1;var Ve=Df(O,Ce);if(!Ve)return!0;if(Ve?ae=O:(ae=O==="v"?"h":"v",Ve=Df(O,Ce)),!Ve)return!1;if(!c.current&&"changedTouches"in S&&(ue||se)&&(c.current=ae),!ae)return!0;var xe=c.current||ae;return J0(xe,T,S,xe==="h"?ue:se)},[]),y=p.useCallback(function(S){var T=S;if(!(!os.length||os[os.length-1]!==f)){var W="deltaY"in T?Ff(T):No(T),G=l.current.filter(function(ae){return ae.name===T.type&&(ae.target===T.target||T.target===ae.shadowParent)&&X0(ae.delta,W)})[0];if(G&&G.should){T.cancelable&&T.preventDefault();return}if(!G){var ue=(g.current.shards||[]).map(Lf).filter(Boolean).filter(function(ae){return ae.contains(T.target)}),se=ue.length>0?m(T,ue[0]):!g.current.noIsolation;se&&T.cancelable&&T.preventDefault()}}},[]),x=p.useCallback(function(S,T,W,G){var ue={name:S,delta:T,target:W,should:G,shadowParent:tx(W)};l.current.push(ue),setTimeout(function(){l.current=l.current.filter(function(se){return se!==ue})},1)},[]),v=p.useCallback(function(S){a.current=No(S),c.current=void 0},[]),w=p.useCallback(function(S){x(S.type,Ff(S),S.target,m(S,s.lockRef.current))},[]),N=p.useCallback(function(S){x(S.type,No(S),S.target,m(S,s.lockRef.current))},[]);p.useEffect(function(){return os.push(f),s.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:N}),document.addEventListener("wheel",y,as),document.addEventListener("touchmove",y,as),document.addEventListener("touchstart",v,as),function(){os=os.filter(function(S){return S!==f}),document.removeEventListener("wheel",y,as),document.removeEventListener("touchmove",y,as),document.removeEventListener("touchstart",v,as)}},[]);var A=s.removeScrollBar,P=s.inert;return p.createElement(p.Fragment,null,P?p.createElement(f,{styles:q0(d)}):null,A?p.createElement($0,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function tx(s){for(var l=null;s!==null;)s instanceof ShadowRoot&&(l=s.host,s=s.host),s=s.parentNode;return l}const rx=_0(gp,ex);var wp=p.forwardRef(function(s,l){return p.createElement(Vo,br({},s,{ref:l,sideCar:rx}))});wp.classNames=Vo.classNames;var nx=function(s){if(typeof document>"u")return null;var l=Array.isArray(s)?s[0]:s;return l.ownerDocument.body},ls=new WeakMap,So=new WeakMap,ko={},$i=0,jp=function(s){return s&&(s.host||jp(s.parentNode))},sx=function(s,l){return l.map(function(a){if(s.contains(a))return a;var c=jp(a);return c&&s.contains(c)?c:(console.error("aria-hidden",a,"in not contained inside",s,". Doing nothing"),null)}).filter(function(a){return!!a})},ax=function(s,l,a,c){var d=sx(l,Array.isArray(s)?s:[s]);ko[a]||(ko[a]=new WeakMap);var f=ko[a],g=[],m=new Set,y=new Set(d),x=function(w){!w||m.has(w)||(m.add(w),x(w.parentNode))};d.forEach(x);var v=function(w){!w||y.has(w)||Array.prototype.forEach.call(w.children,function(N){if(m.has(N))v(N);else try{var A=N.getAttribute(c),P=A!==null&&A!=="false",S=(ls.get(N)||0)+1,T=(f.get(N)||0)+1;ls.set(N,S),f.set(N,T),g.push(N),S===1&&P&&So.set(N,!0),T===1&&N.setAttribute(a,"true"),P||N.setAttribute(c,"true")}catch(W){console.error("aria-hidden: cannot operate on ",N,W)}})};return v(l),m.clear(),$i++,function(){g.forEach(function(w){var N=ls.get(w)-1,A=f.get(w)-1;ls.set(w,N),f.set(w,A),N||(So.has(w)||w.removeAttribute(c),So.delete(w)),A||w.removeAttribute(a)}),$i--,$i||(ls=new WeakMap,ls=new WeakMap,So=new WeakMap,ko={})}},ox=function(s,l,a){a===void 0&&(a="data-aria-hidden");var c=Array.from(Array.isArray(s)?s:[s]),d=nx(s);return d?(c.push.apply(c,Array.from(d.querySelectorAll("[aria-live], script"))),ax(c,d,a,"aria-hidden")):function(){return null}};function lx(s){const l=ix(s),a=p.forwardRef((c,d)=>{const{children:f,...g}=c,m=p.Children.toArray(f),y=m.find(ux);if(y){const x=y.props.children,v=m.map(w=>w===y?p.Children.count(x)>1?p.Children.only(null):p.isValidElement(x)?x.props.children:null:w);return r.jsx(l,{...g,ref:d,children:p.isValidElement(x)?p.cloneElement(x,void 0,v):null})}return r.jsx(l,{...g,ref:d,children:f})});return a.displayName=`${s}.Slot`,a}function ix(s){const l=p.forwardRef((a,c)=>{const{children:d,...f}=a;if(p.isValidElement(d)){const g=fx(d),m=dx(f,d.props);return d.type!==p.Fragment&&(m.ref=c?$o(c,g):g),p.cloneElement(d,m)}return p.Children.count(d)>1?p.Children.only(null):null});return l.displayName=`${s}.SlotClone`,l}var cx=Symbol("radix.slottable");function ux(s){return p.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===cx}function dx(s,l){const a={...l};for(const c in l){const d=s[c],f=l[c];/^on[A-Z]/.test(c)?d&&f?a[c]=(...m)=>{const y=f(...m);return d(...m),y}:d&&(a[c]=d):c==="style"?a[c]={...d,...f}:c==="className"&&(a[c]=[d,f].filter(Boolean).join(" "))}return{...s,...a}}function fx(s){let l=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,a=l&&"isReactWarning"in l&&l.isReactWarning;return a?s.ref:(l=Object.getOwnPropertyDescriptor(s,"ref")?.get,a=l&&"isReactWarning"in l&&l.isReactWarning,a?s.props.ref:s.props.ref||s.ref)}var Ho="Dialog",[Np]=lp(Ho),[px,fr]=Np(Ho),Sp=s=>{const{__scopeDialog:l,children:a,open:c,defaultOpen:d,onOpenChange:f,modal:g=!0}=s,m=p.useRef(null),y=p.useRef(null),[x,v]=Vy({prop:c,defaultProp:d??!1,onChange:f,caller:Ho});return r.jsx(px,{scope:l,triggerRef:m,contentRef:y,contentId:Ii(),titleId:Ii(),descriptionId:Ii(),open:x,onOpenChange:v,onOpenToggle:p.useCallback(()=>v(w=>!w),[v]),modal:g,children:a})};Sp.displayName=Ho;var kp="DialogTrigger",mx=p.forwardRef((s,l)=>{const{__scopeDialog:a,...c}=s,d=fr(kp,a),f=Qt(l,d.triggerRef);return r.jsx(Wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":uc(d.open),...c,ref:f,onClick:Dt(s.onClick,d.onOpenToggle)})});mx.displayName=kp;var ic="DialogPortal",[hx,Cp]=Np(ic,{forceMount:void 0}),Ep=s=>{const{__scopeDialog:l,forceMount:a,children:c,container:d}=s,f=fr(ic,l);return r.jsx(hx,{scope:l,forceMount:a,children:p.Children.map(c,g=>r.jsx(un,{present:a||f.open,children:r.jsx(pp,{asChild:!0,container:d,children:g})}))})};Ep.displayName=ic;var Do="DialogOverlay",Pp=p.forwardRef((s,l)=>{const a=Cp(Do,s.__scopeDialog),{forceMount:c=a.forceMount,...d}=s,f=fr(Do,s.__scopeDialog);return f.modal?r.jsx(un,{present:c||f.open,children:r.jsx(yx,{...d,ref:l})}):null});Pp.displayName=Do;var gx=lx("DialogOverlay.RemoveScroll"),yx=p.forwardRef((s,l)=>{const{__scopeDialog:a,...c}=s,d=fr(Do,a);return r.jsx(wp,{as:gx,allowPinchZoom:!0,shards:[d.contentRef],children:r.jsx(Wt.div,{"data-state":uc(d.open),...c,ref:l,style:{pointerEvents:"auto",...c.style}})})}),Rn="DialogContent",Tp=p.forwardRef((s,l)=>{const a=Cp(Rn,s.__scopeDialog),{forceMount:c=a.forceMount,...d}=s,f=fr(Rn,s.__scopeDialog);return r.jsx(un,{present:c||f.open,children:f.modal?r.jsx(xx,{...d,ref:l}):r.jsx(vx,{...d,ref:l})})});Tp.displayName=Rn;var xx=p.forwardRef((s,l)=>{const a=fr(Rn,s.__scopeDialog),c=p.useRef(null),d=Qt(l,a.contentRef,c);return p.useEffect(()=>{const f=c.current;if(f)return ox(f)},[]),r.jsx(_p,{...s,ref:d,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Dt(s.onCloseAutoFocus,f=>{f.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:Dt(s.onPointerDownOutside,f=>{const g=f.detail.originalEvent,m=g.button===0&&g.ctrlKey===!0;(g.button===2||m)&&f.preventDefault()}),onFocusOutside:Dt(s.onFocusOutside,f=>f.preventDefault())})}),vx=p.forwardRef((s,l)=>{const a=fr(Rn,s.__scopeDialog),c=p.useRef(!1),d=p.useRef(!1);return r.jsx(_p,{...s,ref:l,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:f=>{s.onCloseAutoFocus?.(f),f.defaultPrevented||(c.current||a.triggerRef.current?.focus(),f.preventDefault()),c.current=!1,d.current=!1},onInteractOutside:f=>{s.onInteractOutside?.(f),f.defaultPrevented||(c.current=!0,f.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const g=f.target;a.triggerRef.current?.contains(g)&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&d.current&&f.preventDefault()}})}),_p=p.forwardRef((s,l)=>{const{__scopeDialog:a,trapFocus:c,onOpenAutoFocus:d,onCloseAutoFocus:f,...g}=s,m=fr(Rn,a),y=p.useRef(null),x=Qt(l,y);return b0(),r.jsxs(r.Fragment,{children:[r.jsx(dp,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:d,onUnmountAutoFocus:f,children:r.jsx(cp,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":uc(m.open),...g,ref:x,onDismiss:()=>m.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(bx,{titleId:m.titleId}),r.jsx(jx,{contentRef:y,descriptionId:m.descriptionId})]})]})}),cc="DialogTitle",Ap=p.forwardRef((s,l)=>{const{__scopeDialog:a,...c}=s,d=fr(cc,a);return r.jsx(Wt.h2,{id:d.titleId,...c,ref:l})});Ap.displayName=cc;var Rp="DialogDescription",Dp=p.forwardRef((s,l)=>{const{__scopeDialog:a,...c}=s,d=fr(Rp,a);return r.jsx(Wt.p,{id:d.descriptionId,...c,ref:l})});Dp.displayName=Rp;var Fp="DialogClose",Lp=p.forwardRef((s,l)=>{const{__scopeDialog:a,...c}=s,d=fr(Fp,a);return r.jsx(Wt.button,{type:"button",...c,ref:l,onClick:Dt(s.onClick,()=>d.onOpenChange(!1))})});Lp.displayName=Fp;function uc(s){return s?"open":"closed"}var Ip="DialogTitleWarning",[Pb,Op]=zy(Ip,{contentName:Rn,titleName:cc,docsSlug:"dialog"}),bx=({titleId:s})=>{const l=Op(Ip),a=`\`${l.contentName}\` requires a \`${l.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${l.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${l.docsSlug}`;return p.useEffect(()=>{s&&(document.getElementById(s)||console.error(a))},[a,s]),null},wx="DialogDescriptionWarning",jx=({contentRef:s,descriptionId:l})=>{const c=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Op(wx).contentName}}.`;return p.useEffect(()=>{const d=s.current?.getAttribute("aria-describedby");l&&d&&(document.getElementById(l)||console.warn(c))},[c,s,l]),null},Nx=Sp,Sx=Ep,Mp=Pp,kx=Tp,Cx=Ap,Ex=Dp,Px=Lp;function zp(s){var l,a,c="";if(typeof s=="string"||typeof s=="number")c+=s;else if(typeof s=="object")if(Array.isArray(s)){var d=s.length;for(l=0;l<d;l++)s[l]&&(a=zp(s[l]))&&(c&&(c+=" "),c+=a)}else for(a in s)s[a]&&(c&&(c+=" "),c+=a);return c}function Bp(){for(var s,l,a=0,c="",d=arguments.length;a<d;a++)(s=arguments[a])&&(l=zp(s))&&(c&&(c+=" "),c+=l);return c}const dc="-",Tx=s=>{const l=Ax(s),{conflictingClassGroups:a,conflictingClassGroupModifiers:c}=s;return{getClassGroupId:g=>{const m=g.split(dc);return m[0]===""&&m.length!==1&&m.shift(),Up(m,l)||_x(g)},getConflictingClassGroupIds:(g,m)=>{const y=a[g]||[];return m&&c[g]?[...y,...c[g]]:y}}},Up=(s,l)=>{if(s.length===0)return l.classGroupId;const a=s[0],c=l.nextPart.get(a),d=c?Up(s.slice(1),c):void 0;if(d)return d;if(l.validators.length===0)return;const f=s.join(dc);return l.validators.find(({validator:g})=>g(f))?.classGroupId},If=/^\[(.+)\]$/,_x=s=>{if(If.test(s)){const l=If.exec(s)[1],a=l?.substring(0,l.indexOf(":"));if(a)return"arbitrary.."+a}},Ax=s=>{const{theme:l,prefix:a}=s,c={nextPart:new Map,validators:[]};return Dx(Object.entries(s.classGroups),a).forEach(([f,g])=>{tc(g,c,f,l)}),c},tc=(s,l,a,c)=>{s.forEach(d=>{if(typeof d=="string"){const f=d===""?l:Of(l,d);f.classGroupId=a;return}if(typeof d=="function"){if(Rx(d)){tc(d(c),l,a,c);return}l.validators.push({validator:d,classGroupId:a});return}Object.entries(d).forEach(([f,g])=>{tc(g,Of(l,f),a,c)})})},Of=(s,l)=>{let a=s;return l.split(dc).forEach(c=>{a.nextPart.has(c)||a.nextPart.set(c,{nextPart:new Map,validators:[]}),a=a.nextPart.get(c)}),a},Rx=s=>s.isThemeGetter,Dx=(s,l)=>l?s.map(([a,c])=>{const d=c.map(f=>typeof f=="string"?l+f:typeof f=="object"?Object.fromEntries(Object.entries(f).map(([g,m])=>[l+g,m])):f);return[a,d]}):s,Fx=s=>{if(s<1)return{get:()=>{},set:()=>{}};let l=0,a=new Map,c=new Map;const d=(f,g)=>{a.set(f,g),l++,l>s&&(l=0,c=a,a=new Map)};return{get(f){let g=a.get(f);if(g!==void 0)return g;if((g=c.get(f))!==void 0)return d(f,g),g},set(f,g){a.has(f)?a.set(f,g):d(f,g)}}},Wp="!",Lx=s=>{const{separator:l,experimentalParseClassName:a}=s,c=l.length===1,d=l[0],f=l.length,g=m=>{const y=[];let x=0,v=0,w;for(let T=0;T<m.length;T++){let W=m[T];if(x===0){if(W===d&&(c||m.slice(T,T+f)===l)){y.push(m.slice(v,T)),v=T+f;continue}if(W==="/"){w=T;continue}}W==="["?x++:W==="]"&&x--}const N=y.length===0?m:m.substring(v),A=N.startsWith(Wp),P=A?N.substring(1):N,S=w&&w>v?w-v:void 0;return{modifiers:y,hasImportantModifier:A,baseClassName:P,maybePostfixModifierPosition:S}};return a?m=>a({className:m,parseClassName:g}):g},Ix=s=>{if(s.length<=1)return s;const l=[];let a=[];return s.forEach(c=>{c[0]==="["?(l.push(...a.sort(),c),a=[]):a.push(c)}),l.push(...a.sort()),l},Ox=s=>({cache:Fx(s.cacheSize),parseClassName:Lx(s),...Tx(s)}),Mx=/\s+/,zx=(s,l)=>{const{parseClassName:a,getClassGroupId:c,getConflictingClassGroupIds:d}=l,f=[],g=s.trim().split(Mx);let m="";for(let y=g.length-1;y>=0;y-=1){const x=g[y],{modifiers:v,hasImportantModifier:w,baseClassName:N,maybePostfixModifierPosition:A}=a(x);let P=!!A,S=c(P?N.substring(0,A):N);if(!S){if(!P){m=x+(m.length>0?" "+m:m);continue}if(S=c(N),!S){m=x+(m.length>0?" "+m:m);continue}P=!1}const T=Ix(v).join(":"),W=w?T+Wp:T,G=W+S;if(f.includes(G))continue;f.push(G);const ue=d(S,P);for(let se=0;se<ue.length;++se){const ae=ue[se];f.push(W+ae)}m=x+(m.length>0?" "+m:m)}return m};function Bx(){let s=0,l,a,c="";for(;s<arguments.length;)(l=arguments[s++])&&(a=$p(l))&&(c&&(c+=" "),c+=a);return c}const $p=s=>{if(typeof s=="string")return s;let l,a="";for(let c=0;c<s.length;c++)s[c]&&(l=$p(s[c]))&&(a&&(a+=" "),a+=l);return a};function Ux(s,...l){let a,c,d,f=g;function g(y){const x=l.reduce((v,w)=>w(v),s());return a=Ox(x),c=a.cache.get,d=a.cache.set,f=m,m(y)}function m(y){const x=c(y);if(x)return x;const v=zx(y,a);return d(y,v),v}return function(){return f(Bx.apply(null,arguments))}}const ot=s=>{const l=a=>a[s]||[];return l.isThemeGetter=!0,l},Vp=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wx=/^\d+\/\d+$/,$x=new Set(["px","full","screen"]),Vx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Hx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Kx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dr=s=>us(s)||$x.has(s)||Wx.test(s),sn=s=>gs(s,"length",rv),us=s=>!!s&&!Number.isNaN(Number(s)),Vi=s=>gs(s,"number",us),na=s=>!!s&&Number.isInteger(Number(s)),Yx=s=>s.endsWith("%")&&us(s.slice(0,-1)),Ue=s=>Vp.test(s),an=s=>Vx.test(s),Jx=new Set(["length","size","percentage"]),Xx=s=>gs(s,Jx,Hp),qx=s=>gs(s,"position",Hp),Zx=new Set(["image","url"]),ev=s=>gs(s,Zx,sv),tv=s=>gs(s,"",nv),sa=()=>!0,gs=(s,l,a)=>{const c=Vp.exec(s);return c?c[1]?typeof l=="string"?c[1]===l:l.has(c[1]):a(c[2]):!1},rv=s=>Hx.test(s)&&!Gx.test(s),Hp=()=>!1,nv=s=>Kx.test(s),sv=s=>Qx.test(s),av=()=>{const s=ot("colors"),l=ot("spacing"),a=ot("blur"),c=ot("brightness"),d=ot("borderColor"),f=ot("borderRadius"),g=ot("borderSpacing"),m=ot("borderWidth"),y=ot("contrast"),x=ot("grayscale"),v=ot("hueRotate"),w=ot("invert"),N=ot("gap"),A=ot("gradientColorStops"),P=ot("gradientColorStopPositions"),S=ot("inset"),T=ot("margin"),W=ot("opacity"),G=ot("padding"),ue=ot("saturate"),se=ot("scale"),ae=ot("sepia"),Ce=ot("skew"),O=ot("space"),je=ot("translate"),Z=()=>["auto","contain","none"],de=()=>["auto","hidden","clip","visible","scroll"],Ve=()=>["auto",Ue,l],xe=()=>[Ue,l],He=()=>["",Dr,sn],ze=()=>["auto",us,Ue],Je=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],ie=()=>["","0",Ue],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>[us,Ue];return{cacheSize:500,separator:":",theme:{colors:[sa],spacing:[Dr,sn],blur:["none","",an,Ue],brightness:C(),borderColor:[s],borderRadius:["none","","full",an,Ue],borderSpacing:xe(),borderWidth:He(),contrast:C(),grayscale:ie(),hueRotate:C(),invert:ie(),gap:xe(),gradientColorStops:[s],gradientColorStopPositions:[Yx,sn],inset:Ve(),margin:Ve(),opacity:C(),padding:xe(),saturate:C(),scale:C(),sepia:ie(),skew:C(),space:xe(),translate:xe()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[an]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Je(),Ue]}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",na,Ue]}],basis:[{basis:Ve()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:ie()}],shrink:[{shrink:ie()}],order:[{order:["first","last","none",na,Ue]}],"grid-cols":[{"grid-cols":[sa]}],"col-start-end":[{col:["auto",{span:["full",na,Ue]},Ue]}],"col-start":[{"col-start":ze()}],"col-end":[{"col-end":ze()}],"grid-rows":[{"grid-rows":[sa]}],"row-start-end":[{row:["auto",{span:[na,Ue]},Ue]}],"row-start":[{"row-start":ze()}],"row-end":[{"row-end":ze()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[G]}],px:[{px:[G]}],py:[{py:[G]}],ps:[{ps:[G]}],pe:[{pe:[G]}],pt:[{pt:[G]}],pr:[{pr:[G]}],pb:[{pb:[G]}],pl:[{pl:[G]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,l]}],"min-w":[{"min-w":[Ue,l,"min","max","fit"]}],"max-w":[{"max-w":[Ue,l,"none","full","min","max","fit","prose",{screen:[an]},an]}],h:[{h:[Ue,l,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,l,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,l,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,l,"auto","min","max","fit"]}],"font-size":[{text:["base",an,sn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vi]}],"font-family":[{font:[sa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",us,Vi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dr,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[W]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[W]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dr,sn]}],"underline-offset":[{"underline-offset":["auto",Dr,Ue]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:xe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[W]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Je(),qx]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Xx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ev]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[f]}],"rounded-s":[{"rounded-s":[f]}],"rounded-e":[{"rounded-e":[f]}],"rounded-t":[{"rounded-t":[f]}],"rounded-r":[{"rounded-r":[f]}],"rounded-b":[{"rounded-b":[f]}],"rounded-l":[{"rounded-l":[f]}],"rounded-ss":[{"rounded-ss":[f]}],"rounded-se":[{"rounded-se":[f]}],"rounded-ee":[{"rounded-ee":[f]}],"rounded-es":[{"rounded-es":[f]}],"rounded-tl":[{"rounded-tl":[f]}],"rounded-tr":[{"rounded-tr":[f]}],"rounded-br":[{"rounded-br":[f]}],"rounded-bl":[{"rounded-bl":[f]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[W]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[W]}],"divide-style":[{divide:J()}],"border-color":[{border:[d]}],"border-color-x":[{"border-x":[d]}],"border-color-y":[{"border-y":[d]}],"border-color-s":[{"border-s":[d]}],"border-color-e":[{"border-e":[d]}],"border-color-t":[{"border-t":[d]}],"border-color-r":[{"border-r":[d]}],"border-color-b":[{"border-b":[d]}],"border-color-l":[{"border-l":[d]}],"divide-color":[{divide:[d]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Dr,Ue]}],"outline-w":[{outline:[Dr,sn]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:He()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[W]}],"ring-offset-w":[{"ring-offset":[Dr,sn]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",an,tv]}],"shadow-color":[{shadow:[sa]}],opacity:[{opacity:[W]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[c]}],contrast:[{contrast:[y]}],"drop-shadow":[{"drop-shadow":["","none",an,Ue]}],grayscale:[{grayscale:[x]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[w]}],saturate:[{saturate:[ue]}],sepia:[{sepia:[ae]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[c]}],"backdrop-contrast":[{"backdrop-contrast":[y]}],"backdrop-grayscale":[{"backdrop-grayscale":[x]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[W]}],"backdrop-saturate":[{"backdrop-saturate":[ue]}],"backdrop-sepia":[{"backdrop-sepia":[ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[g]}],"border-spacing-x":[{"border-spacing-x":[g]}],"border-spacing-y":[{"border-spacing-y":[g]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:C()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:C()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[se]}],"scale-x":[{"scale-x":[se]}],"scale-y":[{"scale-y":[se]}],rotate:[{rotate:[na,Ue]}],"translate-x":[{"translate-x":[je]}],"translate-y":[{"translate-y":[je]}],"skew-x":[{"skew-x":[Ce]}],"skew-y":[{"skew-y":[Ce]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":xe()}],"scroll-mx":[{"scroll-mx":xe()}],"scroll-my":[{"scroll-my":xe()}],"scroll-ms":[{"scroll-ms":xe()}],"scroll-me":[{"scroll-me":xe()}],"scroll-mt":[{"scroll-mt":xe()}],"scroll-mr":[{"scroll-mr":xe()}],"scroll-mb":[{"scroll-mb":xe()}],"scroll-ml":[{"scroll-ml":xe()}],"scroll-p":[{"scroll-p":xe()}],"scroll-px":[{"scroll-px":xe()}],"scroll-py":[{"scroll-py":xe()}],"scroll-ps":[{"scroll-ps":xe()}],"scroll-pe":[{"scroll-pe":xe()}],"scroll-pt":[{"scroll-pt":xe()}],"scroll-pr":[{"scroll-pr":xe()}],"scroll-pb":[{"scroll-pb":xe()}],"scroll-pl":[{"scroll-pl":xe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[Dr,sn,Vi]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ov=Ux(av);function Yt(...s){return ov(Bp(s))}function fc({...s}){return r.jsx(Nx,{"data-slot":"dialog",...s})}function lv({...s}){return r.jsx(Sx,{"data-slot":"dialog-portal",...s})}const Gp=p.forwardRef(({className:s,...l},a)=>r.jsx(Mp,{ref:a,"data-slot":"dialog-overlay",className:Yt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...l}));Gp.displayName=Mp.displayName;function pc({className:s,children:l,...a}){return r.jsxs(lv,{"data-slot":"dialog-portal",children:[r.jsx(Gp,{}),r.jsxs(kx,{"data-slot":"dialog-content",className:Yt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...a,children:[l,r.jsxs(Px,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[r.jsx(Wo,{}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function mc({className:s,...l}){return r.jsx("div",{"data-slot":"dialog-header",className:Yt("flex flex-col gap-2 text-center sm:text-left",s),...l})}function hc({className:s,...l}){return r.jsx(Cx,{"data-slot":"dialog-title",className:Yt("text-lg leading-none font-semibold",s),...l})}function gc({className:s,...l}){return r.jsx(Ex,{"data-slot":"dialog-description",className:Yt("text-muted-foreground text-sm",s),...l})}var iv=Symbol.for("react.lazy"),Fo=Mo[" use ".trim().toString()];function cv(s){return typeof s=="object"&&s!==null&&"then"in s}function Kp(s){return s!=null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===iv&&"_payload"in s&&cv(s._payload)}function Qp(s){const l=uv(s),a=p.forwardRef((c,d)=>{let{children:f,...g}=c;Kp(f)&&typeof Fo=="function"&&(f=Fo(f._payload));const m=p.Children.toArray(f),y=m.find(fv);if(y){const x=y.props.children,v=m.map(w=>w===y?p.Children.count(x)>1?p.Children.only(null):p.isValidElement(x)?x.props.children:null:w);return r.jsx(l,{...g,ref:d,children:p.isValidElement(x)?p.cloneElement(x,void 0,v):null})}return r.jsx(l,{...g,ref:d,children:f})});return a.displayName=`${s}.Slot`,a}var Yp=Qp("Slot");function uv(s){const l=p.forwardRef((a,c)=>{let{children:d,...f}=a;if(Kp(d)&&typeof Fo=="function"&&(d=Fo(d._payload)),p.isValidElement(d)){const g=mv(d),m=pv(f,d.props);return d.type!==p.Fragment&&(m.ref=c?$o(c,g):g),p.cloneElement(d,m)}return p.Children.count(d)>1?p.Children.only(null):null});return l.displayName=`${s}.SlotClone`,l}var dv=Symbol("radix.slottable");function fv(s){return p.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===dv}function pv(s,l){const a={...l};for(const c in l){const d=s[c],f=l[c];/^on[A-Z]/.test(c)?d&&f?a[c]=(...m)=>{const y=f(...m);return d(...m),y}:d&&(a[c]=d):c==="style"?a[c]={...d,...f}:c==="className"&&(a[c]=[d,f].filter(Boolean).join(" "))}return{...s,...a}}function mv(s){let l=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,a=l&&"isReactWarning"in l&&l.isReactWarning;return a?s.ref:(l=Object.getOwnPropertyDescriptor(s,"ref")?.get,a=l&&"isReactWarning"in l&&l.isReactWarning,a?s.props.ref:s.props.ref||s.ref)}const Mf=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,zf=Bp,yc=(s,l)=>a=>{var c;if(l?.variants==null)return zf(s,a?.class,a?.className);const{variants:d,defaultVariants:f}=l,g=Object.keys(d).map(x=>{const v=a?.[x],w=f?.[x];if(v===null)return null;const N=Mf(v)||Mf(w);return d[x][N]}),m=a&&Object.entries(a).reduce((x,v)=>{let[w,N]=v;return N===void 0||(x[w]=N),x},{}),y=l==null||(c=l.compoundVariants)===null||c===void 0?void 0:c.reduce((x,v)=>{let{class:w,className:N,...A}=v;return Object.entries(A).every(P=>{let[S,T]=P;return Array.isArray(T)?T.includes({...f,...m}[S]):{...f,...m}[S]===T})?[...x,w,N]:x},[]);return zf(s,g,y,a?.class,a?.className)},hv=yc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function kt({className:s,variant:l,size:a,asChild:c=!1,...d}){const f=c?Yp:"button";return r.jsx(f,{"data-slot":"button",className:Yt(hv({variant:l,size:a,className:s})),...d})}function xc({className:s,type:l,...a}){return r.jsx("input",{type:l,"data-slot":"input",className:Yt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...a})}var gv=p.createContext(void 0);function yv(s){const l=p.useContext(gv);return s||l||"ltr"}function xv(s,[l,a]){return Math.min(a,Math.max(l,s))}function vv(s,l){return p.useReducer((a,c)=>l[a][c]??a,s)}var vc="ScrollArea",[Jp]=lp(vc),[bv,nr]=Jp(vc),Xp=p.forwardRef((s,l)=>{const{__scopeScrollArea:a,type:c="hover",dir:d,scrollHideDelay:f=600,...g}=s,[m,y]=p.useState(null),[x,v]=p.useState(null),[w,N]=p.useState(null),[A,P]=p.useState(null),[S,T]=p.useState(null),[W,G]=p.useState(0),[ue,se]=p.useState(0),[ae,Ce]=p.useState(!1),[O,je]=p.useState(!1),Z=Qt(l,Ve=>y(Ve)),de=yv(d);return r.jsx(bv,{scope:a,type:c,dir:de,scrollHideDelay:f,scrollArea:m,viewport:x,onViewportChange:v,content:w,onContentChange:N,scrollbarX:A,onScrollbarXChange:P,scrollbarXEnabled:ae,onScrollbarXEnabledChange:Ce,scrollbarY:S,onScrollbarYChange:T,scrollbarYEnabled:O,onScrollbarYEnabledChange:je,onCornerWidthChange:G,onCornerHeightChange:se,children:r.jsx(Wt.div,{dir:de,...g,ref:Z,style:{position:"relative","--radix-scroll-area-corner-width":W+"px","--radix-scroll-area-corner-height":ue+"px",...s.style}})})});Xp.displayName=vc;var qp="ScrollAreaViewport",Zp=p.forwardRef((s,l)=>{const{__scopeScrollArea:a,children:c,nonce:d,...f}=s,g=nr(qp,a),m=p.useRef(null),y=Qt(l,m,g.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:d}),r.jsx(Wt.div,{"data-radix-scroll-area-viewport":"",...f,ref:y,style:{overflowX:g.scrollbarXEnabled?"scroll":"hidden",overflowY:g.scrollbarYEnabled?"scroll":"hidden",...s.style},children:r.jsx("div",{ref:g.onContentChange,style:{minWidth:"100%",display:"table"},children:c})})]})});Zp.displayName=qp;var wr="ScrollAreaScrollbar",em=p.forwardRef((s,l)=>{const{forceMount:a,...c}=s,d=nr(wr,s.__scopeScrollArea),{onScrollbarXEnabledChange:f,onScrollbarYEnabledChange:g}=d,m=s.orientation==="horizontal";return p.useEffect(()=>(m?f(!0):g(!0),()=>{m?f(!1):g(!1)}),[m,f,g]),d.type==="hover"?r.jsx(wv,{...c,ref:l,forceMount:a}):d.type==="scroll"?r.jsx(jv,{...c,ref:l,forceMount:a}):d.type==="auto"?r.jsx(tm,{...c,ref:l,forceMount:a}):d.type==="always"?r.jsx(bc,{...c,ref:l}):null});em.displayName=wr;var wv=p.forwardRef((s,l)=>{const{forceMount:a,...c}=s,d=nr(wr,s.__scopeScrollArea),[f,g]=p.useState(!1);return p.useEffect(()=>{const m=d.scrollArea;let y=0;if(m){const x=()=>{window.clearTimeout(y),g(!0)},v=()=>{y=window.setTimeout(()=>g(!1),d.scrollHideDelay)};return m.addEventListener("pointerenter",x),m.addEventListener("pointerleave",v),()=>{window.clearTimeout(y),m.removeEventListener("pointerenter",x),m.removeEventListener("pointerleave",v)}}},[d.scrollArea,d.scrollHideDelay]),r.jsx(un,{present:a||f,children:r.jsx(tm,{"data-state":f?"visible":"hidden",...c,ref:l})})}),jv=p.forwardRef((s,l)=>{const{forceMount:a,...c}=s,d=nr(wr,s.__scopeScrollArea),f=s.orientation==="horizontal",g=Ko(()=>y("SCROLL_END"),100),[m,y]=vv("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(m==="idle"){const x=window.setTimeout(()=>y("HIDE"),d.scrollHideDelay);return()=>window.clearTimeout(x)}},[m,d.scrollHideDelay,y]),p.useEffect(()=>{const x=d.viewport,v=f?"scrollLeft":"scrollTop";if(x){let w=x[v];const N=()=>{const A=x[v];w!==A&&(y("SCROLL"),g()),w=A};return x.addEventListener("scroll",N),()=>x.removeEventListener("scroll",N)}},[d.viewport,f,y,g]),r.jsx(un,{present:a||m!=="hidden",children:r.jsx(bc,{"data-state":m==="hidden"?"hidden":"visible",...c,ref:l,onPointerEnter:Dt(s.onPointerEnter,()=>y("POINTER_ENTER")),onPointerLeave:Dt(s.onPointerLeave,()=>y("POINTER_LEAVE"))})})}),tm=p.forwardRef((s,l)=>{const a=nr(wr,s.__scopeScrollArea),{forceMount:c,...d}=s,[f,g]=p.useState(!1),m=s.orientation==="horizontal",y=Ko(()=>{if(a.viewport){const x=a.viewport.offsetWidth<a.viewport.scrollWidth,v=a.viewport.offsetHeight<a.viewport.scrollHeight;g(m?x:v)}},10);return ps(a.viewport,y),ps(a.content,y),r.jsx(un,{present:c||f,children:r.jsx(bc,{"data-state":f?"visible":"hidden",...d,ref:l})})}),bc=p.forwardRef((s,l)=>{const{orientation:a="vertical",...c}=s,d=nr(wr,s.__scopeScrollArea),f=p.useRef(null),g=p.useRef(0),[m,y]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),x=om(m.viewport,m.content),v={...c,sizes:m,onSizesChange:y,hasThumb:x>0&&x<1,onThumbChange:N=>f.current=N,onThumbPointerUp:()=>g.current=0,onThumbPointerDown:N=>g.current=N};function w(N,A){return Pv(N,g.current,m,A)}return a==="horizontal"?r.jsx(Nv,{...v,ref:l,onThumbPositionChange:()=>{if(d.viewport&&f.current){const N=d.viewport.scrollLeft,A=Bf(N,m,d.dir);f.current.style.transform=`translate3d(${A}px, 0, 0)`}},onWheelScroll:N=>{d.viewport&&(d.viewport.scrollLeft=N)},onDragScroll:N=>{d.viewport&&(d.viewport.scrollLeft=w(N,d.dir))}}):a==="vertical"?r.jsx(Sv,{...v,ref:l,onThumbPositionChange:()=>{if(d.viewport&&f.current){const N=d.viewport.scrollTop,A=Bf(N,m);f.current.style.transform=`translate3d(0, ${A}px, 0)`}},onWheelScroll:N=>{d.viewport&&(d.viewport.scrollTop=N)},onDragScroll:N=>{d.viewport&&(d.viewport.scrollTop=w(N))}}):null}),Nv=p.forwardRef((s,l)=>{const{sizes:a,onSizesChange:c,...d}=s,f=nr(wr,s.__scopeScrollArea),[g,m]=p.useState(),y=p.useRef(null),x=Qt(l,y,f.onScrollbarXChange);return p.useEffect(()=>{y.current&&m(getComputedStyle(y.current))},[y]),r.jsx(nm,{"data-orientation":"horizontal",...d,ref:x,sizes:a,style:{bottom:0,left:f.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:f.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Go(a)+"px",...s.style},onThumbPointerDown:v=>s.onThumbPointerDown(v.x),onDragScroll:v=>s.onDragScroll(v.x),onWheelScroll:(v,w)=>{if(f.viewport){const N=f.viewport.scrollLeft+v.deltaX;s.onWheelScroll(N),im(N,w)&&v.preventDefault()}},onResize:()=>{y.current&&f.viewport&&g&&c({content:f.viewport.scrollWidth,viewport:f.viewport.offsetWidth,scrollbar:{size:y.current.clientWidth,paddingStart:Io(g.paddingLeft),paddingEnd:Io(g.paddingRight)}})}})}),Sv=p.forwardRef((s,l)=>{const{sizes:a,onSizesChange:c,...d}=s,f=nr(wr,s.__scopeScrollArea),[g,m]=p.useState(),y=p.useRef(null),x=Qt(l,y,f.onScrollbarYChange);return p.useEffect(()=>{y.current&&m(getComputedStyle(y.current))},[y]),r.jsx(nm,{"data-orientation":"vertical",...d,ref:x,sizes:a,style:{top:0,right:f.dir==="ltr"?0:void 0,left:f.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Go(a)+"px",...s.style},onThumbPointerDown:v=>s.onThumbPointerDown(v.y),onDragScroll:v=>s.onDragScroll(v.y),onWheelScroll:(v,w)=>{if(f.viewport){const N=f.viewport.scrollTop+v.deltaY;s.onWheelScroll(N),im(N,w)&&v.preventDefault()}},onResize:()=>{y.current&&f.viewport&&g&&c({content:f.viewport.scrollHeight,viewport:f.viewport.offsetHeight,scrollbar:{size:y.current.clientHeight,paddingStart:Io(g.paddingTop),paddingEnd:Io(g.paddingBottom)}})}})}),[kv,rm]=Jp(wr),nm=p.forwardRef((s,l)=>{const{__scopeScrollArea:a,sizes:c,hasThumb:d,onThumbChange:f,onThumbPointerUp:g,onThumbPointerDown:m,onThumbPositionChange:y,onDragScroll:x,onWheelScroll:v,onResize:w,...N}=s,A=nr(wr,a),[P,S]=p.useState(null),T=Qt(l,Z=>S(Z)),W=p.useRef(null),G=p.useRef(""),ue=A.viewport,se=c.content-c.viewport,ae=rr(v),Ce=rr(y),O=Ko(w,10);function je(Z){if(W.current){const de=Z.clientX-W.current.left,Ve=Z.clientY-W.current.top;x({x:de,y:Ve})}}return p.useEffect(()=>{const Z=de=>{const Ve=de.target;P?.contains(Ve)&&ae(de,se)};return document.addEventListener("wheel",Z,{passive:!1}),()=>document.removeEventListener("wheel",Z,{passive:!1})},[ue,P,se,ae]),p.useEffect(Ce,[c,Ce]),ps(P,O),ps(A.content,O),r.jsx(kv,{scope:a,scrollbar:P,hasThumb:d,onThumbChange:rr(f),onThumbPointerUp:rr(g),onThumbPositionChange:Ce,onThumbPointerDown:rr(m),children:r.jsx(Wt.div,{...N,ref:T,style:{position:"absolute",...N.style},onPointerDown:Dt(s.onPointerDown,Z=>{Z.button===0&&(Z.target.setPointerCapture(Z.pointerId),W.current=P.getBoundingClientRect(),G.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A.viewport&&(A.viewport.style.scrollBehavior="auto"),je(Z))}),onPointerMove:Dt(s.onPointerMove,je),onPointerUp:Dt(s.onPointerUp,Z=>{const de=Z.target;de.hasPointerCapture(Z.pointerId)&&de.releasePointerCapture(Z.pointerId),document.body.style.webkitUserSelect=G.current,A.viewport&&(A.viewport.style.scrollBehavior=""),W.current=null})})})}),Lo="ScrollAreaThumb",sm=p.forwardRef((s,l)=>{const{forceMount:a,...c}=s,d=rm(Lo,s.__scopeScrollArea);return r.jsx(un,{present:a||d.hasThumb,children:r.jsx(Cv,{ref:l,...c})})}),Cv=p.forwardRef((s,l)=>{const{__scopeScrollArea:a,style:c,...d}=s,f=nr(Lo,a),g=rm(Lo,a),{onThumbPositionChange:m}=g,y=Qt(l,w=>g.onThumbChange(w)),x=p.useRef(void 0),v=Ko(()=>{x.current&&(x.current(),x.current=void 0)},100);return p.useEffect(()=>{const w=f.viewport;if(w){const N=()=>{if(v(),!x.current){const A=Tv(w,m);x.current=A,m()}};return m(),w.addEventListener("scroll",N),()=>w.removeEventListener("scroll",N)}},[f.viewport,v,m]),r.jsx(Wt.div,{"data-state":g.hasThumb?"visible":"hidden",...d,ref:y,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...c},onPointerDownCapture:Dt(s.onPointerDownCapture,w=>{const A=w.target.getBoundingClientRect(),P=w.clientX-A.left,S=w.clientY-A.top;g.onThumbPointerDown({x:P,y:S})}),onPointerUp:Dt(s.onPointerUp,g.onThumbPointerUp)})});sm.displayName=Lo;var wc="ScrollAreaCorner",am=p.forwardRef((s,l)=>{const a=nr(wc,s.__scopeScrollArea),c=!!(a.scrollbarX&&a.scrollbarY);return a.type!=="scroll"&&c?r.jsx(Ev,{...s,ref:l}):null});am.displayName=wc;var Ev=p.forwardRef((s,l)=>{const{__scopeScrollArea:a,...c}=s,d=nr(wc,a),[f,g]=p.useState(0),[m,y]=p.useState(0),x=!!(f&&m);return ps(d.scrollbarX,()=>{const v=d.scrollbarX?.offsetHeight||0;d.onCornerHeightChange(v),y(v)}),ps(d.scrollbarY,()=>{const v=d.scrollbarY?.offsetWidth||0;d.onCornerWidthChange(v),g(v)}),x?r.jsx(Wt.div,{...c,ref:l,style:{width:f,height:m,position:"absolute",right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:0,...s.style}}):null});function Io(s){return s?parseInt(s,10):0}function om(s,l){const a=s/l;return isNaN(a)?0:a}function Go(s){const l=om(s.viewport,s.content),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,c=(s.scrollbar.size-a)*l;return Math.max(c,18)}function Pv(s,l,a,c="ltr"){const d=Go(a),f=d/2,g=l||f,m=d-g,y=a.scrollbar.paddingStart+g,x=a.scrollbar.size-a.scrollbar.paddingEnd-m,v=a.content-a.viewport,w=c==="ltr"?[0,v]:[v*-1,0];return lm([y,x],w)(s)}function Bf(s,l,a="ltr"){const c=Go(l),d=l.scrollbar.paddingStart+l.scrollbar.paddingEnd,f=l.scrollbar.size-d,g=l.content-l.viewport,m=f-c,y=a==="ltr"?[0,g]:[g*-1,0],x=xv(s,y);return lm([0,g],[0,m])(x)}function lm(s,l){return a=>{if(s[0]===s[1]||l[0]===l[1])return l[0];const c=(l[1]-l[0])/(s[1]-s[0]);return l[0]+c*(a-s[0])}}function im(s,l){return s>0&&s<l}var Tv=(s,l=()=>{})=>{let a={left:s.scrollLeft,top:s.scrollTop},c=0;return(function d(){const f={left:s.scrollLeft,top:s.scrollTop},g=a.left!==f.left,m=a.top!==f.top;(g||m)&&l(),a=f,c=window.requestAnimationFrame(d)})(),()=>window.cancelAnimationFrame(c)};function Ko(s,l){const a=rr(s),c=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(c.current),[]),p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(a,l)},[a,l])}function ps(s,l){const a=rr(l);fs(()=>{let c=0;if(s){const d=new ResizeObserver(()=>{cancelAnimationFrame(c),c=window.requestAnimationFrame(a)});return d.observe(s),()=>{window.cancelAnimationFrame(c),d.unobserve(s)}}},[s,a])}var _v=Xp,Av=Zp,Rv=am;function cm({className:s,children:l,...a}){return r.jsxs(_v,{"data-slot":"scroll-area",className:Yt("relative",s),...a,children:[r.jsx(Av,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:l}),r.jsx(Dv,{}),r.jsx(Rv,{})]})}function Dv({className:s,orientation:l="vertical",...a}){return r.jsx(em,{"data-slot":"scroll-area-scrollbar",orientation:l,className:Yt("flex touch-none p-px transition-colors select-none",l==="vertical"&&"h-full w-2.5 border-l border-l-transparent",l==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",s),...a,children:r.jsx(sm,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const Fv=yc("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Lv({className:s,variant:l,asChild:a=!1,...c}){const d=a?Yp:"span";return r.jsx(d,{"data-slot":"badge",className:Yt(Fv({variant:l}),s),...c})}const ds={clientId:"",redirectUri:typeof window<"u"?`${window.location.origin}/oauth/callback`:"",scopes:["all-apis","offline_access"]},jc="cohive_databricks_session";function um(s){const l=Mv();sessionStorage.setItem("oauth_state",l),sessionStorage.setItem("oauth_workspace_host",s);const a=new URLSearchParams({client_id:ds.clientId,response_type:"code",redirect_uri:ds.redirectUri,scope:ds.scopes.join(" "),state:l});return`https://${s}/oidc/v1/authorize?${a.toString()}`}async function dm(s,l){try{const a=await fetch(`https://${l}/oidc/v1/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:s,redirect_uri:ds.redirectUri,client_id:ds.clientId})}).catch(f=>{throw console.error("Network error during token exchange:",f),new Error("Unable to connect to Databricks. Please check your network connection.")});if(!a.ok){const f=await a.text().catch(()=>"Unknown error");throw console.error("Token exchange failed:",a.status,f),new Error("Failed to exchange authorization code for token")}const c=await a.json(),d={accessToken:c.access_token,refreshToken:c.refresh_token,expiresAt:Date.now()+c.expires_in*1e3,workspaceHost:l};return pm(d),d}catch(a){throw console.error("Failed to exchange code for token:",a),a}}async function fm(){const s=ca();if(!s?.refreshToken)return null;try{const l=await fetch(`https://${s.workspaceHost}/oidc/v1/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:s.refreshToken,client_id:ds.clientId})}).catch(d=>(console.error("Network error during token refresh:",d),null));if(!l||!l.ok)return console.error("Token refresh failed:",l?.status),Oo(),null;const a=await l.json(),c={accessToken:a.access_token,refreshToken:a.refresh_token||s.refreshToken,expiresAt:Date.now()+a.expires_in*1e3,workspaceHost:s.workspaceHost};return pm(c),c}catch(l){return console.error("Failed to refresh token:",l),Oo(),null}}async function ys(){try{const s=ca();return s?s.expiresAt-Date.now()<300*1e3&&s.refreshToken?await fm():s:null}catch(s){return console.error("Error getting valid session:",s),null}}function ca(){try{const s=sessionStorage.getItem(jc);if(s)return JSON.parse(s)}catch(s){console.error("Failed to load session:",s)}return null}function pm(s){try{sessionStorage.setItem(jc,JSON.stringify(s))}catch(l){console.error("Failed to save session:",l)}}function Oo(){sessionStorage.removeItem(jc),sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("oauth_workspace_host"),sessionStorage.removeItem("oauth_return_step")}function Iv(){if(typeof window>"u")return!1;const s=new URLSearchParams(window.location.search);return!!(s.get("code")&&s.get("state"))}function ia(){const s=ca();return!!(s&&s.expiresAt>Date.now())}function mm(s,l){l&&sessionStorage.setItem("oauth_return_step",l);const a=um(s);window.location.href=a}async function hm(){const s=new URLSearchParams(window.location.search),l=s.get("code"),a=s.get("state"),c=s.get("error");if(c)throw new Error(`OAuth error: ${c}`);const d=sessionStorage.getItem("oauth_state"),f=sessionStorage.getItem("oauth_workspace_host");if(!l||!a||!d||!f)throw new Error("Invalid OAuth callback");if(a!==d)throw new Error("OAuth state mismatch");const g=await dm(l,f);return sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("oauth_workspace_host"),g}function Ov(){Oo(),window.location.href="/"}function Mv(){const s=new Uint8Array(32);return crypto.getRandomValues(s),Array.from(s,l=>l.toString(16).padStart(2,"0")).join("")}function Nc(){return ca()?.workspaceHost||null}const zv=Object.freeze(Object.defineProperty({__proto__:null,clearSession:Oo,exchangeCodeForToken:dm,getAuthorizationUrl:um,getSession:ca,getValidSession:ys,getWorkspaceHost:Nc,handleOAuthCallback:hm,hasOAuthCallback:Iv,initiateLogin:mm,isAuthenticated:ia,logout:Ov,refreshAccessToken:fm},Symbol.toStringTag,{value:"Module"}));async function gm(s,l){try{return await fetch(s,l).catch(c=>(console.error("[SafeFetch] Network error:",c),null))}catch(a){return console.error("[SafeFetch] Unexpected error:",a),null}}function _o(){return ia()}async function Fr(s,l="GET",a){try{const c=await ys();if(!c)throw new Error("Not authenticated. Please log in to Databricks.");const d=`https://${c.workspaceHost}${s}`,f=await gm(d,{method:l,headers:{Authorization:`Bearer ${c.accessToken}`,"Content-Type":"application/json"},body:a?JSON.stringify(a):void 0});if(!f)throw new Error("Network error: Unable to reach Databricks");if(!f.ok){const g=await f.json().catch(()=>({}));throw new Error(g.message||`Databricks API error: ${f.statusText}`)}return f.json()}catch(c){throw console.error("Databricks request failed:",c),c}}async function Bv(s,l){try{const a=await Fr(`/api/2.0/workspace/list?path=${encodeURIComponent(s)}`),c=[];if(a.objects){for(const d of a.objects)if(d.object_type==="FILE"||d.object_type==="NOTEBOOK"){const f=d.path.split("/").pop()||"";(!l||l.length===0||l.some(g=>f.toLowerCase().endsWith(`.${g.toLowerCase()}`)))&&c.push({name:f,path:d.path,type:"workspace",size:d.size,modified_at:d.modified_at})}}return c}catch(a){return console.error("Error listing workspace files:",a),[]}}async function Uv(s,l){try{const a=await Fr(`/api/2.0/fs/directories${s}`),c=[];if(a.contents){for(const d of a.contents)if(!d.is_directory){const f=d.name;(!l||l.length===0||l.some(g=>f.toLowerCase().endsWith(`.${g.toLowerCase()}`)))&&c.push({name:f,path:d.path,type:"volume",size:d.file_size,modified_at:d.last_modified})}}return c}catch(a){return console.error("Error listing volume files:",a),[]}}async function Wv(s,l){try{const a=s.replace(/^dbfs:/,""),c=await Fr(`/api/2.0/dbfs/list?path=${encodeURIComponent(a)}`),d=[];if(c.files){for(const f of c.files)if(!f.is_dir){const g=f.path.split("/").pop()||"";(!l||l.length===0||l.some(m=>g.toLowerCase().endsWith(`.${m.toLowerCase()}`)))&&d.push({name:g,path:`dbfs:${f.path}`,type:"dbfs",size:f.file_size})}}return d}catch(a){return console.error("Error listing DBFS files:",a),[]}}async function ym(s,l){let a=[];if(s.startsWith("/Workspace"))a=await Bv(s,l);else if(s.startsWith("/Volumes"))a=await Uv(s,l);else if(s.startsWith("dbfs:"))a=await Wv(s,l);else throw new Error("Invalid path. Must start with /Workspace, /Volumes, or dbfs:");return{path:s,files:a,count:a.length}}async function $v(s,l){try{const a=await Fr(`/api/2.0/workspace/export?path=${encodeURIComponent(s)}&format=SOURCE`);return l==="base64"?a.content||"":atob(a.content||"")}catch(a){throw new Error(`Error reading workspace file: ${a instanceof Error?a.message:"Unknown error"}`)}}async function Vv(s,l){try{const a=await Fr(`/api/2.0/fs/files${s}`);return l==="base64"?btoa(a.contents||""):a.contents||""}catch(a){throw new Error(`Error reading volume file: ${a instanceof Error?a.message:"Unknown error"}`)}}async function Hv(s,l){try{const a=s.replace(/^dbfs:/,""),c=await Fr("/api/2.0/dbfs/read","POST",{path:a});return l==="base64"?c.data||"":atob(c.data||"")}catch(a){throw new Error(`Error reading DBFS file: ${a instanceof Error?a.message:"Unknown error"}`)}}async function Gv(s,l="text"){let a;if(s.startsWith("/Workspace"))a=await $v(s,l);else if(s.startsWith("/Volumes"))a=await Vv(s,l);else if(s.startsWith("dbfs:"))a=await Hv(s,l);else throw new Error("Invalid path");const c=s.split("/").pop()||"unknown";return{path:s,name:c,content:a,encoding:l}}async function Kv(s,l,a=!1){try{const c=btoa(l);await Fr("/api/2.0/workspace/import","POST",{path:s,content:c,format:"SOURCE",overwrite:a})}catch(c){throw new Error(`Error writing workspace file: ${c instanceof Error?c.message:"Unknown error"}`)}}async function Qv(s,l,a=!1){try{await Fr(`/api/2.0/fs/files${s}`,"PUT",{contents:l,overwrite:a})}catch(c){throw new Error(`Error writing volume file: ${c instanceof Error?c.message:"Unknown error"}`)}}async function Yv(s,l,a=!1){try{const c=s.replace(/^dbfs:/,""),d=btoa(l);await Fr("/api/2.0/dbfs/put","POST",{path:c,contents:d,overwrite:a})}catch(c){throw new Error(`Error writing DBFS file: ${c instanceof Error?c.message:"Unknown error"}`)}}async function Jv(s,l,a=!1){try{if(s.startsWith("/Workspace"))await Kv(s,l,a);else if(s.startsWith("/Volumes"))await Qv(s,l,a);else if(s.startsWith("dbfs:"))await Yv(s,l,a);else throw new Error("Invalid path. Must start with /Workspace, /Volumes, or dbfs:");return{success:!0,path:s}}catch(c){throw console.error("Error writing file to Databricks:",c),c}}async function xm(){try{if(!ia())return!1;const s=await ys().catch(a=>(console.error("Failed to get valid session during health check:",a),null));if(!s)return!1;const l=await gm(`https://${s.workspaceHost}/api/2.0/workspace/list?path=/`,{method:"GET",headers:{Authorization:`Bearer ${s.accessToken}`,"Content-Type":"application/json"}});return l?l.ok:!1}catch(s){return console.error("Databricks API health check failed:",s),!1}}const cn={workspace:"/Workspace/Shared",volumes:"/Volumes",dbfs:"dbfs:/FileStore"},Xv=["pdf","docx","doc","txt","md","csv","xlsx","xls"];var qv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zv=qv.reduce((s,l)=>{const a=Qp(`Primitive.${l}`),c=p.forwardRef((d,f)=>{const{asChild:g,...m}=d,y=g?a:l;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(y,{...m,ref:f})});return c.displayName=`Primitive.${l}`,{...s,[l]:c}},{}),eb="Label",vm=p.forwardRef((s,l)=>r.jsx(Zv.label,{...s,ref:l,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(s.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));vm.displayName=eb;var tb=vm;function rb({className:s,...l}){return r.jsx(tb,{"data-slot":"label",className:Yt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...l})}const nb=yc("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function sb({className:s,variant:l,...a}){return r.jsx("div",{"data-slot":"alert",role:"alert",className:Yt(nb({variant:l}),s),...a})}function ab({className:s,...l}){return r.jsx("div",{"data-slot":"alert-description",className:Yt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...l})}function Sc({open:s,onClose:l,currentStep:a}){const[c,d]=p.useState(""),[f,g]=p.useState(null),m=()=>{if(g(null),!c.trim()){g("Please enter your Databricks workspace URL");return}let y=c.trim();if(y=y.replace(/^https?:\/\//,""),y=y.replace(/\/$/,""),!y.includes(".")){g("Please enter a valid Databricks workspace URL");return}try{mm(y,a)}catch{g("Failed to initiate login. Please try again.")}};return r.jsx(fc,{open:s,onOpenChange:l,children:r.jsxs(pc,{className:"max-w-md",style:{backgroundColor:te.background.primary},children:[r.jsxs(mc,{children:[r.jsxs(hc,{className:"flex items-center gap-3",style:{color:te.text.primary},children:[r.jsx(dr,{className:"h-6 w-6",style:{color:te.hex.purple.light}}),"Connect to Databricks"]}),r.jsx(gc,{style:{color:te.text.secondary},children:"Sign in with your Databricks workspace to access files and run research synthesis"})]}),r.jsxs("div",{className:"space-y-6 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(rb,{htmlFor:"workspace-host",className:"flex items-center gap-2",children:[r.jsx(dr,{className:"h-4 w-4",style:{color:te.text.secondary}}),"Databricks Workspace URL"]}),r.jsx(xc,{id:"workspace-host",placeholder:"e.g., adb-1234567890123456.7.azuredatabricks.net",value:c,onChange:y=>d(y.target.value),onKeyDown:y=>y.key==="Enter"&&m()}),r.jsx("p",{className:"text-xs",style:{color:te.text.tertiary},children:"Enter your Databricks workspace URL (without https://)"})]}),f&&r.jsxs(sb,{variant:"destructive",children:[r.jsx(An,{className:"h-4 w-4"}),r.jsx(ab,{children:f})]}),r.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:te.background.secondary},children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(sp,{className:"h-5 w-5 flex-shrink-0",style:{color:te.hex.purple.light}}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-sm",style:{color:te.text.primary},children:"How OAuth Login Works:"}),r.jsxs("ol",{className:"text-xs space-y-1 list-decimal list-inside",style:{color:te.text.secondary},children:[r.jsx("li",{children:"You'll be redirected to your Databricks workspace"}),r.jsx("li",{children:"Sign in with your Databricks account"}),r.jsx("li",{children:"Authorize CoHive to access your files"}),r.jsx("li",{children:"You'll be redirected back to CoHive"}),r.jsx("li",{children:"Your session is managed securely by Databricks"})]})]})]})}),r.jsx("div",{className:"p-3 rounded-lg border",style:{backgroundColor:te.background.tertiary,borderColor:te.border.light},children:r.jsxs("p",{className:"text-xs",style:{color:te.text.secondary},children:[" ",r.jsx("strong",{children:"Secure Authentication:"})," Your credentials are stored and managed by Databricks. CoHive only receives a temporary access token that expires automatically."]})})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",style:{borderColor:te.border.light},children:[r.jsx(kt,{variant:"outline",onClick:l,children:"Cancel"}),r.jsxs(kt,{onClick:m,disabled:!c.trim(),className:"gap-2",style:{backgroundColor:te.hex.purple.light},children:[r.jsx(ap,{className:"h-4 w-4"}),"Sign in with Databricks"]})]})]})})}function bm({open:s,onClose:l,onFilesSelected:a}){const[c,d]=p.useState(cn.workspace),[f,g]=p.useState([]),[m,y]=p.useState(new Set),[x,v]=p.useState(!1),[w,N]=p.useState(null),[A,P]=p.useState(""),[S,T]=p.useState(null),[W,G]=p.useState(!1),[ue,se]=p.useState(!0),[ae,Ce]=p.useState(!1),[O,je]=p.useState(null);p.useEffect(()=>{if(s){const J=Nc();je(J),_o()?Z():(Ce(!0),T(!1),N("Please sign in to your Databricks workspace to continue."))}},[s]),p.useEffect(()=>{s&&S&&de()},[c,s,S]);const Z=async()=>{try{const J=await xm();T(J),J||N("Unable to connect to Databricks API. Please check your connection.")}catch(J){console.error("Health check error:",J),T(!1),N("Unable to connect to Databricks. Please check your authentication.")}},de=async()=>{v(!0),N(null);try{const J=await ym(c,Xv);g(J.files)}catch(J){N(J instanceof Error?J.message:"Failed to load files"),g([])}finally{v(!1)}},Ve=J=>{const ne=new Set(m);ne.has(J)?ne.delete(J):ne.add(J),y(ne)},xe=async()=>{if(m.size!==0){G(!0),N(null);try{const J=[];for(const ne of m)try{const U=await Gv(ne,"text");J.push({name:U.name,content:U.content,source:`Databricks: ${ne}`})}catch(U){console.error(`Failed to read file ${ne}:`,U)}J.length>0?(a(J,ue),y(new Set),l()):N("Failed to import any files. Please try again.")}catch(J){N(J instanceof Error?J.message:"Failed to import files")}finally{G(!1)}}},He=f.filter(J=>J.name.toLowerCase().includes(A.toLowerCase())),ze=J=>J?J<1024?`${J} B`:J<1024*1024?`${(J/1024).toFixed(1)} KB`:`${(J/(1024*1024)).toFixed(1)} MB`:"Unknown",Je=J=>{switch(J){case"workspace":return r.jsx(Yi,{className:"h-4 w-4"});case"volume":return r.jsx(dr,{className:"h-4 w-4"});case"dbfs":return r.jsx(Ji,{className:"h-4 w-4"});default:return r.jsx(Ao,{className:"h-4 w-4"})}};return r.jsxs(r.Fragment,{children:[r.jsx(Sc,{open:ae,onClose:()=>{Ce(!1),_o()||l()}}),r.jsx(fc,{open:s,onOpenChange:l,children:r.jsxs(pc,{className:"max-w-4xl h-[80vh] flex flex-col",style:{backgroundColor:te.background.primary},children:[r.jsxs(mc,{children:[r.jsxs(hc,{className:"flex items-center gap-3",style:{color:te.text.primary},children:[r.jsx(dr,{className:"h-6 w-6",style:{color:te.hex.purple.light}}),"Import from Databricks"]}),r.jsx(gc,{style:{color:te.text.secondary},children:"Select research files from your Databricks workspace, volumes, or DBFS"})]}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsxs(kt,{variant:c.startsWith("/Workspace")?"default":"outline",size:"sm",onClick:()=>d(cn.workspace),className:"gap-2",style:c.startsWith("/Workspace")?{backgroundColor:te.hex.purple.light}:{},children:[r.jsx(Yi,{className:"h-4 w-4"}),"Workspace"]}),r.jsxs(kt,{variant:c.startsWith("/Volumes")?"default":"outline",size:"sm",onClick:()=>d(cn.volumes),className:"gap-2",style:c.startsWith("/Volumes")?{backgroundColor:te.hex.purple.light}:{},children:[r.jsx(dr,{className:"h-4 w-4"}),"Volumes"]}),r.jsxs(kt,{variant:c.startsWith("dbfs:")?"default":"outline",size:"sm",onClick:()=>d(cn.dbfs),className:"gap-2",style:c.startsWith("dbfs:")?{backgroundColor:te.hex.purple.light}:{},children:[r.jsx(Ji,{className:"h-4 w-4"}),"DBFS"]}),r.jsxs(kt,{variant:"outline",size:"sm",onClick:de,disabled:x,className:"ml-auto gap-2",children:[r.jsx(Ro,{className:`h-4 w-4 ${x?"animate-spin":""}`}),"Refresh"]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:te.text.secondary},children:[r.jsx(Ao,{className:"h-4 w-4"}),r.jsx("span",{className:"font-mono",children:c})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Ry,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4",style:{color:te.text.secondary}}),r.jsx(xc,{placeholder:"Search files...",value:A,onChange:J=>P(J.target.value),className:"pl-10"})]})]}),w&&r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg",style:{backgroundColor:"#fee",color:"#c33"},children:[r.jsx(An,{className:"h-5 w-5 flex-shrink-0"}),r.jsx("div",{className:"flex-1",children:r.jsx("span",{className:"text-sm",children:w})}),!_o()&&r.jsxs(kt,{size:"sm",onClick:()=>Ce(!0),className:"gap-2",style:{backgroundColor:te.hex.purple.light},children:[r.jsx(ap,{className:"h-4 w-4"}),"Sign In"]})]}),r.jsx(cm,{className:"flex-1 border rounded-lg",style:{borderColor:te.border.light},children:x?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(la,{className:"h-8 w-8 animate-spin",style:{color:te.hex.purple.light}})}):He.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 gap-3",children:[r.jsx(vf,{className:"h-12 w-12",style:{color:te.text.tertiary}}),r.jsx("p",{className:"text-sm",style:{color:te.text.secondary},children:A?"No files match your search":"No files found in this location"})]}):r.jsx("div",{className:"p-4 space-y-2",children:He.map(J=>{const ne=m.has(J.path);return r.jsxs("div",{onClick:()=>Ve(J.path),className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all hover:shadow-md",style:{borderColor:ne?te.hex.purple.light:te.border.light,backgroundColor:ne?te.background.tertiary:te.background.secondary},children:[r.jsx("input",{type:"checkbox",checked:ne,onChange:()=>Ve(J.path),className:"h-4 w-4 rounded",style:{accentColor:te.hex.purple.light}}),r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx(vf,{className:"h-5 w-5 flex-shrink-0",style:{color:te.hex.purple.light}}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium truncate",style:{color:te.text.primary},children:J.name}),r.jsx("p",{className:"text-xs truncate",style:{color:te.text.secondary},children:J.path})]})]}),r.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[r.jsxs(Lv,{variant:"outline",className:"gap-1",children:[Je(J.type),J.type]}),r.jsx("span",{className:"text-xs",style:{color:te.text.secondary},children:ze(J.size)})]})]},J.path)})})}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",style:{borderColor:te.border.light},children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-sm",style:{color:te.text.secondary},children:m.size>0?r.jsxs("span",{className:"font-medium",style:{color:te.hex.purple.light},children:[m.size," file",m.size!==1?"s":""," selected"]}):r.jsx("span",{children:"Select files to import"})}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:ue,onChange:J=>se(J.target.checked),className:"h-4 w-4 rounded",style:{accentColor:te.hex.purple.light}}),r.jsx("span",{className:"text-sm",style:{color:te.text.primary},children:"Auto-approve imported files"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(kt,{variant:"outline",size:"sm",onClick:()=>Ce(!0),className:"gap-2",children:[r.jsx(lc,{className:"h-4 w-4"}),"Settings"]}),r.jsx(kt,{variant:"outline",onClick:l,disabled:W,children:"Cancel"}),r.jsx(kt,{onClick:xe,disabled:m.size===0||W,className:"gap-2",style:{backgroundColor:te.hex.purple.light},children:W?r.jsxs(r.Fragment,{children:[r.jsx(la,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(oc,{className:"h-4 w-4"}),"Import ",m.size>0?`(${m.size})`:""]})})]})]})]})})]})}function ob({role:s,brand:l,projectType:a,researchFiles:c,editSuggestions:d,onAddSuggestion:f,onUpdateSuggestionStatus:g,onToggleApproval:m,canApproveResearch:y,onCreateResearchFile:x}){const[v,w]=p.useState(null),[N,A]=p.useState(""),[P,S]=p.useState(!1),[T,W]=p.useState(!1),G=c.filter(O=>O.brand.toLowerCase()===l.toLowerCase()&&O.projectType.toLowerCase()===a.toLowerCase()),ue=s==="researcher"?G:G.filter(O=>O.isApproved),se=O=>{N.trim()&&(f(O,N),A(""),S(!1))},ae=(O,je)=>{O.forEach(Z=>{const de={brand:l,projectType:a,fileName:Z.name,isApproved:je,fileType:"text/plain",content:Z.content,source:Z.source};x(de)})};if(s==="non-researcher")return r.jsx("div",{className:"space-y-2",children:ue.length===0?r.jsx("div",{className:"bg-gray-100 border-2 border-gray-300 p-4 text-center",children:r.jsx("p",{className:"text-gray-600",children:"No approved research files available for this brand and project type."})}):r.jsx("div",{className:"space-y-2",children:ue.map(O=>r.jsxs("div",{className:"bg-white border-2 border-gray-300 p-3",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-gray-900",children:O.fileName}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[r.jsx("span",{className:"flex items-center gap-1",children:r.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:O.fileType})}),r.jsxs("span",{children:["Uploaded: ",new Date(O.uploadDate).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[r.jsx("button",{className:"px-3 py-1.5 border-2 border-gray-400 bg-white text-gray-700 rounded hover:bg-gray-50 text-sm",onClick:()=>w(v===O.id?null:O.id),children:"Read"}),r.jsx("button",{className:"px-3 py-1.5 border-2 border-gray-400 bg-white text-gray-700 rounded hover:bg-gray-50 text-sm",children:"Download"}),r.jsx("button",{className:"px-3 py-1.5 border-2 border-gray-400 bg-white text-gray-700 rounded hover:bg-gray-50 text-sm",onClick:()=>{w(O.id),S(!0)},children:"Recommend"})]})]}),v===O.id&&!P&&r.jsx("div",{className:"mt-4 pt-4 border-t-2 border-gray-200",children:r.jsx("div",{className:"bg-gray-50 border-2 border-gray-300 rounded p-4 h-64 overflow-y-auto",children:O.content?r.jsxs("div",{className:"space-y-3",children:[O.source&&r.jsxs("p",{className:"text-xs text-gray-500 border-b pb-2",children:[r.jsx("strong",{children:"Source:"})," ",O.source]}),r.jsx("pre",{className:"text-gray-700 text-sm leading-relaxed whitespace-pre-wrap font-sans",children:O.content})]}):r.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed",children:[r.jsx("strong",{children:"Document Preview:"})," ",O.fileName,r.jsx("br",{}),r.jsx("br",{}),"This is a mock preview of the research document. In a production environment, this would display the actual content of the PDF, spreadsheet, or document file.",r.jsx("br",{}),r.jsx("br",{}),r.jsx("strong",{children:"Executive Summary:"}),r.jsx("br",{}),"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",r.jsx("br",{}),r.jsx("br",{}),r.jsx("strong",{children:"Key Findings:"}),r.jsx("br",{})," Finding 1: Market share has increased by 15%",r.jsx("br",{})," Finding 2: Customer satisfaction ratings are at 4.5/5",r.jsx("br",{})," Finding 3: Brand awareness has grown in target demographics"]})})}),v===O.id&&P&&r.jsxs("div",{className:"mt-4 pt-4 border-t-2 border-gray-200",children:[r.jsx("h5",{className:"text-gray-900 mb-2",children:"Suggest an Edit"}),r.jsx("textarea",{className:"w-full h-24 border-2 border-gray-300 bg-white rounded p-2 text-gray-700 resize-none focus:outline-none focus:border-blue-500",placeholder:"Describe the edit or improvement you'd like to suggest...",value:N,onChange:je=>A(je.target.value)}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",onClick:()=>se(O.id),children:"Submit Suggestion"}),r.jsx("button",{className:"px-4 py-2 border-2 border-gray-400 bg-white text-gray-700 rounded hover:bg-gray-50 text-sm",onClick:()=>{S(!1),A("")},children:"Cancel"})]})]})]},O.id))})});const Ce=O=>d.filter(je=>je.researchFileId===O);return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-purple-50 border-2 border-purple-200 p-2",children:[r.jsx("h3",{className:"text-purple-900 leading-tight",children:"Research Management Dashboard"}),r.jsxs("p",{className:"text-purple-700 text-sm",children:["Manage research files for ",l," - ",a]})]}),r.jsxs("div",{className:"bg-white border-2 border-gray-300 p-3",children:[r.jsx("h4",{className:"text-gray-900 mb-3",children:"Upload New Research File"}),r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.xlsx,.xls,.csv",className:"w-full text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-purple-600 file:text-white hover:file:bg-purple-700 file:cursor-pointer",onChange:O=>{const je=O.target.files?.[0];if(je){const Z={brand:l,projectType:a,fileName:je.name,isApproved:!1,fileType:je.type};x(Z)}}}),r.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",onClick:()=>W(!0),children:"Import from Databricks"})]}),r.jsx(bm,{open:T,onClose:()=>W(!1),onFilesSelected:ae}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h4",{className:"text-gray-900",children:["Research Files (",G.length,")"]}),G.length===0?r.jsx("div",{className:"bg-gray-100 border-2 border-gray-300 rounded-lg p-8 text-center",children:r.jsx("p",{className:"text-gray-600",children:"No research files for this brand and project type."})}):G.map(O=>{const je=Ce(O.id),Z=je.filter(de=>de.status==="pending");return r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"text-gray-900",children:O.fileName}),O.isApproved?r.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 rounded text-xs",children:"Approved"}):r.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 rounded text-xs",children:"Pending Approval"}),O.source?.startsWith("Databricks:")&&r.jsxs("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-800 rounded text-xs flex items-center gap-1",children:[r.jsx(dr,{className:"h-3 w-3"}),"Databricks"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[r.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:O.fileType}),r.jsxs("span",{children:["Uploaded: ",new Date(O.uploadDate).toLocaleDateString()]}),Z.length>0&&r.jsxs("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-800 rounded text-xs",children:[Z.length," pending suggestion",Z.length>1?"s":""]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"px-3 py-1.5 border-2 border-gray-400 bg-white text-gray-700 rounded hover:bg-gray-50 text-sm",onClick:()=>w(v===O.id?null:O.id),children:v===O.id?"Hide Details":"View Details"}),r.jsx("button",{className:`px-3 py-1.5 rounded text-sm ${O.isApproved?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-green-600 text-white hover:bg-green-700"}`,onClick:()=>m(O.id),disabled:!y,children:O.isApproved?"Unapprove":"Approve"})]})]}),v===O.id&&r.jsxs("div",{className:"mt-4 pt-4 border-t-2 border-gray-200 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-gray-900 mb-2",children:"Document Preview"}),r.jsx("div",{className:"bg-gray-50 border-2 border-gray-300 rounded p-4 h-48 overflow-y-auto",children:O.content?r.jsxs("div",{className:"space-y-3",children:[O.source&&r.jsxs("p",{className:"text-xs text-gray-500 border-b pb-2",children:[r.jsx("strong",{children:"Source:"})," ",O.source]}),r.jsx("pre",{className:"text-gray-700 text-sm leading-relaxed whitespace-pre-wrap font-sans",children:O.content})]}):r.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed",children:[r.jsx("strong",{children:"Document:"})," ",O.fileName,r.jsx("br",{}),r.jsx("br",{}),"This is a mock preview. In production, this would show the actual file content.",r.jsx("br",{}),r.jsx("br",{}),r.jsx("strong",{children:"Research Summary:"}),r.jsx("br",{}),"Comprehensive analysis of ",l," market performance for ",a,"."]})})]}),r.jsxs("div",{children:[r.jsxs("h5",{className:"text-gray-900 mb-2",children:["Edit Suggestions (",je.length,")"]}),je.length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"No suggestions yet."}):r.jsx("div",{className:"space-y-2",children:je.map(de=>r.jsx("div",{className:`border-2 rounded p-3 ${de.status==="pending"?"border-orange-300 bg-orange-50":de.status==="reviewed"?"border-blue-300 bg-blue-50":"border-green-300 bg-green-50"}`,children:r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-sm text-gray-700",children:de.suggestedBy}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(de.timestamp).toLocaleDateString()}),r.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${de.status==="pending"?"bg-orange-100 text-orange-800":de.status==="reviewed"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:de.status})]}),r.jsx("p",{className:"text-sm text-gray-700",children:de.suggestion})]}),de.status==="pending"&&r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700",onClick:()=>g(de.id,"reviewed"),title:"Mark as reviewed",children:"Review"}),r.jsx("button",{className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700",onClick:()=>g(de.id,"implemented"),title:"Mark as implemented",children:"Implement"})]})]})},de.id))})]})]})]},O.id)})]})]})}function lb({currentTemplate:s,availableTemplates:l,onTemplateChange:a,onTemplateUpdate:c,onTemplateCreate:d}){const[f,g]=p.useState(!1),[m,y]=p.useState("select"),[x,v]=p.useState(null),w=P=>{v({...P}),y("edit")},N=()=>{const P={id:Date.now().toString(),name:"New Template",description:"Template description",role:"marketing-manager",visibleSteps:["Enter","research","Findings"],questionConfig:{},databricksInstructions:{},permissions:{canEditTemplates:!1,canApproveResearch:!1,canViewAllProjects:!1,canExportData:!1}};v(P),y("create")},A=()=>{x&&(m==="create"?d(x):c(x),y("select"),v(null))};return f?r.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white rounded-lg shadow-xl w-full max-w-[128rem] max-h-[90vh] overflow-hidden flex flex-col border-2 border-gray-300 z-50",children:[r.jsxs("div",{className:"border-b-2 border-gray-300 p-6 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-gray-900 leading-tight",children:"User Template Management"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Configure user roles, permissions, and workflow customization"})]}),r.jsx("button",{className:"p-2 hover:bg-gray-100 rounded",onClick:()=>{g(!1),y("select"),v(null)},children:r.jsx(Wo,{className:"w-5 h-5 text-gray-600"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[m==="select"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-gray-900",children:"Available Templates"}),s.permissions.canEditTemplates&&r.jsxs("button",{className:"px-3 py-1.5 bg-blue-600 text-white rounded flex items-center gap-2 hover:bg-blue-700 text-sm",onClick:N,children:[r.jsx(_y,{className:"w-4 h-4"}),"Create New Template"]})]}),r.jsx("div",{className:"space-y-3",children:l.map(P=>r.jsx("div",{onClick:()=>{P.id!==s.id&&a(P.id)},className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${P.id===s.id?"border-blue-500 bg-blue-50":"border-gray-300 bg-white hover:border-blue-400 hover:bg-blue-25"}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("input",{type:"radio",name:"template-selection",checked:P.id===s.id,onChange:()=>a(P.id),className:"w-5 h-5 text-blue-600 cursor-pointer"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h4",{className:"text-gray-900 font-semibold",children:P.name}),r.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${P.role==="administrator"||P.role==="research-analyst"||P.role==="research-leader"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:P.role==="administrator"||P.role==="research-analyst"||P.role==="research-leader"?"Researcher":"Non-Researcher"}),P.id===s.id&&r.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 rounded text-xs flex items-center gap-1",children:[r.jsx(Sy,{className:"w-3 h-3"}),"Active"]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:P.description}),r.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[r.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded",children:[P.visibleSteps.length," visible steps"]}),P.permissions.canApproveResearch&&r.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded",children:"Can approve research"}),P.permissions.canEditTemplates&&r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded",children:"Can edit templates"}),P.permissions.canViewAllProjects&&r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded",children:"View all projects"})]})]})]}),r.jsx("div",{className:"flex gap-2 ml-4",children:s.permissions.canEditTemplates&&r.jsx("button",{className:"px-3 py-1.5 border-2 border-gray-400 bg-white text-gray-700 rounded hover:bg-gray-50 text-sm",onClick:S=>{S.stopPropagation(),w(P)},children:r.jsx(Ty,{className:"w-4 h-4"})})})]})},P.id))})]}),(m==="edit"||m==="create")&&x&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-900 mb-4",children:m==="create"?"Create New Template":"Edit Template"}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"Template Name"}),r.jsx("input",{type:"text",className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",value:x.name,onChange:P=>v({...x,name:P.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"Description"}),r.jsx("textarea",{className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 resize-none focus:outline-none focus:border-blue-500",rows:2,value:x.description,onChange:P=>v({...x,description:P.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"User Role"}),r.jsxs("select",{className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",value:x.role,onChange:P=>v({...x,role:P.target.value}),children:[r.jsx("option",{value:"administrator",children:"Administrator"}),r.jsx("option",{value:"research-analyst",children:"Research Analyst"}),r.jsx("option",{value:"research-leader",children:"Research Leader"}),r.jsx("option",{value:"marketing-manager",children:"Marketing Manager"}),r.jsx("option",{value:"product-manager",children:"Product Manager"}),r.jsx("option",{value:"executive-stakeholder",children:"Executive / Stakeholder"})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-gray-900 mb-2",children:"Visible Workflow Steps"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Enter","research","Luminaries","panelist","Consumers","competitors","Colleagues","cultural","social","Wisdom","Grade","Findings"].map(P=>{const S=P==="research"||P==="Wisdom";return r.jsxs("label",{className:`flex items-center gap-2 p-2 border-2 rounded ${S?"border-green-300 bg-green-50 cursor-not-allowed":"border-gray-300 cursor-pointer hover:bg-gray-50"}`,children:[r.jsx("input",{type:"checkbox",checked:S||x.visibleSteps.includes(P),disabled:S,onChange:T=>{S||(T.target.checked?v({...x,visibleSteps:[...x.visibleSteps,P]}):v({...x,visibleSteps:x.visibleSteps.filter(W=>W!==P)}))},className:"w-4 h-4"}),r.jsxs("span",{className:`text-sm capitalize ${S?"text-green-700 font-medium":"text-gray-700"}`,children:[P==="research"?"Knowledge Base":P,S&&r.jsx("span",{className:"text-xs ml-1",children:"(Always On)"})]})]},P)})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-gray-900 mb-2",children:"Permissions"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:x.permissions.canEditTemplates,onChange:P=>v({...x,permissions:{...x.permissions,canEditTemplates:P.target.checked}}),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Can edit templates"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:x.permissions.canApproveResearch,onChange:P=>v({...x,permissions:{...x.permissions,canApproveResearch:P.target.checked}}),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Can approve research files"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:x.permissions.canViewAllProjects,onChange:P=>v({...x,permissions:{...x.permissions,canViewAllProjects:P.target.checked}}),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Can view all projects"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:x.permissions.canExportData,onChange:P=>v({...x,permissions:{...x.permissions,canExportData:P.target.checked}}),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Can export data to Databricks"})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(dr,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"text-gray-900",children:"Databricks Instructions"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Define what data and instructions are sent to Databricks for each step"}),r.jsx("div",{className:"space-y-3",children:x.visibleSteps.map(P=>r.jsxs("div",{className:"border-2 border-gray-300 rounded p-3",children:[r.jsxs("label",{className:"block text-sm text-gray-900 mb-1 capitalize",children:[P," Step"]}),r.jsx("textarea",{className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-sm text-gray-700 resize-none focus:outline-none focus:border-blue-500",rows:2,placeholder:`Instructions for ${P} step processing...`,value:x.databricksInstructions[P]||"",onChange:S=>v({...x,databricksInstructions:{...x.databricksInstructions,[P]:S.target.value}})})]},P))})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t-2 border-gray-300",children:[r.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",onClick:A,children:[r.jsx(op,{className:"w-4 h-4"}),"Save Template"]}),r.jsx("button",{className:"px-4 py-2 border-2 border-gray-400 bg-white text-gray-700 rounded hover:bg-gray-50",onClick:()=>{y("select"),v(null)},children:"Cancel"})]})]})]})]}):r.jsxs("button",{className:"px-4 py-2 border-2 border-gray-400 bg-white text-gray-700 rounded flex items-center gap-2 hover:bg-gray-50",onClick:()=>g(!0),children:[r.jsx(lc,{className:"w-4 h-4"}),"Template Settings"]})}const Co=[{id:"admin",name:"Administrator",description:"Full access to all features, template management, and research approval",role:"administrator",visibleSteps:["Enter","research","Luminaries","panelist","Consumers","competitors","Colleagues","cultural","social","Wisdom","Grade","Findings"],questionConfig:{Enter:{visibleQuestions:[0,1],defaultResponses:{},requiredQuestions:[0,1]}},databricksInstructions:{Enter:"Initialize project in Databricks workspace. Create project directory and metadata tables.",research:"Process uploaded research files. Extract insights using NLP models. Store in Delta tables.",Findings:"Generate final report. Execute recommendation models. Export to presentation format."},permissions:{canEditTemplates:!0,canApproveResearch:!1,canViewAllProjects:!0,canExportData:!0}},{id:"researcher",name:"Research Analyst",description:"Research-focused template with file management and approval capabilities",role:"research-analyst",visibleSteps:["Enter","research","Luminaries","Consumers","competitors","Wisdom","Grade","Findings"],questionConfig:{Enter:{visibleQuestions:[0,1],defaultResponses:{},requiredQuestions:[0,1]},research:{visibleQuestions:[0,1,2,3],defaultResponses:{0:"Mixed methods: surveys, interviews, and data analysis"},requiredQuestions:[0,1]}},databricksInstructions:{Enter:"Create research project. Initialize data pipeline.",research:"Upload and process research files. Run analysis workflows. Generate insights dashboard.",Luminaries:"Process expert interview transcripts. Extract key themes.",Findings:"Compile research findings. Generate executive summary."},permissions:{canEditTemplates:!1,canApproveResearch:!1,canViewAllProjects:!0,canExportData:!0}},{id:"research-leader",name:"Research Leader",description:"Senior research role with full read/edit/approve capabilities for all research assets",role:"research-leader",visibleSteps:["Enter","research","Luminaries","panelist","Consumers","competitors","Colleagues","Wisdom","Grade","Findings"],questionConfig:{Enter:{visibleQuestions:[0,1],defaultResponses:{},requiredQuestions:[0,1]},research:{visibleQuestions:[0,1,2,3],defaultResponses:{},requiredQuestions:[0,1]}},databricksInstructions:{Enter:"Initialize research leadership project. Setup oversight dashboards.",research:"Full access to read, edit, and approve all synthesis and persona files. Manage research quality.",Luminaries:"Review and approve luminaries insights. Validate research quality.",Findings:"Compile comprehensive research findings. Generate leadership reports."},permissions:{canEditTemplates:!1,canApproveResearch:!0,canViewAllProjects:!0,canExportData:!0}},{id:"marketing-manager",name:"Marketing Manager",description:"Marketing-focused template with consumer insights and competitive analysis",role:"marketing-manager",visibleSteps:["Enter","research","Grade","cultural","Colleagues","panelist","Luminaries","Consumers","competitors","social","Wisdom","Findings"],questionConfig:{Enter:{visibleQuestions:[0,1],defaultResponses:{},requiredQuestions:[0,1]},Consumers:{visibleQuestions:[0,1,2],defaultResponses:{},requiredQuestions:[0,1]},competitors:{visibleQuestions:[0,1,2],defaultResponses:{},requiredQuestions:[0,1]}},databricksInstructions:{Enter:"Initialize marketing campaign project.",research:"Access approved research reports for brand.",Consumers:"Run buyer persona analysis. Generate segment profiles.",competitors:"Execute competitive intelligence queries. Update market share models.",social:"Process social media sentiment. Generate trending topics report.",Findings:"Create marketing strategy recommendations. Export to PowerPoint."},permissions:{canEditTemplates:!1,canApproveResearch:!1,canViewAllProjects:!1,canExportData:!0}},{id:"product-manager",name:"Product Manager",description:"Product development template with testing and user insights focus",role:"product-manager",visibleSteps:["Enter","research","panelist","Consumers","Wisdom","Grade","Findings"],questionConfig:{Enter:{visibleQuestions:[0,1],defaultResponses:{1:"Product Development"},requiredQuestions:[0,1]},Grade:{visibleQuestions:[0,1,2,3],defaultResponses:{},requiredQuestions:[0,1,2]}},databricksInstructions:{Enter:"Create product development project. Setup experiment tracking.",research:"Load product research files. Access customer feedback data.",panelist:"Analyze panel home usage data. Generate product adoption metrics.",Consumers:"Process user research interviews. Extract feature requests.",Grade:"Run A/B test analysis. Generate statistical significance reports.",Findings:"Create product roadmap recommendations. Export feature priorities."},permissions:{canEditTemplates:!1,canApproveResearch:!1,canViewAllProjects:!1,canExportData:!0}},{id:"executive",name:"Executive / Stakeholder",description:"High-level view with focus on insights and action planning",role:"executive-stakeholder",visibleSteps:["Enter","research","Wisdom","Findings"],questionConfig:{Enter:{visibleQuestions:[0,1],defaultResponses:{},requiredQuestions:[0,1]},Findings:{visibleQuestions:[0,1,2],defaultResponses:{},requiredQuestions:[0,1]}},databricksInstructions:{Enter:"Initialize executive briefing project.",research:"Access high-level research summaries and insights.",Findings:"Generate executive summary. Create strategic recommendations deck."},permissions:{canEditTemplates:!1,canApproveResearch:!1,canViewAllProjects:!0,canExportData:!1}}];async function xs(){const s=await ys();if(!s)throw new Error("Not authenticated. Please sign in to Databricks.");return{accessToken:s.accessToken,workspaceHost:s.workspaceHost}}async function rc(s){try{console.log(" Uploading to Knowledge Base:",s.file.name);const l=await xs(),a=await new Promise((f,g)=>{const m=new FileReader;m.onload=()=>{const y=m.result;f(y.split(",")[1])},m.onerror=g,m.readAsDataURL(s.file)}),c=await fetch("/api/databricks/knowledge-base/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileName:s.file.name,fileContent:a,fileSize:s.file.size,scope:s.scope,category:s.category,brand:s.brand,projectType:s.projectType,fileType:s.fileType,tags:s.tags||[],contentSummary:s.contentSummary,insightType:s.insightType,inputMethod:s.inputMethod,iterationType:s.iterationType,includedHexes:s.includedHexes,userEmail:s.userEmail,userRole:s.userRole,...l})});if(!c.ok){const f=await c.json().catch(()=>({}));throw new Error(f.error||`Upload failed: ${c.statusText}`)}const d=await c.json();return console.log(" Upload successful:",d.fileId),{success:!0,fileId:d.fileId,filePath:d.filePath}}catch(l){return console.error(" Upload error:",l),{success:!1,error:l instanceof Error?l.message:"Upload failed"}}}async function ib(s={}){try{console.log(" Fetching Knowledge Base files with filters:",s);const l=await xs(),a=new URLSearchParams;s.scope&&a.append("scope",s.scope),s.category&&a.append("category",s.category),s.brand&&a.append("brand",s.brand),s.fileType&&a.append("fileType",s.fileType),s.isApproved!==void 0&&a.append("isApproved",String(s.isApproved)),s.projectType&&a.append("projectType",s.projectType),s.uploadedBy&&a.append("uploadedBy",s.uploadedBy),s.searchTerm&&a.append("searchTerm",s.searchTerm),s.includeGeneral&&a.append("includeGeneral","true"),s.includeCategory&&a.append("includeCategory","true"),s.limit&&a.append("limit",String(s.limit)),s.offset&&a.append("offset",String(s.offset)),s.sortBy&&a.append("sortBy",s.sortBy),s.sortOrder&&a.append("sortOrder",s.sortOrder),s.iterationType&&a.append("iterationType",s.iterationType),s.startDate&&a.append("startDate",s.startDate),s.endDate&&a.append("endDate",s.endDate),a.append("accessToken",l.accessToken),a.append("workspaceHost",l.workspaceHost);const c=await fetch(`/api/databricks/knowledge-base/list?${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!c.ok){const f=await c.json().catch(()=>({}));throw new Error(f.error||`Query failed: ${c.statusText}`)}const d=await c.json();return console.log(` Found ${d.files.length} files`),d.files}catch(l){return console.error(" List error:",l),[]}}async function cb(s,l,a,c){try{console.log(" Approving file:",s);const d=await xs(),f=await fetch("/api/databricks/knowledge-base/approve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileId:s,approvalNotes:c,userEmail:l,userRole:a,...d})});if(!f.ok){const m=await f.json().catch(()=>({}));throw new Error(m.error||`Approval failed: ${f.statusText}`)}const g=await f.json();return console.log(" File approved:",g.fileName),{success:!0}}catch(d){return console.error(" Approval error:",d),{success:!1,error:d instanceof Error?d.message:"Approval failed"}}}async function ub(s,l,a,c){try{console.log(" Updating metadata for:",s);const d=await xs(),f=await fetch("/api/databricks/knowledge-base/update",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileId:s,...l,userEmail:a,userRole:c,...d})});if(!f.ok){const m=await f.json().catch(()=>({}));throw new Error(m.error||`Update failed: ${f.statusText}`)}const g=await f.json();return console.log(" Metadata updated:",g.fileName),{success:!0}}catch(d){return console.error(" Update error:",d),{success:!1,error:d instanceof Error?d.message:"Update failed"}}}async function wm(s,l,a){try{console.log(" Deleting file:",s);const c=await xs(),d=await fetch("/api/databricks/knowledge-base/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileId:s,userEmail:l,userRole:a,...c})});if(!d.ok){const g=await d.json().catch(()=>({}));throw new Error(g.error||`Deletion failed: ${d.statusText}`)}const f=await d.json();return console.log(" File deleted:",f.fileName),{success:!0}}catch(c){return console.error(" Delete error:",c),{success:!1,error:c instanceof Error?c.message:"Deletion failed"}}}function jm(s,l,a="application/octet-stream"){const c=new Blob([l],{type:a}),d=URL.createObjectURL(c),f=document.createElement("a");f.href=d,f.download=s,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d),console.log(" File downloaded:",s)}async function db(s,l){try{console.log(" Downloading file from Knowledge Base:",s);const a=await xs(),c=new URLSearchParams;c.append("fileId",s),c.append("accessToken",a.accessToken),c.append("workspaceHost",a.workspaceHost);const d=await fetch(`/api/databricks/knowledge-base/download?${c}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!d.ok){const y=await d.json().catch(()=>({}));throw new Error(y.error||`Download failed: ${d.statusText}`)}const f=await d.json(),g=f.content||"",m=f.mimeType||"application/octet-stream";return jm(l,g,m),console.log(" File downloaded successfully:",l),{success:!0}}catch(a){return console.error(" Download error:",a),{success:!1,error:a instanceof Error?a.message:"Download failed"}}}async function Nm(){const s=await ys();if(!s)throw new Error("Not authenticated. Please sign in to Databricks.");return{accessToken:s.accessToken,workspaceHost:s.workspaceHost}}async function fb(s){try{console.log(" Executing AI Prompt:",s.prompt.substring(0,100)+"...");const l=await Nm(),a=await fetch("/api/databricks/ai/prompt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,...l})});if(!a.ok){const d=await a.json().catch(()=>({}));throw new Error(d.error||`AI prompt failed: ${a.statusText}`)}const c=await a.json();return console.log(" AI Response received:",c.response.substring(0,100)+"..."),console.log(" Token usage:",c.usage),c}catch(l){return console.error(" AI Prompt error:",l),{success:!1,response:"",model:"",usage:{promptTokens:0,completionTokens:0,totalTokens:0},metadata:{kbContextUsed:!1,conversationLength:0},error:l instanceof Error?l.message:"AI prompt failed"}}}async function pb(s){try{console.log(" Running AI Agent:",s.task),console.log(" Tools enabled:",{kb:s.enableKnowledgeBase,sql:s.enableSQLQuery,web:s.enableWebSearch});const l=await Nm(),a=await fetch("/api/databricks/ai/agent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,...l})});if(!a.ok){const d=await a.json().catch(()=>({}));throw new Error(d.error||`Agent execution failed: ${a.statusText}`)}const c=await a.json();return console.log(` Agent completed in ${c.iterations} iterations`),console.log(` Tools used: ${c.toolsUsed} function calls`),console.log(" Final response:",c.response.substring(0,100)+"..."),c}catch(l){return console.error(" AI Agent error:",l),{success:!1,response:"",iterations:0,model:"",toolsUsed:0,error:l instanceof Error?l.message:"Agent execution failed"}}}const Tn=[{id:"Luminaries",label:"Luminaries",color:"bg-teal-100",borderColor:"border-teal-300"},{id:"panelist",label:"Panelist",color:"bg-cyan-100",borderColor:"border-cyan-300"},{id:"Consumers",label:"Consumers",color:"bg-sky-100",borderColor:"border-sky-300"},{id:"competitors",label:"Competitors",color:"bg-indigo-100",borderColor:"border-indigo-300"},{id:"Colleagues",label:"Colleagues",color:"bg-violet-100",borderColor:"border-violet-300"},{id:"cultural",label:"Cultural Voices",color:"bg-purple-100",borderColor:"border-purple-300"},{id:"social",label:"Social Listening",color:"bg-fuchsia-100",borderColor:"border-fuchsia-300"},{id:"Grade",label:"Score Results",color:"bg-pink-100",borderColor:"border-pink-300"}];function mb({brand:s,projectType:l,researchFiles:a,editSuggestions:c=[],canApproveResearch:d,onCreateResearchFile:f,onToggleApproval:g,onUpdateResearchFile:m,onUpdateSuggestionStatus:y,availableBrands:x=[],availableProjectTypes:v=[],onAddBrand:w,onAddProjectType:N}){const[A,P]=p.useState(()=>localStorage.getItem("cohive_research_mode")),[S,T]=p.useState(null),[W,G]=p.useState({}),[ue,se]=p.useState([]),[ae,Ce]=p.useState(""),[O,je]=p.useState(""),[Z,de]=p.useState([]),[Ve,xe]=p.useState(!1),[He,ze]=p.useState(""),[Je,J]=p.useState(""),[ne,U]=p.useState(!1),[ie,ee]=p.useState(null),[C,B]=p.useState(""),[ge,Te]=p.useState(null),[Me,We]=p.useState("create"),[Qe,Ie]=p.useState(null),[ve,$e]=p.useState({brandScope:"single",brandName:s,categoryName:"",fileName:"",fileType:""}),[Ze,Ct]=p.useState(null),[z,I]=p.useState(""),[le,Be]=p.useState("all");p.useEffect(()=>{A?localStorage.setItem("cohive_research_mode",A):localStorage.removeItem("cohive_research_mode")},[A]),p.useEffect(()=>{if(Ze){const _=a.find(X=>X.id===Ze.id);_&&Ct(_)}},[a]);const De=(_,X)=>{const pe=Sr=>new Date(Sr).toISOString().split("T")[0],Le=Sr=>Sr.replace(/[^a-zA-Z0-9]/g,""),ft=X==="Grade"?"Score":X,Oe=Le(_)||"Brand",pr=Le(ft)||"ProjectType",Dn=pe(Date.now());return`${Oe}_${pr}_${Dn}`},Pe=_=>a.filter(X=>X.fileType===_),it=(_,X)=>{G(pe=>({...pe,[_]:X}))},et=(_,X)=>{if(!ae||!O){console.error("Brand and Project Type must be selected before importing files");return}_.forEach(pe=>{const Le={brand:ae,projectType:O,fileName:pe.name,isApproved:X,fileType:"synthesis",content:pe.content,source:pe.source};f(Le)}),xe(!1)},jt=async _=>{const X=_.target.files?.[0];if(!X||!ae||!O){(!ae||!O)&&alert("Please select Brand and Project Type first");return}try{const pe=await rc({file:X,scope:"brand",category:O,brand:ae,projectType:O,fileType:"Synthesis",tags:[],userEmail:"user@company.com",userRole:d?"research-leader":"research-analyst"});if(pe.success){console.log("File uploaded to Databricks:",X.name);const Le=new FileReader;Le.onload=ft=>{const Oe=ft.target?.result,pr={brand:ae,projectType:O,fileName:X.name,isApproved:!1,fileType:"synthesis",content:Oe,source:pe.filePath?`Databricks: ${pe.filePath}`:`Databricks KB: ${X.name}`};f(pr)},Le.readAsDataURL(X)}else alert("Failed to upload: "+(pe.error||"Unknown error"));_.target.value=""}catch(pe){console.error("Error uploading file to Databricks:",pe),alert("Failed to upload file. Please try again.")}},dn=async()=>{if(Z.length===0){alert("Please select files to approve");return}try{const X=(await Promise.all(Z.map(pe=>cb(pe.id,"user@company.com",d?"research-leader":"research-analyst","Approved from synthesis workflow")))).filter(pe=>pe.success).length;alert(`Successfully approved ${X} of ${Z.length} files`),de([])}catch(_){console.error("Error approving files:",_),alert("Failed to approve files. Please try again.")}},Ft=async()=>{if(Z.length===0){alert("Please select files to delete");return}if(confirm(`Are you sure you want to delete ${Z.length} file(s)? This action cannot be undone.`))try{const X=(await Promise.all(Z.map(pe=>wm(pe.id,"user@company.com",d?"research-leader":"research-analyst")))).filter(pe=>pe.success).length;alert(`Successfully deleted ${X} of ${Z.length} files`),de([])}catch(_){console.error("Error deleting files:",_),alert("Failed to delete files. Please try again.")}},Lr=async()=>{if(Z.length===0){alert("Please select files to update");return}const _=window.prompt("Enter tags (comma-separated):");if(_===null)return;const X=_.split(",").map(pe=>pe.trim()).filter(pe=>pe);try{const Le=(await Promise.all(Z.map(ft=>ub(ft.id,{tags:X},"user@company.com",d?"research-leader":"research-analyst")))).filter(ft=>ft.success).length;alert(`Successfully updated metadata for ${Le} of ${Z.length} files`)}catch(pe){console.error("Error updating metadata:",pe),alert("Failed to update metadata. Please try again.")}},jr=async()=>{if(Z.length===0){alert("Please select files to analyze with AI Agent");return}const _=window.prompt('Enter the task for the AI Agent (e.g., "Summarize key insights from these files"):');if(_)try{const X=await pb({task:`${_}

Analyze these files: ${Z.map(pe=>pe.fileName).join(", ")}`,systemPrompt:"You are a helpful AI assistant analyzing research files for brand synthesis.",enableKnowledgeBase:!0,enableSQLQuery:!0,brand:ae,category:O,userEmail:"user@company.com",userRole:d?"research-leader":"research-analyst"});X.success?alert(`AI Agent Response:

${X.response}

Completed in ${X.iterations} iterations using ${X.toolsUsed} tools.`):alert("AI Agent failed: "+(X.error||"Unknown error"))}catch(X){console.error("Error running AI Agent:",X),alert("Failed to run AI Agent. Please try again.")}},Nr=async()=>{if(Z.length===0){alert("Please select files to analyze with AI");return}const _=window.prompt('Enter your prompt (e.g., "What are the key themes?"):');if(_)try{const X=await fb({prompt:`${_}

Context: Analyzing files: ${Z.map(pe=>pe.fileName).join(", ")}`,systemPrompt:"You are a helpful AI assistant analyzing research files.",includeKnowledgeBase:!0,knowledgeBaseQuery:ae,userEmail:"user@company.com",userRole:d?"research-leader":"research-analyst"});X.success?alert(`AI Response:

${X.response}

Tokens used: ${X.usage.totalTokens}`):alert("AI Prompt failed: "+(X.error||"Unknown error"))}catch(X){console.error("Error executing AI prompt:",X),alert("Failed to execute AI prompt. Please try again.")}},Ir=()=>{if(!ge||!ve.fileName.trim())return;let _="";ve.brandScope==="single"?_=ve.brandName:ve.brandScope==="category"?_=`Category: ${ve.categoryName}`:_="All Brands";const X={brand:_,projectType:ge,fileName:ve.fileName,isApproved:!1,fileType:ge};f(X),$e({brandScope:"single",brandName:s,categoryName:"",fileName:"",fileType:""})};if(!A)return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-purple-900 leading-tight",children:"Research Mode Selection"}),r.jsx("p",{className:"text-purple-700 text-sm",children:"Build, Edit and Approve Research Files and Persona Files"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsx("button",{onClick:()=>P("synthesis"),className:"bg-white border-2 border-gray-300 rounded-lg p-6 hover:border-purple-500 hover:bg-purple-50 transition-colors text-left group",children:r.jsxs("div",{children:[r.jsx("h4",{className:"text-gray-900",children:"Synthesis"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Combine and analyze multiple research studies to generate comprehensive insights"}),r.jsxs("div",{className:"mt-3 text-xs text-purple-600 group-hover:text-purple-700",children:[" Add Studies  New Brand  New Project Type  ",d?"Review/Edit/Approve":"View Files"]})]})}),r.jsx("button",{onClick:()=>P("personas"),className:"bg-white border-2 border-gray-300 rounded-lg p-6 hover:border-blue-500 hover:bg-blue-50 transition-colors text-left group",children:r.jsxs("div",{children:[r.jsx("h4",{className:"text-gray-900",children:"Personas"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Create lists of Personas for each Hexagon with key characteristics for each Persona"}),r.jsxs("div",{className:"mt-3 text-xs text-blue-600 group-hover:text-blue-700",children:["Files can be for single brands, categories, or all brands  ",d?"Review/Edit/Approve":"Create Personas"]})]})}),r.jsx("button",{onClick:()=>P("read-edit-approve"),className:"bg-white border-2 border-gray-300 rounded-lg p-6 hover:border-green-500 hover:bg-green-50 transition-colors text-left group",children:r.jsxs("div",{children:[r.jsx("h4",{className:"text-gray-900",children:d?"Read, Edit, or Approve":"Read Files"}),r.jsx("p",{className:"text-gray-600 text-sm",children:d?"Read, edit, or approve any synthesis or persona file":"View all synthesis and persona files in the knowledge base"}),r.jsx("div",{className:"mt-3 text-xs text-green-600 group-hover:text-green-700",children:d?" View all files  Edit content  Approve/unapprove":" View all files  Read content  Learn from existing research"})]})})]})]});if(A==="synthesis")return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-gray-700 text-sm font-semibold",children:"Research Mode:"}),r.jsxs("div",{className:"flex gap-2 flex-1",children:[r.jsx("button",{onClick:()=>P("synthesis"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg cursor-default",children:"Synthesis"}),r.jsx("button",{onClick:()=>{P("personas"),T(null),G({}),se([])},className:"px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:"Personas"}),r.jsx("button",{onClick:()=>{P("read-edit-approve"),T(null),G({}),se([])},className:"px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:d?"Read/Edit/Approve":"Read Files"})]})]})}),r.jsx("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-lg p-4 mb-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-purple-900 leading-tight",children:"Synthesis Mode"}),r.jsx("p",{className:"text-purple-700 text-sm",children:"Combine research studies to generate insights"})]})})}),r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsx("label",{className:"block text-gray-900 mb-3",children:"1. Select Synthesis Approach"}),!S&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 p-3 rounded cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"synthesisOption",value:"new-synthesis",checked:S==="new-synthesis",onChange:_=>T(_.target.value),className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900 font-semibold",children:"New Synthesis"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Start a new synthesis for an existing brand and project type"})]})]}),r.jsxs("label",{className:"flex items-center gap-2 p-3 rounded cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"synthesisOption",value:"new-brand",checked:S==="new-brand",onChange:_=>T(_.target.value),className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900 font-semibold",children:"New Brand"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Start synthesis for a new brand with existing project type"})]})]}),r.jsxs("label",{className:"flex items-center gap-2 p-3 rounded cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"synthesisOption",value:"new-project-type",checked:S==="new-project-type",onChange:_=>T(_.target.value),className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900 font-semibold",children:"New Project Type"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Start synthesis for existing brand with new project type"})]})]}),r.jsxs("label",{className:"flex items-center gap-2 p-3 rounded cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"synthesisOption",value:"edit-existing",checked:S==="edit-existing",onChange:_=>T(_.target.value),className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900 font-semibold",children:"Edit Existing Synthesis"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Modify an existing synthesis file"})]})]}),r.jsxs("label",{className:"flex items-center gap-2 p-3 rounded cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"synthesisOption",value:"add-studies",checked:S==="add-studies",onChange:_=>T(_.target.value),className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900 font-semibold",children:"Add Studies to Existing Synthesis"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Incorporate additional research studies into existing analysis"})]})]}),r.jsxs("label",{className:"flex items-center gap-2 p-3 rounded cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"synthesisOption",value:"review-edits",checked:S==="review-edits",onChange:_=>T(_.target.value),className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900 font-semibold",children:"Review Suggested Edits"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Review and approve suggested edits to synthesis files"})]})]})]}),S&&r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded bg-blue-50 border-2 border-blue-300",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"text-gray-900 font-semibold",children:[S==="new-synthesis"&&"New Synthesis",S==="new-brand"&&"New Brand",S==="new-project-type"&&"New Project Type",S==="edit-existing"&&"Edit Existing Synthesis",S==="add-studies"&&"Add Studies to Existing Synthesis",S==="review-edits"&&"Review Suggested Edits"]}),r.jsxs("p",{className:"text-gray-600 text-sm",children:[S==="new-synthesis"&&"Start a new synthesis for an existing brand and project type",S==="new-brand"&&"Start synthesis for a new brand with existing project type",S==="new-project-type"&&"Start synthesis for existing brand with new project type",S==="edit-existing"&&"Modify an existing synthesis file",S==="add-studies"&&"Incorporate additional research studies into existing analysis",S==="review-edits"&&"Review and approve suggested edits to synthesis files"]})]}),r.jsx("button",{onClick:()=>T(null),className:"px-3 py-1 text-sm bg-white border-2 border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:"Change"})]})})]}),w&&N&&(S==="new-brand"||S==="new-project-type")&&r.jsxs("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-4",children:[r.jsx("h3",{className:"text-blue-900 mb-3",children:"Manage Brands & Project Types"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S==="new-brand"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-900 text-sm mb-2",children:"Add New Brand"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",className:"flex-1 border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",placeholder:"Enter brand name...",value:He,onChange:_=>ze(_.target.value),onKeyDown:_=>{_.key==="Enter"&&He.trim()&&(w(He),ze(""))}}),r.jsx("button",{onClick:()=>{He.trim()&&(w(He),ze(""))},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add"})]}),r.jsxs("div",{className:"mt-2",children:[r.jsxs("p",{className:"text-xs text-gray-600",children:["Available Brands (",x.length,"):"]}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:x.map((_,X)=>r.jsx("span",{className:"px-2 py-1 bg-white border border-gray-300 rounded text-xs text-gray-700",children:_},X))})]})]}),S==="new-project-type"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-900 text-sm mb-2",children:"Add New Project Type"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",className:"flex-1 border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",placeholder:"Enter project type...",value:Je,onChange:_=>J(_.target.value),onKeyDown:_=>{_.key==="Enter"&&Je.trim()&&(N(Je),J(""))}}),r.jsx("button",{onClick:()=>{Je.trim()&&(N(Je),J(""))},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add"})]}),r.jsxs("div",{className:"mt-2",children:[r.jsxs("p",{className:"text-xs text-gray-600",children:["Available Types (",v.length,"):"]}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:v.map((_,X)=>r.jsx("span",{className:"px-2 py-1 bg-white border border-gray-300 rounded text-xs text-gray-700",children:_},X))})]})]})]})]}),S==="new-synthesis"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsx("label",{className:"block text-gray-900 mb-3",children:"2. Select Brand"}),r.jsxs("select",{className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-purple-500",value:ae,onChange:_=>{Ce(_.target.value),de([])},children:[r.jsx("option",{value:"",children:"-- Select Brand --"}),x.map((_,X)=>r.jsx("option",{value:_,children:_},X))]}),x.length===0&&r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:'No brands available. Create a brand using "New Brand" option above.'})]}),ae&&r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsx("label",{className:"block text-gray-900 mb-3",children:"3. Select Project Type"}),r.jsxs("select",{className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-purple-500",value:O,onChange:_=>{je(_.target.value),de([])},children:[r.jsx("option",{value:"",children:"-- Select Project Type --"}),v.map((_,X)=>r.jsx("option",{value:_,children:_},X))]}),v.length===0&&r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:'No project types available. Create a project type using "New Project Type" option above.'})]}),ae&&O&&r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsxs("label",{className:"block text-gray-900 mb-3",children:["4. Select Research Files for ",ae]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h5",{className:"text-sm text-gray-700 mb-2",children:"From Existing Approved Files:"}),a.filter(_=>_.isApproved&&_.brand===ae).length>0?r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:a.filter(_=>_.isApproved&&_.brand===ae).map(_=>{const X=Z.some(pe=>pe.id===_.id);return r.jsx("div",{onClick:()=>{de(X?pe=>pe.filter(Le=>Le.id!==_.id):pe=>[...pe,_])},className:`p-3 border-2 rounded cursor-pointer transition-colors ${X?"border-purple-500 bg-purple-50":"border-gray-300 bg-white hover:border-gray-400"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:X,onChange:()=>{},className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm text-gray-900",children:_.fileName}),r.jsxs("div",{className:"text-xs text-gray-600",children:[_.source&&r.jsxs("span",{className:"text-blue-600",children:[_.source,"  "]}),new Date(_.uploadDate).toLocaleDateString()]})]})]})},_.id)})}):r.jsxs("p",{className:"text-sm text-gray-600 italic",children:["No approved files available for ",ae]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("label",{className:"w-full px-4 py-3 bg-green-600 text-white rounded hover:bg-green-700 flex items-center justify-center gap-2 cursor-pointer",children:[r.jsx(is,{className:"w-5 h-5"}),"Upload File to Databricks",r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.xlsx,.xls,.csv,.txt,.ppt,.pptx",className:"hidden",onChange:jt})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-2 text-center",children:"Upload a file from your computer to Databricks Knowledge Base"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("button",{onClick:()=>xe(!0),className:"w-full px-4 py-3 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})}),"Import from Databricks"]}),r.jsx("p",{className:"text-xs text-gray-600 mt-2 text-center",children:"Browse and import files from Databricks that match this brand"})]}),r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsx("h5",{className:"text-sm font-semibold text-gray-900",children:"Databricks File Operations"}),r.jsxs("button",{onClick:dn,disabled:Z.length===0,className:"w-full px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(rt,{className:"w-4 h-4"}),"Approve Selected Files"]}),r.jsxs("button",{onClick:Lr,disabled:Z.length===0,className:"w-full px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(wf,{className:"w-4 h-4"}),"Update Metadata"]}),r.jsxs("button",{onClick:Ft,disabled:Z.length===0,className:"w-full px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(Xi,{className:"w-4 h-4"}),"Delete Selected Files"]})]}),r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsx("h5",{className:"text-sm font-semibold text-gray-900",children:"Databricks AI Tools"}),r.jsxs("button",{onClick:jr,disabled:Z.length===0,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(hf,{className:"w-4 h-4"}),"Run AI Agent"]}),r.jsxs("button",{onClick:Nr,disabled:Z.length===0,className:"w-full px-4 py-2 bg-violet-600 text-white rounded hover:bg-violet-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(bf,{className:"w-4 h-4"}),"Execute AI Prompt"]})]}),Z.length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border-2 border-purple-200 rounded",children:[r.jsxs("h5",{className:"text-sm text-purple-900 mb-2",children:["Selected Files (",Z.length,"):"]}),r.jsx("div",{className:"space-y-1",children:Z.map(_=>r.jsxs("div",{className:"flex items-center justify-between text-xs text-purple-800",children:[r.jsx("span",{children:_.fileName}),r.jsx("button",{onClick:()=>de(X=>X.filter(pe=>pe.id!==_.id)),className:"text-red-600 hover:text-red-700",children:""})]},_.id))})]})]}),ae&&O&&Z.length>0&&r.jsx("button",{onClick:()=>{console.log("Executing New Synthesis:",{brand:ae,projectType:O,files:Z.map(_=>_.fileName)}),alert(`Creating synthesis for ${ae} - ${O} with ${Z.length} file(s)`),Ce(""),je(""),de([])},className:"w-full px-6 py-3 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Execute - New Synthesis"})]}),S==="add-studies"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsx("label",{className:"block text-gray-900 mb-3",children:"2. Select existing synthesis to add studies to"}),r.jsxs("select",{className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-purple-500",value:W.targetSynthesis||"",onChange:_=>it("targetSynthesis",_.target.value),children:[r.jsx("option",{value:"",children:"-- Select synthesis --"}),a.map((_,X)=>r.jsx("option",{value:_.id,children:_.fileName},X))]})]}),r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsx("label",{className:"block text-gray-900 mb-3",children:"3. Select files to add to synthesis"}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("input",{type:"text",className:"flex-1 border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-purple-500",placeholder:"Enter filename or select from Databricks...",value:W.addStudiesFilename||"",onChange:_=>it("addStudiesFilename",_.target.value)}),r.jsx("button",{onClick:()=>xe(!0),className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",title:"Browse Databricks files",children:"Browse Files"})]}),Z.length>0&&r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-700",children:"Selected files:"}),Z.map((_,X)=>r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-purple-50 border border-purple-200 rounded",children:[r.jsx("span",{className:"text-sm text-gray-700 flex-1",children:_.fileName}),r.jsx("button",{onClick:()=>de(Z.filter((pe,Le)=>Le!==X)),className:"text-red-600 hover:text-red-700 text-xs",children:"Remove"})]},X))]}),Z.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx("h5",{className:"text-xs font-semibold text-gray-900",children:"File Operations"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:dn,className:"flex-1 px-3 py-2 text-xs bg-emerald-600 text-white rounded hover:bg-emerald-700 flex items-center justify-center gap-1",children:[r.jsx(rt,{className:"w-3 h-3"}),"Approve"]}),r.jsxs("button",{onClick:Lr,className:"flex-1 px-3 py-2 text-xs bg-amber-600 text-white rounded hover:bg-amber-700 flex items-center justify-center gap-1",children:[r.jsx(wf,{className:"w-3 h-3"}),"Update"]}),r.jsxs("button",{onClick:Ft,className:"flex-1 px-3 py-2 text-xs bg-red-600 text-white rounded hover:bg-red-700 flex items-center justify-center gap-1",children:[r.jsx(Xi,{className:"w-3 h-3"}),"Delete"]})]})]}),r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsx("h5",{className:"text-xs font-semibold text-gray-900",children:"AI Tools"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:jr,className:"flex-1 px-3 py-2 text-xs bg-indigo-600 text-white rounded hover:bg-indigo-700 flex items-center justify-center gap-1",children:[r.jsx(hf,{className:"w-3 h-3"}),"AI Agent"]}),r.jsxs("button",{onClick:Nr,className:"flex-1 px-3 py-2 text-xs bg-violet-600 text-white rounded hover:bg-violet-700 flex items-center justify-center gap-1",children:[r.jsx(bf,{className:"w-3 h-3"}),"AI Prompt"]})]})]})]})]})]}),S==="new-brand"&&r.jsx("div",{className:"space-y-4"}),S==="new-project-type"&&r.jsx("div",{className:"space-y-4"}),S==="edit-existing"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsx("label",{className:"block text-gray-900 mb-3",children:"2. Select the file to edit"}),r.jsxs("select",{className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-purple-500",value:W.editFile||"",onChange:_=>{const X=_.target.value;if(it("editFile",X),X){const pe=a.find(Le=>Le.id===X);pe&&(ee(pe),B(pe.content||""),U(!0))}},children:[r.jsx("option",{value:"",children:"-- Select file --"}),a.map((_,X)=>r.jsx("option",{value:_.id,children:_.fileName},X))]})]})}),S==="review-edits"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsx("h3",{className:"text-gray-900 mb-4",children:"Suggested Edits from Non-Researchers"}),c.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No edit suggestions yet. Non-researchers can suggest edits to Knowledge Base files."}):r.jsx("div",{className:"space-y-3",children:c.map(_=>{const X=a.find(pe=>pe.id===_.researchFileId);return r.jsxs("div",{className:`border-2 rounded-lg p-4 ${_.status==="pending"?"border-orange-300 bg-orange-50":_.status==="reviewed"?"border-blue-300 bg-blue-50":"border-green-300 bg-green-50"}`,children:[r.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-gray-900",children:_.fileName}),r.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${_.status==="pending"?"bg-orange-100 text-orange-800":_.status==="reviewed"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:_.status.toUpperCase()})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Suggested by ",_.suggestedBy," on ",new Date(_.timestamp).toLocaleDateString()]})]}),_.status==="pending"&&y&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",onClick:()=>y(_.id,"reviewed"),title:"Mark as reviewed",children:"Mark Reviewed"}),r.jsx("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded text-sm hover:bg-green-700",onClick:()=>y(_.id,"implemented"),title:"Mark as implemented",children:"Mark Implemented"})]})]}),r.jsxs("div",{className:"bg-white border border-gray-300 rounded p-3",children:[r.jsx("div",{className:"text-sm text-gray-900",children:r.jsx("strong",{children:"Suggestion:"})}),r.jsx("div",{className:"text-sm text-gray-700 mt-1 whitespace-pre-wrap",children:_.suggestion})]}),X&&r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["File: ",X.brand," / ",X.projectType," / ",X.fileName]})]},_.id)})})]})}),r.jsx(bm,{open:Ve,onClose:()=>xe(!1),onFilesSelected:et}),ne&&ie&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Edit File: ",ie.fileName]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Brand: ",ie.brand," | Project Type: ",ie.projectType]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:r.jsx("textarea",{className:"w-full h-96 border-2 border-gray-300 bg-white rounded p-4 text-gray-700 font-mono text-sm focus:outline-none focus:border-purple-500",placeholder:"Enter file content...",value:C,onChange:_=>B(_.target.value)})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{U(!1),ee(null),B(""),G(_=>({..._,editFile:""}))},className:"px-6 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"}),r.jsx("button",{onClick:()=>{m&&ie&&(m(ie.id,C),U(!1),ee(null),B(""),G(_=>({..._,editFile:""})),alert("File updated successfully!"))},className:"px-6 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Save"})]})]})})]});if(A==="personas")return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-gray-700 text-sm font-semibold",children:"Research Mode:"}),r.jsxs("div",{className:"flex gap-2 flex-1",children:[r.jsx("button",{onClick:()=>{P("synthesis"),Te(null),$e({brandScope:"single",brandName:s,categoryName:"",fileName:"",fileType:""})},className:"px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:"Synthesis"}),r.jsx("button",{onClick:()=>P("personas"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg cursor-default",children:"Personas"}),r.jsx("button",{onClick:()=>{P("read-edit-approve"),Te(null),$e({brandScope:"single",brandName:s,categoryName:"",fileName:"",fileType:""})},className:"px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:d?"Read/Edit/Approve":"Read Files"})]})]})}),r.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 mb-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-blue-900 leading-tight",children:"Personas Mode"}),r.jsx("p",{className:"text-blue-700 text-sm",children:"Create lists of Personas for each Hexagon with key characteristics for each Persona"})]})})}),r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsx("h4",{className:"text-gray-900 mb-4",children:"Select Workflow Step"}),!ge&&r.jsx("div",{className:"grid grid-cols-2 gap-3",children:Tn.map(_=>{const X=Pe(_.id);return r.jsx("button",{onClick:()=>Te(_.id),className:"p-4 border-2 rounded-lg text-left transition-all border-gray-300 bg-white hover:border-gray-400",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900 mb-1",children:_.label}),r.jsxs("div",{className:"text-xs text-gray-600",children:[X.length," file",X.length!==1?"s":""]})]})})},_.id)})}),ge&&r.jsx("div",{className:"space-y-2",children:(()=>{const _=Tn.find(pe=>pe.id===ge),X=Pe(ge);return r.jsxs("div",{className:`flex items-center gap-2 p-4 border-2 rounded-lg ${_?.borderColor} ${_?.color}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900 mb-1",children:_?.label}),r.jsxs("div",{className:"text-xs text-gray-600",children:[X.length," file",X.length!==1?"s":""]})]}),r.jsx("button",{onClick:()=>Te(null),className:"px-3 py-1 text-sm bg-white border-2 border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:"Change"})]})})()})]}),ge&&Me==="create"&&r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-gray-900 mb-4",children:["Create New File for ",Tn.find(_=>_.id===ge)?.label]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Brand Scope"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"brandScope",value:"single",checked:ve.brandScope==="single",onChange:_=>$e({...ve,brandScope:_.target.value,fileName:""}),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700 text-sm",children:"Single Brand"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"brandScope",value:"category",checked:ve.brandScope==="category",onChange:_=>$e({...ve,brandScope:_.target.value,fileName:""}),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700 text-sm",children:"Category of Brands"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"brandScope",value:"all",checked:ve.brandScope==="all",onChange:_=>$e({...ve,brandScope:_.target.value,fileName:""}),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700 text-sm",children:"All Brands"})]})]})]}),ve.brandScope==="single"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"Brand Name"}),r.jsx("input",{type:"text",className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",placeholder:"Enter brand name...",value:ve.brandName,onChange:_=>{const X=_.target.value,pe=ge?De(X,ge):"";$e({...ve,brandName:X,fileName:pe})}})]}),ve.brandScope==="category"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"Category Name"}),r.jsx("input",{type:"text",className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",placeholder:"Enter category name (e.g., Athletic Footwear)...",value:ve.categoryName,onChange:_=>{const X=_.target.value,pe=ge?De(X,ge):"";$e({...ve,categoryName:X,fileName:pe})}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"Filename (editable)"}),(()=>{let _="",X=ge||"";ve.brandScope==="single"?_=ve.brandName:ve.brandScope==="category"?_=ve.categoryName:_="AllBrands";const pe=_&&X?De(_,X):"";return pe&&!ve.fileName&&setTimeout(()=>{$e({...ve,fileName:pe})},0),r.jsx("input",{type:"text",className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",placeholder:"Enter filename...",value:ve.fileName,onChange:Le=>$e({...ve,fileName:Le.target.value})})})()]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"Upload File"}),r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.xlsx,.xls,.csv",className:"w-full text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700 file:cursor-pointer text-sm",onChange:_=>{const X=_.target.files?.[0];X&&!ve.fileName&&$e({...ve,fileName:X.name,fileType:X.type})}})]}),r.jsx("button",{onClick:Ir,className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:!ve.fileName.trim()||ve.brandScope==="single"&&!ve.brandName.trim()||ve.brandScope==="category"&&!ve.categoryName.trim(),children:"Create Research File"})]})]}),ge&&Pe(ge).length>0&&r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-gray-900 mb-4",children:["Existing Files for ",Tn.find(_=>_.id===ge)?.label]}),r.jsx("div",{className:"space-y-2",children:Pe(ge).map(_=>r.jsx("div",{className:"border-2 border-gray-300 rounded p-3",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h5",{className:"text-gray-900 text-sm",children:_.fileName}),_.isApproved?r.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 rounded text-xs",children:"Approved"}):r.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 rounded text-xs",children:"Pending Approval"})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[_.brand,"  Uploaded: ",new Date(_.uploadDate).toLocaleDateString()]})]}),d&&r.jsx("button",{onClick:()=>g(_.id),className:`px-3 py-1 rounded text-xs ml-2 ${_.isApproved?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-green-600 text-white hover:bg-green-700"}`,children:_.isApproved?"Unapprove":"Approve"})]})},_.id))})]})]});if(A==="read-edit-approve"){const _=()=>a.filter(Le=>!Le.fileType||Le.fileType==="synthesis"||!Tn.find(ft=>ft.id===Le.fileType)),X=()=>a.filter(Le=>Tn.find(ft=>ft.id===Le.fileType)),pe=()=>[...le==="synthesis"?_():le==="personas"?X():a].sort((ft,Oe)=>Oe.uploadDate-ft.uploadDate);return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-gray-700 text-sm font-semibold",children:"Research Mode:"}),r.jsxs("div",{className:"flex gap-2 flex-1",children:[r.jsx("button",{onClick:()=>P("synthesis"),className:"px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:"Synthesis"}),r.jsx("button",{onClick:()=>P("personas"),className:"px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:"Personas"}),r.jsx("button",{onClick:()=>P("read-edit-approve"),className:"px-4 py-2 bg-green-600 text-white rounded-lg cursor-default",children:d?"Read/Edit/Approve":"Read Files"})]})]})}),r.jsx("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4 mb-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-green-900 leading-tight",children:d?"Read/Edit/Approve Mode":"Read Files Mode"}),r.jsx("p",{className:"text-green-700 text-sm",children:d?"Read, edit, or approve any synthesis or persona file":"View all synthesis and persona files in the knowledge base"})]})})}),Ze&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-gray-900 mb-3",children:["View File: ",Ze.fileName]}),r.jsxs("div",{className:"bg-gray-50 border-2 border-gray-300 rounded p-3 text-gray-700 text-sm min-h-[100px]",children:[r.jsx("p",{className:"italic text-gray-500",children:"File content would be displayed here..."}),r.jsxs("p",{className:"mt-2 text-xs text-gray-600",children:["Brand: ",Ze.brand," | Project Type: ",Ze.projectType]})]})]}),d&&r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsx("h4",{className:"text-gray-900 mb-3",children:"Edit File"}),r.jsx("textarea",{className:"w-full h-32 border-2 border-gray-300 bg-white rounded p-3 text-gray-700 resize-none focus:outline-none focus:border-green-500",placeholder:"Enter your edits here...",value:z,onChange:Le=>I(Le.target.value)}),r.jsx("button",{onClick:()=>{console.log("Saving edits for file:",Ze.id,z),alert(`Edits saved for: ${Ze.fileName}`),I("")},disabled:!z.trim(),className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Save Edits"})]}),d&&r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsx("h4",{className:"text-gray-900 mb-3",children:"Approval Status"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Current Status: ",Ze.isApproved?r.jsx("span",{className:"text-green-600 font-semibold",children:"Approved"}):r.jsx("span",{className:"text-yellow-600 font-semibold",children:"Pending Approval"})]}),r.jsx("button",{onClick:()=>g(Ze.id),className:`px-4 py-2 rounded text-sm ${Ze.isApproved?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-green-600 text-white hover:bg-green-700"}`,children:Ze.isApproved?"Unapprove File":"Approve File"})]})]})]}),r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsxs("button",{onClick:()=>Be("all"),className:`px-4 py-2 rounded-lg transition-colors ${le==="all"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Files (",a.length,")"]}),r.jsxs("button",{onClick:()=>Be("synthesis"),className:`px-4 py-2 rounded-lg transition-colors ${le==="synthesis"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Synthesis (",_().length,")"]}),r.jsxs("button",{onClick:()=>Be("personas"),className:`px-4 py-2 rounded-lg transition-colors ${le==="personas"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Personas (",X().length,")"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-gray-900 mb-3",children:"Select a File"}),pe().length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No files available"}):pe().map(Le=>r.jsx("div",{className:`border-2 rounded p-3 cursor-pointer transition-all ${Ze?.id===Le.id?"border-green-500 bg-green-50":"border-gray-300 bg-white hover:border-gray-400"}`,onClick:()=>{Ct(Le),I("")},children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h5",{className:"text-gray-900 text-sm",children:Le.fileName}),Le.isApproved?r.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 rounded text-xs",children:"Approved"}):r.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 rounded text-xs",children:"Pending Approval"}),Le.fileType&&Tn.find(ft=>ft.id===Le.fileType)&&r.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:"Persona"})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:["Brand: ",Le.brand,"  Project Type: ",Le.projectType,"  Uploaded: ",new Date(Le.uploadDate).toLocaleDateString()]})]})})},Le.id))]})]})]})}return null}const Sm="/assets/53dc6cf554f69e479cfbd60a46741f158d11dd21-BlOSagK3.png",hb=[{hexId:"Luminaries",hexName:"External Experts",level1Label:"Expert Type",level2Label:"Domain",level3Label:"Specific Role",description:"Select external experts to provide insights and perspectives",options:[{id:"industry-experts",category:"Industry Experts",description:"Professionals with deep domain expertise",subcategories:[{id:"tech",name:"Technology",description:"Tech industry professionals",roles:[{id:"luminaries-tech-cto",name:"Chief Technology Officer"},{id:"luminaries-tech-engineer",name:"Senior Software Engineer"},{id:"luminaries-tech-pm",name:"Product Manager"}]},{id:"healthcare",name:"Healthcare",description:"Medical and healthcare professionals",roles:[{id:"luminaries-health-cmo",name:"Chief Medical Officer"},{id:"luminaries-health-admin",name:"Hospital Administrator"},{id:"luminaries-health-researcher",name:"Clinical Researcher"}]},{id:"finance",name:"Finance",description:"Financial services experts",roles:[{id:"luminaries-finance-cfo",name:"Chief Financial Officer"},{id:"luminaries-finance-analyst",name:"Investment Analyst"}]}]},{id:"academic-experts",category:"Academic Experts",description:"Researchers and academic thought leaders",subcategories:[{id:"research",name:"Research",description:"University researchers",roles:[{id:"luminaries-academic-professor",name:"University Professor"},{id:"luminaries-academic-scientist",name:"Research Scientist"}]},{id:"social-sciences",name:"Social Sciences",description:"Behavioral and social experts",roles:[{id:"luminaries-social-psychologist",name:"Behavioral Psychologist"},{id:"luminaries-social-sociologist",name:"Sociologist"}]}]},{id:"creative-experts",category:"Creative Experts",description:"Design and creative professionals",subcategories:[{id:"design",name:"Design",description:"UX, UI, and design thinking experts",roles:[{id:"luminaries-design-ux",name:"UX Designer"},{id:"luminaries-design-strategist",name:"Design Strategist"}]},{id:"marketing",name:"Marketing",description:"Brand and marketing experts",roles:[{id:"luminaries-marketing-brand",name:"Brand Strategist"},{id:"luminaries-marketing-digital",name:"Digital Marketing Director"}]}]}]},{hexId:"Colleagues",hexName:"Internal Stakeholders",level1Label:"Department",level2Label:"Team",level3Label:"Role",description:"Select internal colleagues and stakeholders for their perspectives",options:[{id:"leadership",category:"Leadership",description:"Executive leadership team",subcategories:[{id:"c-suite",name:"C-Suite",description:"Executive leadership",roles:[{id:"colleagues-ceo",name:"CEO"},{id:"colleagues-cfo",name:"CFO"},{id:"colleagues-cmo",name:"CMO"},{id:"colleagues-cto",name:"CTO"}]},{id:"directors",name:"Directors",description:"Department directors",roles:[{id:"colleagues-director-product",name:"Product Director"},{id:"colleagues-director-sales",name:"Sales Director"},{id:"colleagues-director-ops",name:"Operations Director"}]}]},{id:"product",category:"Product & Engineering",description:"Product development and engineering teams",subcategories:[{id:"product-management",name:"Product Management",description:"Product strategy and planning",roles:[{id:"colleagues-product-manager",name:"Product Manager"},{id:"colleagues-product-owner",name:"Product Owner"}]},{id:"engineering",name:"Engineering",description:"Technical development teams",roles:[{id:"colleagues-engineer-lead",name:"Engineering Lead"},{id:"colleagues-engineer-architect",name:"Solutions Architect"}]}]},{id:"commercial",category:"Commercial",description:"Sales, marketing, and customer-facing teams",subcategories:[{id:"sales",name:"Sales",description:"Sales and business development",roles:[{id:"colleagues-sales-rep",name:"Sales Representative"},{id:"colleagues-sales-manager",name:"Sales Manager"}]},{id:"marketing",name:"Marketing",description:"Marketing and brand teams",roles:[{id:"colleagues-marketing-manager",name:"Marketing Manager"},{id:"colleagues-brand-manager",name:"Brand Manager"}]},{id:"customer-success",name:"Customer Success",description:"Customer support and success",roles:[{id:"colleagues-cs-manager",name:"Customer Success Manager"},{id:"colleagues-support-lead",name:"Support Team Lead"}]}]}]},{hexId:"cultural",hexName:"Cultural Voices",level1Label:"Cultural Category",level2Label:"Trend Area",level3Label:"Cultural Voice",description:"Select cultural trends and influences to analyze",options:[{id:"Music and Art",category:"Music and Art",description:"Cultural perspectives by generation",subcategories:[{id:"Music",name:"Music",description:"Digital-first, social justice focused",roles:[{id:"cultural-genz-activist",name:"Gen Z Activist"},{id:"cultural-genz-creator",name:"Content Creator"},{id:"cultural-genz-entrepreneur",name:"Young Entrepreneur"}]},{id:"Art",name:"Art",description:"Experience-driven, tech-savvy",roles:[{id:"cultural-millennial-influencer",name:"Lifestyle Influencer"},{id:"cultural-millennial-professional",name:"Urban Professional"}]}]},{id:"Sports",category:"Sports",description:"Regional cultural perspectives",subcategories:[{id:"Athletes",name:"Athletes",description:"City-based cultural trends",roles:[{id:"cultural-urban-trendsetter",name:"Urban Trendsetter"},{id:"cultural-urban-artist",name:"Street Artist"}]},{id:"Teams",name:"Teams",description:"Suburban lifestyle and values",roles:[{id:"cultural-suburban-family",name:"Suburban Family Voice"}]},{id:"Games",name:"Games",description:"Rural and small-town perspectives",roles:[{id:"cultural-rural-community",name:"Rural Community Leader"}]}]},{id:"Influencers",category:"Influencers",description:"Niche cultural movements",subcategories:[{id:"sustainability",name:"Sustainability Movement",description:"Eco-conscious cultural voices",roles:[{id:"cultural-eco-advocate",name:"Environmental Advocate"},{id:"cultural-zero-waste",name:"Zero-Waste Practitioner"}]},{id:"wellness",name:"Wellness Culture",description:"Health and mindfulness trends",roles:[{id:"cultural-wellness-guru",name:"Wellness Influencer"},{id:"cultural-mindfulness",name:"Mindfulness Coach"}]},{id:"tech-culture",name:"Tech Culture",description:"Innovation and tech communities",roles:[{id:"cultural-tech-innovator",name:"Tech Innovator"},{id:"cultural-gamer",name:"Gaming Community Voice"}]}]}]},{hexId:"Consumers",hexName:"Buyers",level1Label:"Buyer Type",level2Label:"Purchase Context",level3Label:"Buyer Profile",description:"Select buyer personas based on purchase behavior",options:[{id:"b2c",category:"B2C Buyers",description:"Individual consumers",subcategories:[{id:"impulse",name:"Impulse Buyers",description:"Quick, emotion-driven purchases",roles:[{id:"consumers-b2c-impulse",name:"Spontaneous Shopper"}]},{id:"research",name:"Research-Driven Buyers",description:"Thorough evaluation before purchase",roles:[{id:"consumers-b2c-research",name:"Analytical Buyer"}]},{id:"loyal",name:"Loyal Customers",description:"Repeat buyers, brand loyal",roles:[{id:"consumers-b2c-loyal",name:"Brand Advocate"}]}]},{id:"b2b",category:"B2B Buyers",description:"Business purchase decision-makers",subcategories:[{id:"smb",name:"Small Business",description:"Small business owners/managers",roles:[{id:"consumers-b2b-smb",name:"Small Business Owner"}]},{id:"enterprise",name:"Enterprise",description:"Large organization buyers",roles:[{id:"consumers-b2b-procurement",name:"Procurement Manager"},{id:"consumers-b2b-department",name:"Department Head"}]}]}]},{hexId:"Grade",hexName:"Score Results",level1Label:"Segment Type",level2Label:"Segment Category",level3Label:"Target Segment",description:"Select target segments to test hypotheses and strategies",options:[{id:"lifestyle",category:"Lifestyle",description:"Lifestyle-based segments",subcategories:[{id:"activities",name:"Activities & Interests",description:"Based on hobbies and activities",roles:[{id:"grade-lifestyle-active",name:"Active/Athletic"},{id:"grade-lifestyle-creative",name:"Creative/Artistic"},{id:"grade-lifestyle-tech",name:"Tech Enthusiast"},{id:"grade-lifestyle-outdoors",name:"Outdoor Adventurer"}]},{id:"consumption",name:"Consumption Patterns",description:"Based on purchase and consumption behavior",roles:[{id:"grade-lifestyle-luxury",name:"Luxury Consumer"},{id:"grade-lifestyle-value",name:"Value Seeker"},{id:"grade-lifestyle-eco",name:"Eco-Conscious Consumer"}]},{id:"life-stage",name:"Life Stage",description:"Based on current life circumstances",roles:[{id:"grade-lifestyle-student",name:"Student"},{id:"grade-lifestyle-young-professional",name:"Young Professional"},{id:"grade-lifestyle-family",name:"Growing Family"},{id:"grade-lifestyle-empty-nester",name:"Empty Nester"},{id:"grade-lifestyle-retiree",name:"Retiree"}]}]},{id:"demographic",category:"Demographic",description:"Demographic-based segments",subcategories:[{id:"age",name:"Age Groups",description:"Based on age ranges",roles:[{id:"grade-demo-gen-z",name:"Gen Z (18-26)"},{id:"grade-demo-millennial",name:"Millennials (27-42)"},{id:"grade-demo-gen-x",name:"Gen X (43-58)"},{id:"grade-demo-boomer",name:"Baby Boomers (59-77)"}]},{id:"income",name:"Income Levels",description:"Based on household income",roles:[{id:"grade-demo-low-income",name:"Low Income (<$35K)"},{id:"grade-demo-middle-income",name:"Middle Income ($35K-$100K)"},{id:"grade-demo-upper-middle",name:"Upper Middle ($100K-$200K)"},{id:"grade-demo-high-income",name:"High Income ($200K+)"}]},{id:"geography",name:"Geographic",description:"Based on location",roles:[{id:"grade-demo-urban",name:"Urban"},{id:"grade-demo-suburban",name:"Suburban"},{id:"grade-demo-rural",name:"Rural"}]},{id:"household",name:"Household Composition",description:"Based on family structure",roles:[{id:"grade-demo-single",name:"Single"},{id:"grade-demo-couple",name:"Couple (No Kids)"},{id:"grade-demo-family-young",name:"Family (Young Kids)"},{id:"grade-demo-family-teen",name:"Family (Teens)"},{id:"grade-demo-multi-gen",name:"Multi-Generational"}]}]},{id:"psychographic",category:"Psychographic",description:"Psychographic-based segments",subcategories:[{id:"values",name:"Values & Beliefs",description:"Based on core values",roles:[{id:"grade-psycho-traditional",name:"Traditional Values"},{id:"grade-psycho-progressive",name:"Progressive Values"},{id:"grade-psycho-spiritual",name:"Spiritual/Religious"},{id:"grade-psycho-pragmatic",name:"Pragmatic/Practical"}]},{id:"personality",name:"Personality Traits",description:"Based on personality characteristics",roles:[{id:"grade-psycho-innovator",name:"Innovator/Early Adopter"},{id:"grade-psycho-cautious",name:"Cautious/Risk-Averse"},{id:"grade-psycho-social",name:"Social Butterfly"},{id:"grade-psycho-independent",name:"Independent Thinker"}]},{id:"attitudes",name:"Attitudes & Opinions",description:"Based on attitudes toward key topics",roles:[{id:"grade-psycho-health-conscious",name:"Health-Conscious"},{id:"grade-psycho-status-seeking",name:"Status-Seeking"},{id:"grade-psycho-convenience",name:"Convenience-Oriented"},{id:"grade-psycho-quality",name:"Quality-Focused"},{id:"grade-psycho-price",name:"Price-Sensitive"}]}]}]}];function gb(s){return hb.find(l=>l.hexId===s)}function yb({hexId:s,hexLabel:l,researchFiles:a,onExecute:c,databricksInstructions:d,previousExecutions:f,onSaveRecommendation:g,projectType:m}){const[y,x]=p.useState(s==="competitors"?3:1),[v,w]=p.useState([]),[N,A]=p.useState(["unified"]),[P,S]=p.useState(""),[T,W]=p.useState(""),[G,ue]=p.useState(!1),[se,ae]=p.useState(!1),[Ce,O]=p.useState(""),[je,Z]=p.useState(!1),[de,Ve]=p.useState(""),[xe,He]=p.useState(""),[ze,Je]=p.useState(""),[J,ne]=p.useState([]),[U,ie]=p.useState([]),[ee,C]=p.useState([]),B=gb(s),ge=a.filter(z=>z.isApproved&&z.fileType===s),Te=z=>{v.includes(z)?w(v.filter(I=>I!==z)):w([...v,z])},Me=z=>{if(N.includes(z)){const I=N.filter(le=>le!==z);I.length>0&&A(I)}else A([...N,z])},We=(z,I)=>{J.includes(z)?ne(J.filter(le=>le!==z)):ne([...J,z])},Qe=z=>{if(U.includes(z)){const I=U.filter(Be=>Be!==z);ie(I);const le=B?.options.find(Be=>Be.id===z);if(le?.subcategories){const Be=le.subcategories.map(Pe=>Pe.id);C(ee.filter(Pe=>!Be.includes(Pe)));const De=[];le.subcategories.forEach(Pe=>{Pe.roles&&Pe.roles.forEach(it=>De.push(it.id))}),ne(J.filter(Pe=>!De.includes(Pe)))}}else ie([...U,z])},Ie=(z,I)=>{if(ee.includes(z)){C(ee.filter(De=>De!==z));const Be=B?.options.find(De=>De.id===I)?.subcategories?.find(De=>De.id===z);if(Be?.roles){const De=Be.roles.map(Pe=>Pe.id);ne(J.filter(Pe=>!De.includes(Pe)))}}else C([...ee,z])},ve=()=>{if(s==="competitors"){if(m==="War Games"){if(!xe){alert("Please select a competitor");return}}else if(!xe||!ze){alert("Please select a competitor and analysis type");return}}else if(v.length===0||!T.trim()){alert("Please select at least one file and provide an assessment");return}c(v,N,T),x(s==="competitors"?3:1),w([]),A(["unified"]),W(""),s==="competitors"&&(He(""),Je("")),alert("Process executed successfully! Data has been sent to Databricks.")},$e=v.length>0,Ze=s==="Grade"?$e&&P:$e&&N.length>0,Ct=s==="competitors"?m==="War Games"?xe.length>0:xe.length>0&&ze.length>0:Ze&&T.trim().length>0;return r.jsxs("div",{className:"space-y-2",children:[s!=="competitors"&&!(s==="Consumers"||s==="Luminaries"||s==="Colleagues"||s==="cultural"||s==="Grade")&&r.jsxs("div",{className:"flex items-center justify-between pb-1 border-b-2 border-gray-300",children:[r.jsx("div",{className:"flex items-center gap-4",children:[1,2,3].map(z=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all ${y===z?"bg-blue-600 text-white border-blue-600":y>z?"bg-green-600 text-white border-green-600":"bg-gray-200 text-gray-600 border-gray-300"}`,onClick:()=>{z===1&&x(1),z===2&&$e&&x(2),z===3&&Ze&&x(3)},disabled:z===2&&!$e||z===3&&!Ze,children:y>z?r.jsx(rt,{className:"w-5 h-5"}):z}),z<3&&r.jsx(Qi,{className:"w-5 h-5 text-gray-400"})]},z))}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Step ",y," of 3"]}),f.length>0&&r.jsxs("button",{className:"px-3 py-1 border-2 border-gray-400 text-gray-700 rounded text-sm hover:bg-gray-50",onClick:()=>ue(!G),children:[G?"Hide":"Show"," History (",f.length,")"]})]})]}),(s==="Consumers"||s==="Luminaries"||s==="Colleagues"||s==="cultural"||s==="Grade")&&r.jsxs("div",{className:"flex items-center justify-between pb-1 border-b-2 border-gray-300",children:[r.jsx("div",{className:"flex items-center gap-4",children:[1,2,3].map(z=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all ${y===z?"bg-blue-600 text-white border-blue-600":y>z?"bg-green-600 text-white border-green-600":"bg-gray-200 text-gray-600 border-gray-300"}`,onClick:()=>{z===1&&x(1),z===2&&$e&&x(2),z===3&&Ze&&x(3)},disabled:z===2&&!$e||z===3&&!Ze,children:y>z?r.jsx(rt,{className:"w-5 h-5"}):z}),z<3&&r.jsx(Qi,{className:"w-5 h-5 text-gray-400"})]},z))}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("span",{className:"text-sm text-gray-600",children:["Step ",y," of 3"]})})]}),s==="competitors"&&f.length>0&&r.jsx("div",{className:"flex justify-end pb-1 border-b-2 border-gray-300",children:r.jsxs("button",{className:"px-3 py-1 border-2 border-gray-400 text-gray-700 rounded text-sm hover:bg-gray-50",onClick:()=>ue(!G),children:[G?"Hide":"Show"," History (",f.length,")"]})}),G&&f.length>0&&r.jsxs("div",{className:"mb-2 p-2",children:[r.jsxs("h3",{className:"text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(np,{className:"w-5 h-5 text-blue-600"}),"Execution History"]}),r.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:f.map((z,I)=>r.jsxs("div",{className:"p-2 bg-white border border-gray-300 rounded",children:[r.jsxs("div",{className:"flex items-start justify-between mb-1",children:[r.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["Execution #",f.length-I]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(z.timestamp).toLocaleString()})]}),r.jsxs("div",{className:"text-sm text-gray-700 mb-1",children:[r.jsx("strong",{children:"Files:"})," ",z.selectedFiles.join(", ")]}),r.jsxs("div",{className:"text-sm text-gray-700 mb-1",children:[r.jsx("strong",{children:"Type:"})," ",Array.isArray(z.assessmentType)?z.assessmentType.map(le=>le==="assess"?"Assess":le==="recommend"?"Recommend":"Unified").join(", "):z.assessmentType==="assess"?"Assess":z.assessmentType==="recommend"?"Recommend":"Unified"]}),r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Assessment:"}),r.jsx("div",{className:"mt-1 p-2 rounded text-xs border border-gray-200",children:z.assessment})]})]},z.id))})]}),s==="competitors"&&r.jsx("div",{className:"p-3 border-b-2 border-gray-300",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-900 mb-1 font-semibold",children:"Select Competitor"}),r.jsxs("select",{className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",value:xe,onChange:z=>He(z.target.value),children:[r.jsx("option",{value:"",children:"Choose a competitor..."}),r.jsx("option",{value:"Puma",children:"Puma"}),r.jsx("option",{value:"Under Armour",children:"Under Armour"}),r.jsx("option",{value:"New Balance",children:"New Balance"}),r.jsx("option",{value:"Lululemon",children:"Lululemon"}),r.jsx("option",{value:"Reebok",children:"Reebok"})]})]}),m!=="War Games"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-900 mb-1 font-semibold",children:"Analysis Type"}),r.jsxs("select",{className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",value:ze,onChange:z=>Je(z.target.value),children:[r.jsx("option",{value:"",children:"Choose analysis type..."}),r.jsx("option",{value:"compare-assets",children:"Compare Assets"}),r.jsx("option",{value:"strengths-weaknesses",children:"Identify Strengths and Weaknesses"}),r.jsx("option",{value:"propose-improvements",children:"Propose Improvements"})]})]}),(xe||ze)&&r.jsx("div",{className:"p-2 border-2 border-blue-500 rounded",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[xe&&r.jsxs("span",{className:"block",children:[r.jsx("strong",{children:"Competitor:"})," ",xe]}),ze&&r.jsxs("span",{className:"block",children:[r.jsx("strong",{children:"Analysis:"})," ",ze==="compare-assets"?"Compare Assets":ze==="strengths-weaknesses"?"Identify Strengths and Weaknesses":"Propose Improvements"]})]})}),r.jsxs("button",{className:"w-full px-6 py-3 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-4",onClick:ve,disabled:!Ct,children:[r.jsx(yf,{className:"w-5 h-5"}),"Execute Process"]})]})}),y===1&&r.jsxs("div",{className:"p-3",children:[" ",(s==="Consumers"||s==="Luminaries"||s==="Colleagues"||s==="cultural"||s==="Grade")&&B?r.jsxs(r.Fragment,{children:[r.jsxs("h3",{className:"text-gray-900 leading-tight mb-3",children:["Step 1: Select ",s==="Consumers"?"Consumer":s==="Luminaries"?"External Expert":s==="Colleagues"?"Internal Colleague":s==="cultural"?"Cultural Voice":s==="Grade"?"Target Segment":""," ",s==="Grade"?"Segments":"Personas"," to use in this hex"]}),r.jsx("div",{className:"space-y-3 mb-3",children:r.jsx("div",{children:r.jsx("div",{className:"space-y-0",children:B.options.map(z=>r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-start gap-2 p-0.5 cursor-pointer hover:bg-gray-50 rounded transition-colors",children:[r.jsx("input",{type:"checkbox",value:z.id,checked:U.includes(z.id),onChange:()=>Qe(z.id),className:"w-4 h-4 mt-0.5"}),r.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[r.jsxs("div",{className:"text-gray-900 font-semibold",children:[z.category,z.description&&r.jsx("span",{className:"text-sm text-gray-600 font-normal ml-2",children:z.description})]}),U.includes(z.id)&&z.subcategories&&r.jsx("button",{onClick:I=>{I.preventDefault(),I.stopPropagation();const le=z.subcategories.map(De=>De.id);if(le.every(De=>ee.includes(De))){C(ee.filter(Pe=>!le.includes(Pe)));const De=[];z.subcategories.forEach(Pe=>{Pe.roles&&Pe.roles.forEach(it=>De.push(it.id))}),ne(J.filter(Pe=>!De.includes(Pe)))}else{const De=[...ee];le.forEach(it=>{De.includes(it)||De.push(it)}),C(De);const Pe=[...J];z.subcategories.forEach(it=>{it.roles&&it.roles.forEach(et=>{Pe.includes(et.id)||Pe.push(et.id)})}),ne(Pe)}},className:"text-xs text-blue-600 hover:text-blue-800 underline ml-2",children:z.subcategories.every(I=>ee.includes(I.id))?"Deselect All":"Select All"})]})]}),U.includes(z.id)&&z.subcategories&&r.jsx("div",{className:"ml-6 pl-4 border-l-2 border-blue-300 mt-0 space-y-0",children:z.subcategories.map(I=>r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-start gap-2 p-0.5 cursor-pointer hover:bg-gray-50 rounded transition-colors",children:[r.jsx("input",{type:"checkbox",value:I.id,checked:ee.includes(I.id),onChange:()=>Ie(I.id,z.id),className:"w-4 h-4 mt-0.5"}),r.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[r.jsxs("div",{className:"text-gray-900 font-semibold",children:[I.name,I.description&&r.jsx("span",{className:"text-sm text-gray-600 font-normal ml-2",children:I.description})]}),ee.includes(I.id)&&I.roles&&r.jsx("button",{onClick:le=>{le.preventDefault(),le.stopPropagation();const Be=I.roles.map(Pe=>Pe.id);if(Be.every(Pe=>J.includes(Pe)))ne(J.filter(Pe=>!Be.includes(Pe)));else{const Pe=[...J];Be.forEach(it=>{Pe.includes(it)||Pe.push(it)}),ne(Pe)}},className:"text-xs text-green-600 hover:text-green-800 underline ml-2",children:I.roles.every(le=>J.includes(le.id))?"Deselect All":"Select All"})]})]}),ee.includes(I.id)&&I.roles&&r.jsx("div",{className:"ml-6 pl-4 border-l-2 border-green-300 mt-0",children:r.jsx("div",{className:"space-y-0 max-h-64 overflow-y-auto",children:I.roles.map(le=>r.jsxs("label",{className:"flex items-center gap-2 p-0.5 cursor-pointer hover:bg-gray-50 rounded transition-all",children:[r.jsx("input",{type:"checkbox",checked:J.includes(le.id),onChange:()=>We(le.id,le.name),className:"w-4 h-4"}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"text-gray-900",children:le.name})})]},le.id))})})]},I.id))})]},z.id))})})}),J.length>0&&r.jsx("div",{className:"mt-2 p-2 border-2 border-green-500 rounded",children:r.jsxs("p",{className:"text-green-800",children:[r.jsx("strong",{children:J.length})," persona(s) selected"]})}),r.jsx("div",{className:"flex justify-end mt-3",children:r.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{w(J),x(2)},disabled:J.length===0,children:"Next: Choose Assessment Type "})})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-gray-900 leading-tight",children:"Step 1: Select Knowledge Base Files"}),r.jsxs("p",{className:"text-gray-600 mb-2",children:["Choose the knowledge files you want to include in this ",l," process."]}),ge.length===0?r.jsx("div",{className:"p-2 border-2 border-yellow-500",children:r.jsx("p",{className:"text-yellow-800",children:"No approved knowledge base files available for this hexagon. Please upload and approve files in the Knowledge Base step first."})}):r.jsx("div",{className:"space-y-1",children:ge.map(z=>r.jsxs("label",{className:"flex items-center gap-2 p-2 cursor-pointer transition-all",children:[r.jsx("input",{type:"checkbox",checked:v.includes(z.fileName),onChange:()=>Te(z.fileName),className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900",children:z.fileName}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Uploaded:"," ",new Date(z.uploadDate).toLocaleDateString()]})]}),v.includes(z.fileName)&&r.jsx(rt,{className:"w-5 h-5 text-blue-600"})]},z.id))}),v.length>0&&r.jsx("div",{className:"mt-2 p-2 border-2 border-green-500",children:r.jsxs("p",{className:"text-green-800",children:[r.jsx("strong",{children:v.length})," file(s) selected"]})}),r.jsx("div",{className:"flex justify-end mt-3",children:r.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>x(2),disabled:!$e,children:"Next: Choose Assessment Type/Scale "})})]})]}),y===2&&r.jsxs("div",{className:"p-3",children:[s==="Grade"?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-gray-900 leading-tight",children:"Step 2: What grading scale should be used?"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Select the grading scale for segment evaluation."}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"flex items-center gap-2 p-2 cursor-pointer transition-colors",children:[r.jsx("input",{type:"radio",name:"testingScale",value:"scale-1-5-written",checked:P==="scale-1-5-written",onChange:z=>S(z.target.value),className:"w-4 h-4"}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"text-gray-900 font-semibold",children:"Scale of 1-5 with written assessments"})})]}),r.jsxs("label",{className:"flex items-start gap-2 p-2 cursor-pointer transition-colors",children:[r.jsx("input",{type:"radio",name:"testingScale",value:"scale-1-5-no-written",checked:P==="scale-1-5-no-written",onChange:z=>S(z.target.value),className:"w-4 h-4"}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"text-gray-900 font-semibold",children:"Scale of 1-5 with no written assessments"})})]}),r.jsxs("label",{className:"flex items-start gap-2 p-2 cursor-pointer transition-colors",children:[r.jsx("input",{type:"radio",name:"testingScale",value:"scale-1-10-written",checked:P==="scale-1-10-written",onChange:z=>S(z.target.value),className:"w-4 h-4"}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"text-gray-900 font-semibold",children:"Scale of 1-10 written assessments"})})]}),r.jsxs("label",{className:"flex items-start gap-2 p-2 cursor-pointer transition-colors",children:[r.jsx("input",{type:"radio",name:"testingScale",value:"scale-1-10-no-written",checked:P==="scale-1-10-no-written",onChange:z=>S(z.target.value),className:"w-4 h-4"}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"text-gray-900 font-semibold",children:"Scale of 1-10 no written assessments"})})]}),r.jsxs("label",{className:"flex items-start gap-2 p-2 cursor-pointer transition-colors",children:[r.jsx("input",{type:"radio",name:"testingScale",value:"no-scale-written",checked:P==="no-scale-written",onChange:z=>S(z.target.value),className:"w-4 h-4"}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"text-gray-900 font-semibold",children:"No scale, just written assessments"})})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-gray-900 leading-tight",children:"Step 2: Choose Assessment Type"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Select how you want to process the selected files."}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"flex items-start gap-2 p-2 cursor-pointer transition-colors",children:[r.jsx("input",{type:"checkbox",checked:N.includes("assess"),onChange:()=>Me("assess"),className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900 font-semibold",children:"Assess"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Evaluate and analyze the current state based on the selected knowledge base files"})]})]}),r.jsxs("label",{className:"flex items-start gap-2 p-2 cursor-pointer transition-colors",children:[r.jsx("input",{type:"checkbox",checked:N.includes("recommend"),onChange:()=>Me("recommend"),className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900 font-semibold",children:"Recommend"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Generate recommendations and action items based on the knowledge base"})]})]}),r.jsxs("label",{className:"flex items-start gap-2 p-2 cursor-pointer transition-colors",children:[r.jsx("input",{type:"checkbox",checked:N.includes("unified"),onChange:()=>Me("unified"),className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900 font-semibold",children:"Unified Response (Combine all experts responses into a single response)"}),r.jsx("div",{className:"text-sm text-gray-600",children:"This button combines the assessments and recommendations of all personas to a single unified response"})]})]})]})]}),r.jsxs("div",{className:"flex justify-between mt-6",children:[r.jsx("button",{className:"px-6 py-2 border-2 border-gray-400 text-gray-700 rounded hover:bg-gray-50",onClick:()=>x(1),children:" Back"}),r.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>x(3),children:"Next: Provide Assessment "})]})]}),y===3&&s!=="competitors"&&r.jsxs("div",{className:"p-3",children:[r.jsx("h3",{className:"text-gray-900 leading-tight",children:"Step 3: Provide Your Assessment"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Enter your assessment or instructions for how to process these files."}),r.jsxs("div",{className:"mb-2",children:[r.jsx("label",{className:"block text-gray-900 mb-1",children:"Assessment / Instructions"}),r.jsx("textarea",{className:"w-full h-40 border-2 border-gray-300 bg-white rounded p-3 text-gray-700 resize-none focus:outline-none focus:border-blue-500",placeholder:`Enter your ${N.includes("assess")?"assessment criteria":N.includes("recommend")?"recommendation requirements":"assessment and recommendation instructions"}...`,value:T,onChange:z=>W(z.target.value)}),r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[T.length," characters"]})]}),s!=="competitors"&&r.jsxs("div",{className:"p-2 mb-2 border-2 border-blue-500",children:[r.jsx("h4",{className:"text-gray-900 font-semibold mb-2",children:"Execution Summary"}),r.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Files:"})," ",v.length," ","selected"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",N.map(z=>z==="assess"?"Assess":z==="recommend"?"Recommend":"Unified").join(", ")]}),d&&r.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-400",children:[r.jsx("strong",{children:"Databricks Instructions:"}),r.jsx("div",{className:"mt-1 text-xs italic",children:d})]})]})]}),r.jsxs("div",{className:"flex justify-between mt-3",children:[s!=="competitors"&&r.jsx("button",{className:"px-6 py-2 border-2 border-gray-400 text-gray-700 rounded hover:bg-gray-50",onClick:()=>x(2),children:" Back"}),r.jsxs("button",{className:`px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 ${s==="competitors"?"w-full justify-center":""}`,onClick:ve,disabled:!Ct,children:[r.jsx(yf,{className:"w-5 h-5"}),"Execute Process"]})]})]}),r.jsxs("div",{className:"p-3 border-t-2 border-gray-300 mt-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("button",{className:"flex items-center gap-2 text-yellow-600 hover:text-yellow-700 cursor-pointer mb-2",onClick:()=>Z(!je),children:[r.jsx("img",{src:Sm,alt:"Sparkles",className:"w-7 h-7"}),r.jsx("span",{className:"text-gray-900",children:"Highlight an element that you like"})]}),je&&r.jsxs("div",{className:"space-y-2 ml-7",children:[r.jsx("textarea",{className:"w-full h-24 border-2 border-gray-300 bg-white rounded p-2 text-gray-700 resize-none focus:outline-none focus:border-gray-400",placeholder:"Enter the element you would like to highlight as a gem.",value:de,onChange:z=>Ve(z.target.value)}),r.jsx("button",{className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!de.trim(),onClick:()=>{if(de.trim()){const z=JSON.parse(localStorage.getItem("cohive_gems")||"[]"),I={id:Date.now().toString(),text:de,hexId:s,hexLabel:l,timestamp:Date.now()},le=[...z,I];localStorage.setItem("cohive_gems",JSON.stringify(le)),alert("Gem saved successfully!"),Ve(""),Z(!1)}},children:"Save Gem"})]})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[r.jsx("input",{type:"checkbox",checked:se,onChange:z=>ae(z.target.checked),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-900",children:"Send Recommendations to Knowledge Base"})]}),se&&r.jsxs("div",{className:"space-y-2 ml-7",children:[r.jsx("textarea",{className:"w-full h-24 border-2 border-gray-300 bg-white rounded p-2 text-gray-700 resize-none focus:outline-none focus:border-blue-500",placeholder:"Enter your recommendations for the knowledge base...",value:Ce,onChange:z=>O(z.target.value)}),r.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!Ce.trim(),onClick:()=>{Ce.trim()&&(g&&g(Ce,s),alert("Recommendation saved to Knowledge base!"),O(""),ae(!1))},children:"Save to Knowledge base"})]})]})]})}function xb({projectFiles:s,onDeleteFiles:l}){const[a,c]=p.useState([]),[d,f]=p.useState(!0),[g,m]=p.useState(new Set),[y,x]=p.useState("date"),[v,w]=p.useState(!1),[N,A]=p.useState(!1),[P,S]=p.useState(!1),[T,W]=p.useState(""),[G,ue]=p.useState(""),[se,ae]=p.useState(""),[Ce,O]=p.useState(""),[je,Z]=p.useState({start:"",end:""}),[de,Ve]=p.useState([]),[xe,He]=p.useState([]),[ze,Je]=p.useState([]),[J,ne]=p.useState([]),[U,ie]=p.useState(""),[ee,C]=p.useState(!1),[B,ge]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const le=await ys();le?(ie(le.workspaceHost),C(!0)):C(!1)}catch(le){console.error("Error checking authentication:",le),C(!1)}finally{ge(!0),f(!1)}})()},[]);const Te=async()=>{f(!0);try{const I={};N||(I.uploadedBy=U),T&&(I.brand=T),G&&(I.projectType=G),se&&(I.fileType=se),Ce&&N&&(I.uploadedBy=Ce),je.start&&(I.startDate=je.start),je.end&&(I.endDate=je.end),y==="date"?(I.sortBy="upload_date",I.sortOrder="DESC"):(I.sortBy="file_name",I.sortOrder="ASC");const le=await ib(I);c(le);const Be=[...new Set(le.map(et=>et.brand).filter(Boolean))],De=[...new Set(le.map(et=>et.projectType).filter(Boolean))],Pe=[...new Set(le.map(et=>et.fileType).filter(Boolean))],it=[...new Set(le.map(et=>et.uploadedBy).filter(Boolean))];Ve(Be),He(De),Je(Pe),ne(it)}catch(I){console.error("Error fetching files:",I),alert("Failed to load files from Databricks. Please try again.")}finally{f(!1)}};p.useEffect(()=>{B&&ee&&Te()},[N,y,U,B,ee]);const Me=()=>{Te()},We=()=>{W(""),ue(""),ae(""),O(""),Z({start:"",end:""}),Te()},Ie=(()=>{const I=[...a];switch(y){case"date":return I.sort((le,Be)=>new Date(Be.uploadDate).getTime()-new Date(le.uploadDate).getTime());case"brand":return I.sort((le,Be)=>(le.brand||"").localeCompare(Be.brand||""));case"projectType":return I.sort((le,Be)=>(le.projectType||"").localeCompare(Be.projectType||""));case"fileType":return I.sort((le,Be)=>le.fileType.localeCompare(Be.fileType));default:return I}})(),ve=I=>{const le=new Set(g);le.has(I)?le.delete(I):le.add(I),m(le)},$e=()=>{g.size===Ie.length?m(new Set):m(new Set(Ie.map(I=>I.fileId)))},Ze=async()=>{const I=Ie.filter(De=>g.has(De.fileId));if(I.length===0){alert("No files selected for download");return}let le=0,Be=0;for(const De of I)try{const Pe=await db(De.fileId,De.fileName);Pe.success?le++:(Be++,console.error(`Failed to download ${De.fileName}:`,Pe.error))}catch(Pe){Be++,console.error("Error downloading file:",Pe)}Be>0?alert(`Downloaded ${le} file(s). ${Be} file(s) failed to download.`):alert(` Successfully downloaded ${le} file(s) to your computer!`)},Ct=async()=>{if(g.size===0||!confirm(`Are you sure you want to delete ${g.size} file(s)? This cannot be undone.`))return;const I=Ie.filter(De=>g.has(De.fileId));let le=0,Be=0;for(const De of I)try{const Pe=await wm(De.fileId,U,"marketing-manager");Pe.success?le++:(Be++,console.error("Failed to delete:",De.fileName,Pe.error))}catch(Pe){Be++,console.error("Error deleting file:",Pe)}le>0&&(alert(`Successfully deleted ${le} file(s)`),m(new Set),Te()),Be>0&&alert(`Failed to delete ${Be} file(s). Check console for details.`)},z=()=>{switch(y){case"date":return"Date";case"brand":return"Brand";case"projectType":return"Project Type";case"fileType":return"File Type";default:return"Sort"}};return r.jsxs("div",{className:"space-y-4",children:[B&&!ee&&r.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-400 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(An,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-gray-900 font-medium mb-1",children:"Databricks Authentication Required"}),r.jsx("p",{className:"text-gray-700 text-sm mb-2",children:"You need to sign in to Databricks to view and manage your files. This feature requires authentication to access your organization's Knowledge Base."}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Please complete the Databricks OAuth flow to continue."})]})]})}),B&&ee&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-gray-900 text-xl",children:[N?"All Files":"My Files"," (",Ie.length,")"]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-gray-700",children:[r.jsx("input",{type:"checkbox",checked:N,onChange:I=>{A(I.target.checked),I.target.checked||O("")},className:"w-4 h-4"}),"Show All Users' Files"]})})]}),r.jsxs("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ey,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-gray-900",children:"Filters"})]}),r.jsxs("button",{onClick:()=>S(!P),className:"text-blue-600 hover:text-blue-700 text-sm",children:[P?"Hide":"Show"," Filters"]})]}),P&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Brand"}),r.jsxs("select",{value:T,onChange:I=>W(I.target.value),className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-sm text-gray-700 focus:outline-none focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Brands"}),de.map(I=>r.jsx("option",{value:I,children:I},I))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Project Type"}),r.jsxs("select",{value:G,onChange:I=>ue(I.target.value),className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-sm text-gray-700 focus:outline-none focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Types"}),xe.map(I=>r.jsx("option",{value:I,children:I},I))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"File Type"}),r.jsxs("select",{value:se,onChange:I=>ae(I.target.value),className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-sm text-gray-700 focus:outline-none focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All File Types"}),ze.map(I=>r.jsx("option",{value:I,children:I},I))]})]}),N&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"User"}),r.jsxs("select",{value:Ce,onChange:I=>O(I.target.value),className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-sm text-gray-700 focus:outline-none focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Users"}),J.map(I=>r.jsx("option",{value:I,children:I},I))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Start Date"}),r.jsx("input",{type:"date",value:je.start,onChange:I=>Z(le=>({...le,start:I.target.value})),className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-sm text-gray-700 focus:outline-none focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"End Date"}),r.jsx("input",{type:"date",value:je.end,onChange:I=>Z(le=>({...le,end:I.target.value})),className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-sm text-gray-700 focus:outline-none focus:border-blue-500"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:Me,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Apply Filters"}),r.jsxs("button",{onClick:We,className:"px-4 py-2 bg-gray-200 text-gray-900 rounded hover:bg-gray-300 text-sm flex items-center gap-2",children:[r.jsx(Wo,{className:"w-4 h-4"}),"Clear All"]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:Te,disabled:d,className:"px-3 py-1.5 bg-gray-200 text-gray-900 rounded hover:bg-gray-300 flex items-center gap-2 text-sm disabled:opacity-50",title:"Refresh files",children:[r.jsx(Ro,{className:`w-4 h-4 ${d?"animate-spin":""}`}),"Refresh"]}),g.size>0&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:Ze,className:"px-3 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2 text-sm",title:"Download selected files",children:[r.jsx(oc,{className:"w-4 h-4"}),"Download (",g.size,")"]}),r.jsxs("button",{onClick:Ct,className:"px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 flex items-center gap-2 text-sm",title:"Delete selected files",children:[r.jsx(Xi,{className:"w-4 h-4"}),"Delete (",g.size,")"]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>w(!v),className:"px-3 py-1.5 bg-gray-200 text-gray-900 rounded hover:bg-gray-300 flex items-center gap-2 text-sm",children:["Sort by: ",z(),r.jsx(ky,{className:"w-4 h-4"})]}),v&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>w(!1)}),r.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border-2 border-gray-300 rounded-lg shadow-lg z-50 min-w-[180px]",children:[r.jsx("button",{onClick:()=>{x("date"),w(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-100 ${y==="date"?"bg-blue-50 text-blue-900":"text-gray-900"}`,children:"Date"}),r.jsx("button",{onClick:()=>{x("brand"),w(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-100 ${y==="brand"?"bg-blue-50 text-blue-900":"text-gray-900"}`,children:"Brand"}),r.jsx("button",{onClick:()=>{x("projectType"),w(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-100 ${y==="projectType"?"bg-blue-50 text-blue-900":"text-gray-900"}`,children:"Project Type"}),r.jsx("button",{onClick:()=>{x("fileType"),w(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-100 ${y==="fileType"?"bg-blue-50 text-blue-900":"text-gray-900"}`,children:"File Type"})]})]})]})]}),d?r.jsxs("div",{className:"p-8 bg-gray-50 rounded-lg text-center text-gray-600",children:[r.jsx(Ro,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading files..."]}):Ie.length===0?r.jsxs("div",{className:"p-8 bg-gray-50 rounded-lg text-center text-gray-600",children:["No files found. ",!N&&"Try enabling 'Show All Users' Files' or adjusting your filters."]}):r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"bg-gray-100 border-b-2 border-gray-300 px-4 py-2 flex items-center gap-4 text-sm text-gray-900",children:[r.jsx("div",{className:"w-8 flex items-center justify-center",children:r.jsx("input",{type:"checkbox",checked:g.size===Ie.length&&Ie.length>0,onChange:$e,className:"w-4 h-4 cursor-pointer",title:"Select all"})}),r.jsx("div",{className:"flex-1 min-w-0",children:"File Name"}),r.jsx("div",{className:"w-28",children:"Brand"}),r.jsx("div",{className:"w-32",children:"Project Type"}),r.jsx("div",{className:"w-24",children:"File Type"}),N&&r.jsx("div",{className:"w-32",children:"User"}),r.jsx("div",{className:"w-28",children:"Upload Date"})]}),r.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:Ie.map(I=>{const le=I.uploadedBy===U;return r.jsxs("div",{className:`px-4 py-2 flex items-center gap-4 text-sm hover:bg-gray-50 ${g.has(I.fileId)?"bg-blue-50":""}`,children:[r.jsx("div",{className:"w-8 flex items-center justify-center",children:r.jsx("input",{type:"checkbox",checked:g.has(I.fileId),onChange:()=>ve(I.fileId),className:"w-4 h-4 cursor-pointer"})}),r.jsxs("div",{className:"flex-1 min-w-0 text-gray-900 truncate",title:I.fileName,children:[I.fileName,I.iterationType&&r.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",I.iterationType,")"]})]}),r.jsx("div",{className:"w-28 text-gray-700 truncate",title:I.brand||"N/A",children:I.brand||"N/A"}),r.jsx("div",{className:"w-32 text-gray-700 truncate",title:I.projectType||"N/A",children:I.projectType||"N/A"}),r.jsx("div",{className:"w-24 text-gray-700 truncate",title:I.fileType,children:I.fileType}),N&&r.jsx("div",{className:"w-32 text-gray-700 truncate",title:I.uploadedBy,children:le?r.jsx("span",{className:"text-blue-600",children:"You"}):I.uploadedBy}),r.jsx("div",{className:"w-28 text-gray-600",children:new Date(I.uploadDate).toLocaleDateString()})]},I.fileId)})})]}),g.size>0&&r.jsxs("div",{className:"text-sm text-gray-600",children:[g.size," file",g.size!==1?"s":""," selected"]})]})]})}function vb({open:s,onClose:l,fileName:a,fileContent:c,onSaveSuccess:d}){const[f,g]=p.useState(cn.workspace),[m,y]=p.useState([]),[x,v]=p.useState(!1),[w,N]=p.useState(null),[A,P]=p.useState(null),[S,T]=p.useState(!1),[W,G]=p.useState(!1),[ue,se]=p.useState(null),[ae,Ce]=p.useState(a),[O,je]=p.useState(!1),[Z,de]=p.useState(!1);p.useEffect(()=>{if(s){const ne=Nc();se(ne),Ce(a),de(!1),_o()?Ve():(G(!0),P(!1),N("Please sign in to your Databricks workspace to continue."))}},[s,a]),p.useEffect(()=>{s&&A&&xe()},[f,s,A]);const Ve=async()=>{try{const ne=await xm();P(ne),ne||N("Unable to connect to Databricks API. Please check your connection.")}catch(ne){console.error("Health check error:",ne),P(!1),N("Unable to connect to Databricks. Please check your authentication.")}},xe=async()=>{v(!0),N(null);try{const U=(await ym(f)).files.filter(ie=>ie.name.endsWith("/")||!ie.name.includes("."));y(U)}catch(ne){N(ne instanceof Error?ne.message:"Failed to load directories")}finally{v(!1)}},He=ne=>{g(ne),N(null)},ze=async()=>{if(!ae.trim()){N("Please enter a filename");return}T(!0),N(null);try{const ne=`${f}/${ae}`,U=await Jv(ne,c,O);U.success&&(de(!0),d?.(U.path),setTimeout(()=>{l()},1500))}catch(ne){N(ne instanceof Error?ne.message:"Failed to save file")}finally{T(!1)}},Je=()=>f.split("/").filter(Boolean),J=()=>{const ne=Je();ne.length>1&&(ne.pop(),g("/"+ne.join("/")))};return r.jsxs(r.Fragment,{children:[r.jsx(fc,{open:s&&!W,onOpenChange:l,children:r.jsxs(pc,{className:"max-w-4xl max-h-[80vh] flex flex-col",style:{backgroundColor:te.background.primary},children:[r.jsxs(mc,{children:[r.jsxs(hc,{className:"flex items-center gap-3",style:{color:te.text.primary},children:[r.jsx(is,{className:"h-6 w-6",style:{color:te.hex.purple.light}}),"Save to Databricks"]}),r.jsx(gc,{style:{color:te.text.secondary},children:ue&&r.jsxs("span",{className:"text-xs",children:["Connected to: ",ue]})})]}),Z&&r.jsxs("div",{className:"p-4 rounded-lg flex items-center gap-3",style:{backgroundColor:te.hex.Findings+"20",borderColor:te.hex.Findings,borderWidth:"1px"},children:[r.jsx(rt,{className:"h-5 w-5",style:{color:te.hex.Findings}}),r.jsx("span",{style:{color:te.hex.Findings},children:"File saved successfully!"})]}),w&&!Z&&r.jsxs("div",{className:"p-4 rounded-lg flex items-center gap-3 bg-red-50 border border-red-200",children:[r.jsx(An,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"text-red-800",children:w})]}),r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg",style:{backgroundColor:te.background.secondary},children:[r.jsx(dr,{className:"h-4 w-4",style:{color:te.text.tertiary}}),r.jsx("div",{className:"flex items-center gap-1 flex-wrap text-sm",children:Je().map((ne,U,ie)=>r.jsxs($f.Fragment,{children:[r.jsx("button",{onClick:()=>{const ee="/"+ie.slice(0,U+1).join("/");He(ee)},className:"hover:underline",style:{color:te.text.secondary},children:ne}),U<ie.length-1&&r.jsx(Qi,{className:"h-3 w-3",style:{color:te.text.tertiary}})]},U))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(kt,{size:"sm",variant:"outline",onClick:()=>He(cn.workspace),disabled:x,children:[r.jsx(Ji,{className:"h-3 w-3 mr-1"}),"Workspace"]}),r.jsxs(kt,{size:"sm",variant:"outline",onClick:()=>He(cn.volumes),disabled:x,children:[r.jsx(Yi,{className:"h-3 w-3 mr-1"}),"Volumes"]}),r.jsxs(kt,{size:"sm",variant:"outline",onClick:()=>He(cn.dbfs),disabled:x,children:[r.jsx(dr,{className:"h-3 w-3 mr-1"}),"DBFS"]}),r.jsx(kt,{size:"sm",variant:"outline",onClick:J,disabled:x||Je().length<=1,children:" Up"}),r.jsx(kt,{size:"sm",variant:"outline",onClick:xe,disabled:x,children:r.jsx(Ro,{className:`h-3 w-3 ${x?"animate-spin":""}`})})]}),r.jsx(cm,{className:"flex-1 border rounded-lg",style:{borderColor:te.border.light},children:r.jsx("div",{className:"p-4",children:x?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(la,{className:"h-6 w-6 animate-spin",style:{color:te.hex.purple.light}}),r.jsx("span",{className:"ml-2",style:{color:te.text.secondary},children:"Loading directories..."})]}):m.length===0?r.jsxs("div",{className:"text-center py-8",style:{color:te.text.tertiary},children:[r.jsx(Ao,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No subdirectories found"})]}):r.jsx("div",{className:"space-y-1",children:m.map(ne=>r.jsxs("button",{onClick:()=>He(ne.path),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-opacity-50 transition-colors text-left",style:{backgroundColor:"transparent",":hover":{backgroundColor:te.background.secondary}},onMouseEnter:U=>U.currentTarget.style.backgroundColor=te.background.secondary,onMouseLeave:U=>U.currentTarget.style.backgroundColor="transparent",children:[r.jsx(Ao,{className:"h-5 w-5 flex-shrink-0",style:{color:te.hex.purple.light}}),r.jsx("span",{style:{color:te.text.primary},children:ne.name})]},ne.path))})})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",style:{color:te.text.primary},children:"Filename"}),r.jsx(xc,{value:ae,onChange:ne=>Ce(ne.target.value),placeholder:"Enter filename...",disabled:S})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"overwrite",checked:O,onChange:ne=>je(ne.target.checked),disabled:S,className:"w-4 h-4"}),r.jsx("label",{htmlFor:"overwrite",className:"text-sm",style:{color:te.text.secondary},children:"Overwrite if file exists"})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",style:{borderColor:te.border.light},children:[r.jsxs("div",{className:"text-xs",style:{color:te.text.tertiary},children:["Save location: ",f,"/",ae]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(kt,{variant:"outline",onClick:l,disabled:S,children:"Cancel"}),r.jsx(kt,{onClick:ze,disabled:S||!ae.trim()||!A,className:"gap-2",style:{backgroundColor:te.hex.purple.light},children:S?r.jsxs(r.Fragment,{children:[r.jsx(la,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(is,{className:"h-4 w-4"}),"Save to Databricks"]})})]})]})]})}),r.jsx(Sc,{open:W,onClose:()=>{G(!1),Ve()}})]})}const bb="/assets/88105c0c8621f3d41d65e5be3ae75558f9de1753-yhmYqolL.png",Eo=[{id:"Enter",title:"Begin Project - Initialize your AI project",description:"Define the brand, the project type and the knowledge files to use",questions:["Brand","Project Type"]},{id:"research",title:"Manage Knowledge Assets",description:"Define the knowledge files your project will be based on",questions:["Which research studies to synthesize?","Which personas to have available?","Edit and Approve sytheses and personas."]},{id:"Luminaries",title:"Luminary Personas",description:"Gather insights and recommendations from industry experts",questions:["Which external experts should be consulted?","What are their assessments?","What are their recommendations?","Can they produce a single unified review?"]},{id:"panelist",title:"Panelist Personas",description:"Leverage data from consumer panel households",questions:["How would various panel members respond?","What would various panel members recommend?","What additional research would be helpful to collect from these panel households?"]},{id:"Consumers",title:"Consumer Personas",description:"Understand consumer preferences",questions:["What are the key consumer personas?","Does what is shared resonate with these key buyers?","What message are they looking for?"]},{id:"competitors",title:"Competitive Analysis",description:"Analyze competitor strategies and market position",questions:["Who are your main competitors?","What are their key differentiators?","What market share do they hold?","What are their strengths and weaknesses?"]},{id:"Colleagues",title:"Colleague Personas",description:"Leverage knowledge from internal stakeholders",questions:["Which departments should be consulted?","What internal data sources are available?","What institutional knowledge exists?","How will internal insights be validated?"]},{id:"cultural",title:"Cultural Personas",description:"Understand cultural trends and influences",questions:["What cultural trends are relevant?","How do cultural factors influence behavior?","What cultural segments should be analyzed?","What cultural barriers might exist?"]},{id:"social",title:"Social Listening",description:"Social Listening monitored by agents will be added in the future.",questions:[]},{id:"Wisdom",title:"Wisdom",description:"Add your insights about brands, markets, flavors, consumers and any other insights that would help build a better foundation for results. This will also be deployed as a mobile app soon.",questions:["Insight Type","Input Method","Share Your Wisdom"]},{id:"Grade",title:"Segment Testing",description:"Score hypotheses against target segments",questions:["What segments have been identified?","What hypotheses need grading?","What grading methodology will be used?","What success metrics are defined?"]},{id:"Findings",title:"Findings",description:"Save iteration or create comprehensive findings report",questions:["Save Iteration or Summarize","Which files should we include in our findings?","Output Options","Save or Download"]},{id:"review",title:"Review",description:"Review all my saved files and execution results",questions:["Review all saved files","Validate results accuracy","Make final adjustments if needed"]}];function wb(){const[s,l]=p.useState("Enter"),[a,c]=p.useState({}),[d,f]=p.useState(new Set),[g,m]=p.useState(!1),[y,x]=p.useState([]),[v,w]=p.useState(""),[N,A]=p.useState([]),[P,S]=p.useState([]),[T,W]=p.useState([]),[G,ue]=p.useState([]),[se,ae]=p.useState({}),[Ce,O]=p.useState(!1),[je,Z]=p.useState([]),[de,Ve]=p.useState(!1),[xe,He]=p.useState("marketing-manager"),[ze,Je]=p.useState(null),[J,ne]=p.useState([]),[U,ie]=p.useState([]),[ee,C]=p.useState(!1),[B,ge]=p.useState(!1),[Te,Me]=p.useState(!0),[We,Qe]=p.useState(!1),[Ie,ve]=p.useState(!1),[$e,Ze]=p.useState(null),[Ct,z]=p.useState(!1),[I,le]=p.useState(null),[Be,De]=p.useState([]),[Pe,it]=p.useState(null),[et,jt]=p.useState(null),Ft=typeof window<"u"&&typeof navigator<"u"&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,Lr=(F,j,Y,ye)=>{const M=V=>new Date(V).toISOString().split("T")[0],Q=V=>V.replace(/[^a-zA-Z0-9]/g,""),oe=Q(F)||"Brand",be=Q(j)||"ProjectType",Se=M(Date.now());return`${oe}_${be}_${Se}`},jr=(F,j)=>{const Y=F;return Y.name=j,Y.lastModified=Date.now(),Y};p.useEffect(()=>{const F=localStorage.getItem("cohive_responses");if(F)try{c(JSON.parse(F))}catch(fe){console.error("Failed to load saved responses",fe)}const j=localStorage.getItem("cohive_iteration_saved");j&&C(j==="true");const Y=localStorage.getItem("cohive_templates");if(Y)try{const fe=JSON.parse(Y);x(fe)}catch(fe){console.error("Failed to load saved templates",fe),x(Co),localStorage.setItem("cohive_templates",JSON.stringify(Co))}else x(Co),localStorage.setItem("cohive_templates",JSON.stringify(Co));const ye=localStorage.getItem("cohive_current_template_id");if(ye)try{w(ye)}catch(fe){console.error("Failed to load current template",fe),w("admin"),localStorage.setItem("cohive_current_template_id","admin")}else w("admin"),localStorage.setItem("cohive_current_template_id","admin");const M=localStorage.getItem("cohive_projects");if(M)try{A(JSON.parse(M))}catch(fe){console.error("Failed to load saved projects",fe)}const Q=localStorage.getItem("cohive_ideas_files");if(Q)try{S(JSON.parse(Q))}catch(fe){console.error("Failed to load saved ideas files",fe)}const oe=localStorage.getItem("cohive_research_files");if(oe)try{W(JSON.parse(oe))}catch(fe){console.error("Failed to load saved research files",fe)}else{const fe=[{id:"1",brand:"Nike",projectType:"Creative Messaging",fileName:"Nike_Q4_2024_Consumer_Insights.pdf",isApproved:!0,uploadDate:Date.now()-864e6,fileType:"Consumer Insights"},{id:"2",brand:"Nike",projectType:"Creative Messaging",fileName:"Nike_Competitor_Analysis_2024.xlsx",isApproved:!0,uploadDate:Date.now()-1296e6,fileType:"Competitive Analysis"},{id:"3",brand:"Nike",projectType:"Creative Messaging",fileName:"Nike_Social_Listening_Report_Nov.pdf",isApproved:!1,uploadDate:Date.now()-432e6,fileType:"Social Media"},{id:"4",brand:"Adidas",projectType:"Creative Messaging",fileName:"Adidas_Brand_Perception_Study.pdf",isApproved:!0,uploadDate:Date.now()-1728e6,fileType:"Brand Research"},{id:"5",brand:"Nike",projectType:"Product Launch",fileName:"Nike_Product_Testing_Results.pdf",isApproved:!0,uploadDate:Date.now()-6048e5,fileType:"Product Testing"},{id:"wg1",brand:"Nike",projectType:"War Games",fileName:"Nike_Competitive_Scenario_Analysis_2024.pdf",isApproved:!0,uploadDate:Date.now()-10368e5,fileType:"Competitive Analysis"},{id:"wg2",brand:"Nike",projectType:"War Games",fileName:"Nike_Market_Response_Strategies.xlsx",isApproved:!0,uploadDate:Date.now()-6912e5,fileType:"Strategic Planning"},{id:"wg3",brand:"Adidas",projectType:"War Games",fileName:"Adidas_Competitor_Move_Projections.pdf",isApproved:!0,uploadDate:Date.now()-1296e6,fileType:"Competitive Intelligence"},{id:"wg4",brand:"Adidas",projectType:"War Games",fileName:"Adidas_Strategic_Response_Framework.pdf",isApproved:!0,uploadDate:Date.now()-864e6,fileType:"Strategic Planning"},{id:"pkg1",brand:"Nike",projectType:"Packaging",fileName:"Nike_Sustainability_Packaging_Guidelines.pdf",isApproved:!0,uploadDate:Date.now()-7776e5,fileType:"Design Guidelines"},{id:"pkg2",brand:"Nike",projectType:"Packaging",fileName:"Nike_Consumer_Unboxing_Experience_Study.pdf",isApproved:!0,uploadDate:Date.now()-5184e5,fileType:"Consumer Research"},{id:"pkg3",brand:"Adidas",projectType:"Packaging",fileName:"Adidas_Eco_Packaging_Materials_Research.pdf",isApproved:!0,uploadDate:Date.now()-9504e5,fileType:"Materials Research"},{id:"pkg4",brand:"Adidas",projectType:"Packaging",fileName:"Adidas_Packaging_Design_Benchmarks.xlsx",isApproved:!0,uploadDate:Date.now()-11232e5,fileType:"Competitive Analysis"},{id:"6",brand:"Nike",projectType:"Luminaries",fileName:"Industry_Expert_Panel_Roster.pdf",isApproved:!0,uploadDate:Date.now()-10368e5,fileType:"Luminaries"},{id:"7",brand:"Nike",projectType:"Luminaries",fileName:"Expert_Feedback_Summary_Q3.pdf",isApproved:!0,uploadDate:Date.now()-6912e5,fileType:"Luminaries"},{id:"8",brand:"Nike",projectType:"panelist",fileName:"Consumer_Panel_Demographics.xlsx",isApproved:!0,uploadDate:Date.now()-12096e5,fileType:"panelist"},{id:"9",brand:"Nike",projectType:"Consumers",fileName:"Consumers_Persona_Profiles_2024.pdf",isApproved:!0,uploadDate:Date.now()-9504e5,fileType:"Consumers"},{id:"10",brand:"Nike",projectType:"competitors",fileName:"Competitive_Landscape_Analysis.pdf",isApproved:!0,uploadDate:Date.now()-7776e5,fileType:"competitors"},{id:"11",brand:"Nike",projectType:"Colleagues",fileName:"Colleagues_Stakeholder_Interviews.pdf",isApproved:!0,uploadDate:Date.now()-11232e5,fileType:"Colleagues"},{id:"12",brand:"Nike",projectType:"social",fileName:"Social_Media_Sentiment_Analysis.pdf",isApproved:!0,uploadDate:Date.now()-5184e5,fileType:"social"},{id:"13",brand:"Nike",projectType:"Grade",fileName:"Segment_Test_Methodology.pdf",isApproved:!0,uploadDate:Date.now()-3456e5,fileType:"Grade"}];W(fe),localStorage.setItem("cohive_research_files",JSON.stringify(fe))}const be=localStorage.getItem("cohive_edit_suggestions");if(be)try{ue(JSON.parse(be))}catch(fe){console.error("Failed to load saved edit suggestions",fe)}const Se=localStorage.getItem("cohive_hex_executions");if(Se)try{ae(JSON.parse(Se))}catch(fe){console.error("Failed to load saved hex executions",fe)}const $=localStorage.getItem("cohive_available_brands"),V=localStorage.getItem("cohive_available_project_types"),ce=localStorage.getItem("cohive_project_types_version"),me="3";if($)try{ne(JSON.parse($))}catch(fe){console.error("Failed to load saved brands",fe),ne(["Nike","Adidas"]),localStorage.setItem("cohive_available_brands",JSON.stringify(["Nike","Adidas"]))}else ne(["Nike","Adidas"]),localStorage.setItem("cohive_available_brands",JSON.stringify(["Nike","Adidas"]));if(ce!==me)ie(["Creative Messaging","Packaging","Product Launch","War Games"]),localStorage.setItem("cohive_available_project_types",JSON.stringify(["Creative Messaging","Packaging","Product Launch","War Games"])),localStorage.setItem("cohive_project_types_version",me);else if(V)try{ie(JSON.parse(V))}catch(fe){console.error("Failed to load saved project types",fe),ie(["Creative Messaging","Packaging","Product Launch","War Games"]),localStorage.setItem("cohive_available_project_types",JSON.stringify(["Creative Messaging","Packaging","Product Launch","War Games"])),localStorage.setItem("cohive_project_types_version",me)}else ie(["Creative Messaging","Packaging","Product Launch","War Games"]),localStorage.setItem("cohive_available_project_types",JSON.stringify(["Creative Messaging","Packaging","Product Launch","War Games"])),localStorage.setItem("cohive_project_types_version",me)},[]),p.useEffect(()=>{if(Object.keys(a).length>0){localStorage.setItem("cohive_responses",JSON.stringify(a)),m(!0);const F=setTimeout(()=>m(!1),2e3);return()=>clearTimeout(F)}},[a]),p.useEffect(()=>{if(v&&y.length>0){const F=y.find(j=>j.id===v);Je(F||null),F&&He(F.role)}},[v,y]),p.useEffect(()=>{(async()=>{Me(!0);try{const j=new URLSearchParams(window.location.search),Y=j.get("code"),ye=j.get("state");if(Y&&ye){console.log("Detected OAuth callback, processing...");const{handleOAuthCallback:M}=await by(async()=>{const{handleOAuthCallback:Q}=await Promise.resolve().then(()=>zv);return{handleOAuthCallback:Q}},void 0);try{await M(),console.log("OAuth callback handled successfully");const Q=sessionStorage.getItem("oauth_return_step");Q&&(l(Q),sessionStorage.removeItem("oauth_return_step"));const oe=window.location.pathname;window.history.replaceState({},document.title,oe),ge(!0)}catch(Q){console.error("OAuth callback failed:",Q),ge(!1)}}else{const M=ia();ge(M)}}catch(j){console.error("Error checking authentication:",j),ge(!1)}finally{Me(!1)}})()},[]);const Nr=(F,j)=>!F||!j?[]:N.filter(Y=>Y.brand.toLowerCase()===F.toLowerCase()&&Y.projectType.toLowerCase()===j.toLowerCase()),Ir=(F,j)=>!F||!j?null:P.find(ye=>ye.brand.toLowerCase()===F.toLowerCase()&&ye.projectType.toLowerCase()===j.toLowerCase())||null,_=(F,j,Y)=>{const ye=N.filter(Q=>Q.brand.toLowerCase()===j.toLowerCase()&&Q.projectType.toLowerCase()===Y.toLowerCase()),M=F.match(/^(.+?)_[vV](\d+)$/);if(M){const Q=M[1];let be=parseInt(M[2],10);return ye.forEach($=>{const V=$.fileName.match(/^(.+?)_[vV](\d+)$/);if(V&&V[1]===Q){const ce=parseInt(V[2],10);ce>be&&(be=ce)}}),ye.some($=>$.fileName===F)?`${Q}_v${be+1}`:F}else{const Q=`${F}_v1`;if(ye.some(oe=>oe.fileName===Q)){let oe=1;return ye.forEach(be=>{const Se=be.fileName.match(/^(.+?)_[vV](\d+)$/);if(Se&&Se[1]===F){const $=parseInt(Se[2],10);$>oe&&(oe=$)}}),`${F}_v${oe+1}`}else return Q}},X=(F,j)=>!F||!j?[]:T.filter(Y=>Y.brand.toLowerCase()===F.toLowerCase()&&Y.projectType.toLowerCase()===j.toLowerCase()&&Y.isApproved===!0),pe=F=>{const j=F.match(/^(.+?)_[vV]\d+$/);return`${j?j[1]:F}_sum`},Le=()=>{const F=["Brand","Project Type"],j=a.Enter?.[0]?.trim(),Y=a.Enter?.[1]?.trim();j&&Y&&F.push("Filename for this iteration");const ye=F.length-1;if(ye>=2&&a.Enter?.[ye]?.trim())if(Y==="War Games")F.push("Research Files");else{F.push("Ideas Source");const M=F.indexOf("Ideas Source");if(M!==-1){const Q=a.Enter?.[M];(Q==="Get Inspired"||Q==="Load Current Ideas"&&a.Enter?.[M+1]?.trim())&&j&&Y&&F.push("Research Files")}}return F};p.useEffect(()=>{if(s==="Enter"){const F=a.Enter?.[0]?.trim(),j=a.Enter?.[1]?.trim();if(F&&j){const Y=Nr(F,j),M=new Date().toISOString().split("T")[0];let Q=0;const oe=`CoHive_${F}_${j}_${M}_V`;N.forEach($=>{if($.fileName.startsWith(oe)){const V=$.fileName.match(/_V(\d+)$/);if(V){const ce=parseInt(V[1],10);ce>Q&&(Q=ce)}}});const be=Q+1,Se=`CoHive_${F}_${j}_${M}_V${be}`;if(Y.length===0&&!a.Enter?.[2]&&c($=>({...$,Enter:{...$.Enter,2:Se}})),Y.length>0&&a.Enter?.[2]?.trim()==="New"){const V=a.Enter?.[3];V&&!V.includes(`${F}_${j}`)?c(ce=>({...ce,Enter:{...ce.Enter,3:Se}})):V||c(ce=>({...ce,Enter:{...ce.Enter,3:Se}}))}}}},[s,a.Enter?.[0],a.Enter?.[1],a.Enter?.[2],N]);const ft=s==="Enter"?{...Eo[0],questions:Le()}:Eo.find(F=>F.id===s)||Eo[0];qi.findIndex(F=>F.id===s);const Oe=(F,j)=>{c(Y=>({...Y,[s]:{...Y[s],[F]:j}})),O(!1),s==="Enter"&&(F===0||F===1)&&Z([]),s==="Enter"&&ee&&(C(!1),localStorage.setItem("cohive_iteration_saved","false"))},pr=F=>{if(F==="Enter"){const ye=Le(),M=a[F];if(!M||!M[0]?.trim()||!M[1]?.trim())return!1;const Q=M[0]?.trim(),oe=M[1]?.trim();if((Q&&oe?Nr(Q,oe):[]).length>0){const V=M[2];if(!V?.trim())return!1;if(V==="New"){if(!M[3]?.trim())return!1}else if(V==="Existing"&&!M[3]?.trim())return!1}else if(!M[2]?.trim())return!1;const Se=ye.indexOf("Ideas Source");if(Se!==-1){const V=M[Se];if(!V?.trim()||V==="Load Current Ideas"&&!M[Se+1]?.trim())return!1}return!(ye.indexOf("Research Files")!==-1&&je.length===0)}const j=Eo.find(ye=>ye.id===F);if(!j)return!1;const Y=a[F];return Y?j.questions.every((ye,M)=>{const Q=Y[M];return Q&&Q.trim().length>0}):!1},Dn=pr(s),Sr=(F,j)=>{const Y=T.find(M=>M.id===F);if(!Y)return;const ye={id:Date.now().toString(),researchFileId:F,fileName:Y.fileName,suggestedBy:"Current User",suggestion:j,timestamp:Date.now(),status:"pending"};ue(M=>[...M,ye]),localStorage.setItem("cohive_edit_suggestions",JSON.stringify([...G,ye]))},fn=(F,j)=>{ue(ye=>ye.map(M=>M.id===F?{...M,status:j}:M));const Y=G.map(ye=>ye.id===F?{...ye,status:j}:ye);localStorage.setItem("cohive_edit_suggestions",JSON.stringify(Y))},Fn=F=>{W(Y=>Y.map(ye=>ye.id===F?{...ye,isApproved:!ye.isApproved}:ye));const j=T.map(Y=>Y.id===F?{...Y,isApproved:!Y.isApproved}:Y);localStorage.setItem("cohive_research_files",JSON.stringify(j))},Ln=F=>{const j={...F,id:Date.now().toString(),uploadDate:Date.now()};W(Y=>[...Y,j]),localStorage.setItem("cohive_research_files",JSON.stringify([...T,j]))},vs=(F,j)=>{const Y=T.map(ye=>ye.id===F?{...ye,content:j}:ye);W(Y),localStorage.setItem("cohive_research_files",JSON.stringify(Y))},Or=F=>{const j=N.filter(Y=>!F.includes(Y.fileName));A(j),localStorage.setItem("cohive_projects",JSON.stringify(j))},Mr=(F,j,Y)=>{const ye=a.Enter?.[0]?.trim()||"",M=a.Enter?.[1]?.trim()||"",Q=Ir(ye,M),oe={id:Date.now().toString(),selectedFiles:F,assessmentType:j,assessment:Y,timestamp:Date.now()};c(Se=>({...Se,[s]:{0:`Files: ${F.join(", ")}`,1:Y}})),ae(Se=>({...Se,[s]:[...Se[s]||[],oe]})),localStorage.setItem("cohive_hex_executions",JSON.stringify({...se,[s]:[...se[s]||[],oe]})),console.log("Executing central hex process:",s,oe);const be={hexId:s,brand:ye,projectType:M,selectedFiles:F,assessmentType:j,assessment:Y,timestamp:Date.now(),ideasFile:Q?{fileName:Q.fileName,content:Q.content,fileType:Q.fileType}:null};console.log("Data prepared for Databricks:",be)},ua=(F,j)=>{const Y=a.Enter?.[0]?.trim()||"General",ye=a.Enter?.[1]?.trim()||"General",M={id:Date.now().toString(),brand:Y,projectType:ye,fileName:`Recommendation_${j}_${Date.now()}`,isApproved:!0,uploadDate:Date.now(),fileType:"Research",content:F},Q=[...T,M];W(Q),localStorage.setItem("cohive_research_files",JSON.stringify(Q))},mr=async(F,j,Y,ye,M,Q)=>{if(!B)return alert(` Please sign in to Databricks before saving to the Knowledge Base.

Click the "Sign In" button in the header to authenticate.`),Qe(!0),!1;try{const oe=da(F);let be;if(j.includes("data:")||j.includes(",")&&!j.includes(" ")){const ce=j.includes(",")?j.split(",")[1]:j,me=atob(ce),fe=new Array(me.length);for(let ct=0;ct<me.length;ct++)fe[ct]=me.charCodeAt(ct);const qe=new Uint8Array(fe),Re=new Blob([qe],{type:oe});be=jr(Re,F)}else{const ce=new Blob([j],{type:"text/plain"});be=jr(ce,F)}let $;Y==="General"?$="general":Y==="Category"?$="category":$="brand";const V=await rc({file:be,scope:$,category:Q,brand:M||void 0,projectType:Q||void 0,fileType:"Wisdom",tags:[Y,ye],insightType:Y,inputMethod:ye,userEmail:"user@company.com",userRole:xe});return V.success?(console.log(" Wisdom successfully saved to Databricks:",F),!0):(console.error(" Failed to save wisdom to Databricks:",V.error),alert(`Failed to save to Knowledge Base: ${V.error||"Unknown error"}`),!1)}catch(oe){return console.error(" Error saving wisdom:",oe),alert(`Failed to save wisdom: ${oe instanceof Error?oe.message:"Unknown error"}`),!1}};function da(F){const j=F.split(".").pop()?.toLowerCase();return{txt:"text/plain",webm:"audio/webm",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",mp4:"video/mp4",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",csv:"text/csv"}[j||""]||"application/octet-stream"}const fa=["Luminaries","panelist","Consumers","competitors","Colleagues","cultural","test","Grade"].includes(s),bs=F=>{y.find(Y=>Y.id===F)&&(w(F),localStorage.setItem("cohive_current_template_id",F))},pa=F=>{const j=y.map(Y=>Y.id===F.id?F:Y);x(j),v===F.id&&(w(F.id),localStorage.setItem("cohive_current_template_id",F.id)),localStorage.setItem("cohive_templates",JSON.stringify(j))},pn=F=>{const j=[...y,F];x(j),localStorage.setItem("cohive_templates",JSON.stringify(j))},ws=F=>{if(!F.trim()||J.includes(F.trim()))return;const j=[...J,F.trim()].sort();ne(j),localStorage.setItem("cohive_available_brands",JSON.stringify(j))},mn=F=>{if(!F.trim()||U.includes(F.trim()))return;const j=[...U,F.trim()].sort();ie(j),localStorage.setItem("cohive_available_project_types",JSON.stringify(j))},Yo=()=>{const F=a.Enter?.[0]||"Brand",j=a.Enter?.[1]||"ProjectType",ye=new Date().toISOString().split("T")[0],Q=`${`CoHive_${F}_${j}_${ye}`}_V1.json`,oe={version:"1.0",exportDate:new Date().toISOString(),projectName:a.Enter?.[0]||"CoHive Project",responses:a,researchFiles:T,ideasFiles:P,hexExecutions:se,editSuggestions:G,projectFiles:N,currentTemplateId:v,templates:y},be=JSON.stringify(oe,null,2),Se=new Blob([be],{type:"application/json"}),$=URL.createObjectURL(Se),V=document.createElement("a");V.href=$,V.download=Q,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL($)},hn=F=>{const j=F.target.files?.[0];if(!j)return;const Y=new FileReader;Y.onload=ye=>{try{const M=JSON.parse(ye.target?.result);if(!M.version||!M.responses){alert("Invalid project file format");return}if(Object.keys(a).length>0&&!confirm("This will replace your current project data. Continue?"))return;c(M.responses||{}),W(M.researchFiles||[]),S(M.ideasFiles||[]),ae(M.hexExecutions||{}),ue(M.editSuggestions||[]),A(M.projectFiles||[]),M.currentTemplateId&&w(M.currentTemplateId),M.templates&&x(M.templates),localStorage.setItem("cohive_responses",JSON.stringify(M.responses||{})),localStorage.setItem("cohive_research_files",JSON.stringify(M.researchFiles||[])),localStorage.setItem("cohive_ideas_files",JSON.stringify(M.ideasFiles||[])),localStorage.setItem("cohive_hex_executions",JSON.stringify(M.hexExecutions||{})),localStorage.setItem("cohive_edit_suggestions",JSON.stringify(M.editSuggestions||[])),localStorage.setItem("cohive_projects",JSON.stringify(M.projectFiles||[])),M.currentTemplateId&&localStorage.setItem("cohive_current_template_id",M.currentTemplateId),M.templates&&localStorage.setItem("cohive_templates",JSON.stringify(M.templates)),alert(`Project "${M.projectName}" imported successfully!`)}catch(M){alert("Failed to import project file. Please check the file format."),console.error("Import error:",M)}},Y.readAsText(j),F.target.value=""},In=()=>{confirm(` WARNING: Restart Project

This action will permanently delete:
 All workflow steps and progress
 All responses and data entered
 All execution history
 All uploaded ideas files
 Templates, research files, and project files will be preserved.

This action CANNOT be undone.

Are you sure you want to restart?`)&&(c({}),l("Enter"),O(!1),S([]),localStorage.removeItem("cohive_responses"),localStorage.removeItem("cohive_hex_executions"),localStorage.removeItem("cohive_ideas_files"),alert("Project has been restarted. All data has been cleared."))};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex gap-6 mb-6",children:[r.jsxs("div",{className:"flex-shrink-0",children:[r.jsx(My,{activeStep:s,onStepChange:F=>{if(F==="Enter"&&ee){const j=a.Enter?.[0],Y=a.Enter?.[1],ye=a.Enter?.[2];if(j&&Y&&ye){const M=_(ye,j,Y);c(Q=>({...Q,Enter:{...Q.Enter,2:M},Findings:{...Q.Findings,0:""}}))}C(!1),localStorage.setItem("cohive_iteration_saved","false")}F==="Enter"&&!ee&&c(j=>({...j,Findings:{...j.Findings,0:""}})),l(F),O(!1)},completedSteps:qi.filter(F=>pr(F.id)).map(F=>F.id),isEnterComplete:pr("Enter"),userRole:xe,hexExecutions:se,projectType:a.Enter?.[1]||""}),r.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[g&&r.jsxs("span",{className:"flex items-center gap-2 text-green-600 text-sm px-3 py-2 bg-green-50 rounded",children:[r.jsx(op,{className:"w-4 h-4"}),"Saved"]}),r.jsxs("button",{className:"px-4 py-2 border-2 border-blue-500 text-blue-700 rounded flex items-center gap-2 hover:bg-gray-50",onClick:Yo,title:"Export project data to JSON file",children:[r.jsx(oc,{className:"w-4 h-4"}),"Export Project"]}),r.jsxs("label",{className:"px-4 py-2 border-2 border-green-500 text-green-700 rounded flex items-center gap-2 hover:bg-gray-50 cursor-pointer",children:[r.jsx(is,{className:"w-4 h-4"}),"Import Project",r.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:hn})]}),r.jsxs("button",{className:"px-4 py-2 border-2 border-red-500 text-red-700 rounded flex items-center gap-2 hover:bg-gray-50",onClick:In,title:"Restart the project and clear all data",children:[r.jsx(Ay,{className:"w-4 h-4"}),"Restart Project"]}),r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border-2 border-gray-300 rounded",children:[r.jsx(Dy,{className:"w-4 h-4 text-gray-600"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Template"}),r.jsx("span",{className:"text-sm text-gray-900",children:v})]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{className:"w-full px-4 py-2 border-2 border-gray-400 text-gray-700 rounded flex items-center gap-2 hover:bg-gray-50",onClick:()=>Ve(!0),children:[r.jsx(lc,{className:"w-4 h-4"}),"Manage Templates"]}),de&&ze&&r.jsx(lb,{currentTemplate:ze,availableTemplates:y,onTemplateChange:bs,onTemplateUpdate:pa,onTemplateCreate:pn})]})]})]}),r.jsxs("div",{className:"flex-1 flex gap-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"mb-4 -mt-8 flex justify-center",children:r.jsx("img",{src:bb,alt:"CoHive - Insight into Inspiration",className:"h-24"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h2",{className:"text-gray-900",children:s==="research"&&!ze?.permissions?.canApproveResearch?"View Knowledge Assets":ft.title}),r.jsx("div",{className:"flex items-center gap-2",children:Dn&&r.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 text-green-800 text-sm",children:[r.jsx(rt,{className:"w-4 h-4"}),"Complete"]})})]}),r.jsx("p",{className:"text-gray-600 mb-6",children:s==="research"&&!ze?.permissions?.canApproveResearch?"Review and suggest edits to the knowledge assets your projects will be based on":ft.description}),s==="Enter"&&Ce&&!Dn&&r.jsxs("div",{className:"mb-4 p-4 border-2 border-red-200 rounded-lg flex items-start gap-2",children:[r.jsx(An,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-red-900",children:"Please complete the Enter step"}),r.jsx("div",{className:"text-red-700 text-sm",children:"All Enter questions must be answered before proceeding to the next step."})]})]}),(s==="Enter"||!B)&&r.jsx("div",{className:"mb-3",children:Te?r.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-2.5",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dr,{className:"w-4 h-4 text-blue-600 animate-pulse"}),r.jsx("span",{className:"text-gray-700 text-sm",children:"Checking Databricks authentication..."})]})}):B?r.jsx("div",{className:"bg-green-50 border-2 border-green-300 rounded-lg p-2.5",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rt,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-gray-900 text-sm font-medium",children:"Connected to Databricks"})]})}):r.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-400 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(An,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-gray-900 font-medium mb-1",children:"Databricks Authentication Required"}),r.jsx("p",{className:"text-gray-700 text-sm mb-3",children:"CoHive integrates with Databricks to save your work, access your organization's Knowledge Base, and power AI-driven insights across all workflow steps."}),r.jsxs("button",{onClick:()=>Qe(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm flex items-center gap-2",children:[r.jsx(dr,{className:"w-4 h-4"}),"Sign In to Databricks"]}),r.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[r.jsx("p",{className:"mb-1",children:" Secure OAuth 2.0 authentication"}),r.jsx("p",{className:"mb-1",children:" Your credentials never leave Databricks"}),r.jsx("p",{children:" Access your organization's shared Knowledge Base"})]})]})]})})}),r.jsx("div",{className:"space-y-4",children:s==="research"?xe==="administrator"||xe==="research-analyst"||xe==="research-leader"?r.jsx(mb,{brand:a.Enter?.[0]?.trim()||"",projectType:a.Enter?.[1]?.trim()||"",researchFiles:T,editSuggestions:G,canApproveResearch:ze?.permissions?.canApproveResearch||!1,onCreateResearchFile:Ln,onToggleApproval:Fn,onUpdateResearchFile:vs,onUpdateSuggestionStatus:fn,availableBrands:J,availableProjectTypes:U,onAddBrand:ws,onAddProjectType:mn}):r.jsx(ob,{role:"non-researcher",brand:a.Enter?.[0]?.trim()||"",projectType:a.Enter?.[1]?.trim()||"",researchFiles:T,editSuggestions:G,onAddSuggestion:Sr,onUpdateSuggestionStatus:fn,onToggleApproval:Fn,canApproveResearch:ze?.permissions?.canApproveResearch||!1,onCreateResearchFile:Ln}):s==="review"?r.jsx(xb,{projectFiles:N,onDeleteFiles:Or}):fa?r.jsx(yb,{hexId:s,hexLabel:ft.title,researchFiles:T,onExecute:Mr,databricksInstructions:ze?.databricksInstructions?.[s]||"",previousExecutions:se[s]||[],onSaveRecommendation:ua,projectType:a.Enter?.[1]||""},s):ft.questions.map((F,j)=>{const Y=a[s]?.[j]?.trim().length>0,ye=!1;if(s==="Enter"){const M=a.Enter?.[0]?.trim(),Q=a.Enter?.[1]?.trim();if(M&&Q&&Nr(M,Q),F==="Ideas Source"){const oe=a.Enter?.[1];if(oe==="War Games")return null;const be=a[s]?.[j],Se=j+1;return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". Load Current Ideas or Get Inspired?"]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"ideasSource",value:"Load Current Ideas",checked:a[s]?.[j]==="Load Current Ideas",onChange:$=>Oe(j,$.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"Load Current Ideas"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"ideasSource",value:"Get Inspired",checked:a[s]?.[j]==="Get Inspired",onChange:$=>Oe(j,$.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"Get Inspired"})]})]}),ye,be==="Load Current Ideas"&&r.jsxs("div",{className:"mt-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+2,". Upload Ideas File"]}),a[s]?.[Se]&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.txt,.csv,.xlsx,.xls",className:"w-full text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700 file:cursor-pointer",onChange:async $=>{const V=$.target.files?.[0];if(!V)return;const ce=V.name,me=V.type||"application/octet-stream",fe=new FileReader;fe.onload=qe=>{const Re=qe.target?.result,ct={brand:M||"",projectType:oe||"",fileName:ce,content:Re,fileType:me,uploadDate:Date.now()},Lt=P.filter(js=>!(js.brand.toLowerCase()===M?.toLowerCase()&&js.projectType.toLowerCase()===oe?.toLowerCase()));Lt.push(ct),S(Lt),localStorage.setItem("cohive_ideas_files",JSON.stringify(Lt)),Oe(Se,ce)},fe.onerror=()=>{alert("Failed to read file. Please try again.")},fe.readAsDataURL(V)}}),a[s]?.[Se]&&(()=>{const $=Ir(M||"",oe||"");return r.jsxs("div",{className:"text-sm mt-2",children:[r.jsxs("p",{className:"text-green-700 flex items-center gap-2",children:[r.jsx(rt,{className:"w-4 h-4"}),"Selected: ",a[s][Se]]}),$&&r.jsxs("p",{className:"text-blue-600 text-xs mt-1",children:[" File content stored (",($.content.length/1024).toFixed(1)," KB) - Will be sent to Databricks on execution"]})]})})()]})]},j)}if(F==="Research Files"){const oe=M&&Q?X(M,Q):[];return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". Select Approved Knowledge Files"]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsx("div",{className:"space-y-1",children:oe.length>0?oe.map((be,Se)=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"researchFiles",value:be.fileName,checked:je.includes(be.fileName),onChange:$=>{$.target.checked?Z([...je,be.fileName]):Z(je.filter(V=>V!==be.fileName))},className:"w-4 h-4"}),r.jsxs("span",{className:"text-gray-700",children:[be.fileName," (Uploaded: ",new Date(be.uploadDate).toLocaleDateString(),")"]})]},Se)):r.jsxs("p",{className:"text-gray-600 text-sm italic",children:["No approved research files available for ",M," - ",Q,". You can upload files in the Research section."]})}),ye]},j)}if(j===3&&F==="Filename"&&M&&Q){const oe=Lr(M,Q);return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". ",F]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsx("input",{type:"text",className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",placeholder:oe,value:a[s]?.[j]||"",onChange:be=>Oe(j,be.target.value),onKeyDown:be=>{be.key==="Enter"&&!a[s]?.[j]&&Oe(j,oe)}}),ye]},j)}}if(s==="Wisdom"){const M=a.Enter?.[0]?.trim()||"",Q=a.Enter?.[1]?.trim()||"";if(j===0&&F==="Insight Type")return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". What type of insight are you sharing?"]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"insightType",value:"Brand",checked:a[s]?.[j]==="Brand",onChange:oe=>Oe(j,oe.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"About a Brand"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"insightType",value:"Category",checked:a[s]?.[j]==="Category",onChange:oe=>Oe(j,oe.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"About a Category"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"insightType",value:"General",checked:a[s]?.[j]==="General",onChange:oe=>Oe(j,oe.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"General Insight"})]})]}),ye]},j);if(j===1&&F==="Input Method")return a[s]?.[0]?r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". How would you like to share?"]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"inputMethod",value:"Text",checked:a[s]?.[j]==="Text",onChange:be=>Oe(j,be.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"Type Text"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"inputMethod",value:"Voice",checked:a[s]?.[j]==="Voice",onChange:be=>Oe(j,be.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"Record Voice"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"inputMethod",value:"Photo",checked:a[s]?.[j]==="Photo",onChange:be=>Oe(j,be.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"Upload Photo"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"inputMethod",value:"Video",checked:a[s]?.[j]==="Video",onChange:be=>Oe(j,be.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"Upload Video"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"inputMethod",value:"File",checked:a[s]?.[j]==="File",onChange:be=>Oe(j,be.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"Upload File"})]})]}),ye]},j):null;if(j===2&&F==="Share Your Wisdom"){const oe=a[s]?.[0],be=a[s]?.[1];if(!oe||!be)return null;if(be==="Text")return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". Share Your Wisdom"]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsx("textarea",{className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",placeholder:`Share your ${oe.toLowerCase()} insight here...`,rows:6,value:a[s]?.[j]||"",onChange:Se=>Oe(j,Se.target.value)}),ye,Y&&r.jsx("button",{onClick:async()=>{const Se=a[s]?.[j];if(!Se)return;const $=`Wisdom_${oe}_${Date.now()}.txt`;await mr($,Se,oe,"Text",M,Q)&&alert(" Wisdom saved to Databricks Knowledge Base!")},className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save to Knowledge Base"})]},j);if(be==="Voice")return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". Share Your Wisdom"]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),!Ft&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 text-sm text-yellow-800",children:" Voice recording is not available in this environment. Please use a modern browser with microphone support."}),Ft&&r.jsxs("div",{className:"space-y-3",children:[!Ct&&!a[s]?.[j]&&r.jsxs("button",{onClick:async()=>{try{const Se=await navigator.mediaDevices.getUserMedia({audio:!0});jt(Se);const $=new MediaRecorder(Se),V=[];$.ondataavailable=ce=>{ce.data.size>0&&V.push(ce.data)},$.onstop=async()=>{const ce=new Blob(V,{type:"audio/webm"}),me=new FileReader;me.onload=async()=>{const fe=me.result,qe=`Wisdom_${oe}_Voice_${Date.now()}.webm`;Oe(j,qe),await mr(qe,fe,oe,"Voice",M,Q)&&alert(" Voice wisdom saved to Databricks Knowledge Base!")},me.readAsDataURL(ce),Se.getTracks().forEach(fe=>fe.stop()),jt(null)},le($),De(V),$.start(),z(!0)}catch(Se){alert("Unable to access microphone. Please check your browser permissions."),console.error("Microphone error:",Se)}},className:"w-full px-4 py-3 bg-red-600 text-white rounded hover:bg-red-700 flex items-center justify-center gap-2",children:[r.jsx(Py,{className:"w-5 h-5"}),"Start Recording"]}),Ct&&r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"bg-red-50 border-2 border-red-500 rounded p-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full animate-pulse"}),r.jsx("span",{className:"text-red-700 font-medium",children:"Recording..."})]}),r.jsxs("button",{onClick:()=>{I&&I.state!=="inactive"&&(I.stop(),z(!1),le(null))},className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 flex items-center gap-1",children:[r.jsx(xf,{className:"w-4 h-4"}),"Stop"]})]})}),a[s]?.[j]&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-2",children:r.jsxs("p",{className:"text-sm text-green-700",children:[" Recorded: ",a[s][j]]})})]})]},j);if(be==="Photo"){const Se=a[s]?.photoMethod;return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". Share Your Wisdom"]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),!Ft&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 text-sm text-yellow-800",children:" Photo capture is not available in this environment. Please use a modern browser with camera support."}),!Se&&Ft&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:()=>{c($=>({...$,[s]:{...$[s],photoMethod:"upload"}}))},className:"w-full px-4 py-3 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center justify-center gap-2",children:[r.jsx(is,{className:"w-5 h-5"}),"Upload Photo"]}),r.jsxs("button",{onClick:async()=>{try{if(Ft){const $=await navigator.mediaDevices.getUserMedia({video:!0});jt($),c(V=>({...V,[s]:{...V[s],photoMethod:"capture"}}))}}catch($){alert("Unable to access camera. Please check your browser permissions."),console.error("Camera error:",$)}},className:"w-full px-4 py-3 bg-green-600 text-white rounded hover:bg-green-700 flex items-center justify-center gap-2",children:[r.jsx(gf,{className:"w-5 h-5"}),"Capture with Camera"]})]}),Se==="upload"&&!a[s]?.[j]&&r.jsxs("div",{children:[r.jsx("input",{type:"file",accept:"image/*",className:"w-full text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700 file:cursor-pointer",onChange:async $=>{const V=$.target.files?.[0];if(!V)return;const ce=V.name,me=new FileReader;me.onload=async fe=>{const qe=fe.target?.result;Oe(j,ce);const Re=`Wisdom_${oe}_Photo_${ce}`;await mr(Re,qe,oe,"Photo",M,Q)&&alert(" Photo wisdom saved to Databricks Knowledge Base!")},me.onerror=()=>{alert("Failed to read photo file. Please try again.")},me.readAsDataURL(V)}}),r.jsx("button",{onClick:()=>{c($=>({...$,[s]:{...$[s],photoMethod:void 0}}))},className:"mt-2 text-sm text-blue-600 hover:underline",children:" Back to options"})]}),Se==="capture"&&!a[s]?.[j]&&et&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("video",{ref:$=>{$&&et&&($.srcObject=et,$.play())},className:"w-full rounded border-2 border-gray-300",autoPlay:!0,playsInline:!0}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>{const $=document.querySelector("video");if(!$)return;const V=document.createElement("canvas");V.width=$.videoWidth,V.height=$.videoHeight;const ce=V.getContext("2d");ce&&(ce.drawImage($,0,0),V.toBlob(me=>{if(!me)return;const fe=new FileReader;fe.onload=async()=>{const qe=fe.result,Re=`Wisdom_${oe}_Captured_${Date.now()}.jpg`;Oe(j,Re),await mr(Re,qe,oe,"Photo",M,Q)&&alert(" Photo wisdom saved to Databricks Knowledge Base!"),et.getTracks().forEach(Lt=>Lt.stop()),jt(null)},fe.readAsDataURL(me)},"image/jpeg",.9))},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center justify-center gap-2",children:[r.jsx(gf,{className:"w-5 h-5"}),"Capture Photo"]}),r.jsx("button",{onClick:()=>{et.getTracks().forEach($=>$.stop()),jt(null),c($=>({...$,[s]:{...$[s],photoMethod:void 0}}))},className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Cancel"})]})]}),a[s]?.[j]&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-2",children:r.jsxs("p",{className:"text-sm text-green-700",children:[" Saved: ",a[s][j]]})})]},j)}if(be==="Video"){const Se=a[s]?.videoMethod;return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". Share Your Wisdom"]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),!Ft&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 text-sm text-yellow-800",children:" Video recording is not available in this environment. Please use a modern browser with camera support."}),!Se&&Ft&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:()=>{c($=>({...$,[s]:{...$[s],videoMethod:"upload"}}))},className:"w-full px-4 py-3 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center justify-center gap-2",children:[r.jsx(is,{className:"w-5 h-5"}),"Upload Video"]}),r.jsxs("button",{onClick:async()=>{try{if(Ft){const $=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});jt($);const V=new MediaRecorder($),ce=[];V.ondataavailable=me=>{me.data.size>0&&ce.push(me.data)},le(V),De(ce),c(me=>({...me,[s]:{...me[s],videoMethod:"capture"}}))}}catch($){alert("Unable to access camera. Please check your browser permissions."),console.error("Camera error:",$)}},className:"w-full px-4 py-3 bg-purple-600 text-white rounded hover:bg-purple-700 flex items-center justify-center gap-2",children:[r.jsx(jf,{className:"w-5 h-5"}),"Record Video"]})]}),Se==="upload"&&!a[s]?.[j]&&r.jsxs("div",{children:[r.jsx("input",{type:"file",accept:"video/*",className:"w-full text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700 file:cursor-pointer",onChange:async $=>{const V=$.target.files?.[0];if(!V)return;const ce=V.name,me=new FileReader;me.onload=async fe=>{const qe=fe.target?.result;Oe(j,ce);const Re=`Wisdom_${oe}_Video_${ce}`;await mr(Re,qe,oe,"Video",M,Q)&&alert(" Video wisdom saved to Databricks Knowledge Base!")},me.onerror=()=>{alert("Failed to read video file. Please try again.")},me.readAsDataURL(V)}}),r.jsx("p",{className:"text-amber-600 text-xs mt-1",children:"Note: Large video files may exceed storage limits. Consider smaller files or shorter clips."}),r.jsx("button",{onClick:()=>{c($=>({...$,[s]:{...$[s],videoMethod:void 0}}))},className:"mt-2 text-sm text-blue-600 hover:underline",children:" Back to options"})]}),Se==="capture"&&!a[s]?.[j]&&et&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("video",{ref:$=>{$&&et&&($.srcObject=et,$.play())},className:"w-full rounded border-2 border-gray-300",autoPlay:!0,playsInline:!0,muted:!0}),!Ct&&I&&I.state==="inactive"&&r.jsxs("button",{onClick:()=>{I&&(I.start(),z(!0))},className:"w-full px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 flex items-center justify-center gap-2",children:[r.jsx(jf,{className:"w-5 h-5"}),"Start Recording"]}),Ct&&r.jsxs("div",{className:"bg-red-50 border-2 border-red-500 rounded p-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full animate-pulse"}),r.jsx("span",{className:"text-red-700 font-medium",children:"Recording..."})]}),r.jsxs("button",{onClick:()=>{I&&I.state==="recording"&&(I.onstop=async()=>{const $=new Blob(Be,{type:"video/webm"}),V=new FileReader;V.onload=async()=>{const ce=V.result,me=`Wisdom_${oe}_Recorded_${Date.now()}.webm`;Oe(j,me),await mr(me,ce,oe,"Video",M,Q)&&alert(" Video wisdom saved to Databricks Knowledge Base!"),et.getTracks().forEach(qe=>qe.stop()),jt(null),z(!1),le(null),De([])},V.readAsDataURL($)},I.stop())},className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 flex items-center gap-1",children:[r.jsx(xf,{className:"w-4 h-4"}),"Stop & Save"]})]}),!Ct&&r.jsx("button",{onClick:()=>{et.getTracks().forEach($=>$.stop()),jt(null),le(null),De([]),c($=>({...$,[s]:{...$[s],videoMethod:void 0}}))},className:"w-full px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Cancel"})]}),a[s]?.[j]&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-2",children:r.jsxs("p",{className:"text-sm text-green-700",children:[" Saved: ",a[s][j]]})})]},j)}return be==="File"?r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". Share Your Wisdom"]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv",className:"w-full text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700 file:cursor-pointer",onChange:async Se=>{const $=Se.target.files?.[0];if(!$)return;const V=$.name,ce=new FileReader;ce.onload=async me=>{const fe=me.target?.result;Oe(j,V);const qe=`Wisdom_${oe}_File_${V}`;await mr(qe,fe,oe,"File",M,Q)&&alert(" File wisdom saved to Databricks Knowledge Base!")},ce.onerror=()=>{alert("Failed to read file. Please try again.")},ce.readAsDataURL($)}}),r.jsx("p",{className:"text-gray-600 text-xs",children:"Supported formats: PDF, Word, Excel, PowerPoint, Text, CSV"}),a[s]?.[j]&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-2",children:r.jsxs("p",{className:"text-sm text-green-700",children:[" Saved: ",a[s][j]]})})]})]},j):null}}if(s==="Enter"&&j===0&&F==="Brand")return r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 text-gray-900 whitespace-nowrap",children:[r.jsxs("span",{children:[j+1,". ",F]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsxs("select",{className:"flex-1 border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",value:a[s]?.[j]||"",onChange:M=>Oe(j,M.target.value),children:[r.jsx("option",{value:"",children:"-- Select a Brand --"}),J.map((M,Q)=>r.jsx("option",{value:M,children:M},Q))]})]}),ye]},j);if(s==="Enter"&&j===1&&F==="Project Type")return r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 text-gray-900 whitespace-nowrap",children:[r.jsxs("span",{children:[j+1,". ",F]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsxs("select",{className:"flex-1 border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",value:a[s]?.[j]||"",onChange:M=>Oe(j,M.target.value),children:[r.jsx("option",{value:"",children:"-- Select a Project Type --"}),U.map((M,Q)=>r.jsx("option",{value:M,children:M},Q))]})]}),ye]},j);if(s==="Enter"&&j===2&&F==="Filename for this iteration"){const M=a.Enter?.[0],Q=a.Enter?.[1],oe=a[s]?.[j]||"";let be="";if(M&&Q){const Se=Lr(M,Q),$=N.filter(V=>V.brand===M&&V.projectType===Q&&V.fileName.startsWith(Se));if($.length>0){let V=0;$.forEach(ce=>{const me=ce.fileName.match(/_v(\d+)$/);if(me){const fe=parseInt(me[1],10);fe>V&&(V=fe)}else ce.fileName===Se&&(V=Math.max(V,1))}),be=`${Se}_v${V+1}`}else be=Se;be&&!oe&&setTimeout(()=>{Oe(j,be)},0)}return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". ",F]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsx("input",{type:"text",className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 font-mono focus:outline-none focus:border-blue-500",value:a[s]?.[j]||be,onChange:Se=>Oe(j,Se.target.value),placeholder:be}),r.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"You can edit this filename or keep the suggested name"}),ye]},j)}if(s==="Findings"){const M=a.Enter?.[0]?.trim(),Q=a.Enter?.[1]?.trim(),oe=a.Enter?.[2]?.trim(),be=a.Findings?.[0],$=["research","Luminaries","panelist","Consumers","competitors","Colleagues","cultural","social","Grade"].some(V=>{const ce=se[V];return ce&&ce.length>0});if(j===0&&F==="Save Iteration or Summarize")return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". ",F]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsxs("div",{className:"space-y-1",children:[$&&r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"findingsChoice",value:"Save Iteration",checked:a[s]?.[j]==="Save Iteration",onChange:async V=>{if(Oe(j,V.target.value),V.target.value==="Save Iteration"&&M&&Q&&oe){if(!B){alert(` Please sign in to Databricks before saving to the Knowledge Base.

Click the "Sign In" button in the header to authenticate.`),Qe(!0),Oe(j,"");return}const ce={brand:M,projectType:Q,fileName:oe,timestamp:Date.now()},me=JSON.stringify({responses:a,hexExecutions:se,completedSteps:Array.from(d)}),fe=new Blob([me],{type:"application/json"}),qe=jr(fe,oe);let Re="brand";M||(Re=Q?"category":"general");const ct=await rc({file:qe,scope:Re,category:Q,brand:M||void 0,projectType:Q||void 0,fileType:"Findings",tags:["Iteration",M,Q].filter(Boolean),iterationType:"iteration",includedHexes:Array.from(d),userEmail:"user@company.com",userRole:xe});if(ct.success){console.log(" Iteration saved to Databricks Knowledge Base:",oe);const Lt=[...N,ce];A(Lt),localStorage.setItem("cohive_projects",JSON.stringify(Lt)),C(!0),localStorage.setItem("cohive_iteration_saved","true")}else alert(`Failed to save to Databricks: ${ct.error||"Unknown error"}`)}},className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"Save Iteration"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"findingsChoice",value:"Summarize",checked:a[s]?.[j]==="Summarize",onChange:V=>Oe(j,V.target.value),className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"Summarize"})]})]}),be==="Save Iteration"&&oe&&r.jsxs("p",{className:"text-green-600 text-sm mt-2",children:[" File saved to Databricks user folder: ",oe]}),!$&&be!=="Summarize"&&r.jsx("p",{className:"text-amber-600 text-sm mt-2",children:" Save Iteration requires at least one workflow hex to be executed. Only Summarize is available."})]},j);if(be!=="Summarize")return null;if(be==="Summarize"&&j===1&&F==="Which files should we include in our findings?"&&oe){const V=pe(oe);return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("label",{className:"block text-gray-900 mb-1",children:"Suggested Summary Filename"}),r.jsx("input",{type:"text",className:"w-full border-2 border-gray-300 bg-white rounded p-2 text-gray-700 focus:outline-none focus:border-blue-500",value:a[s]?.summaryFileName||V,onChange:ce=>{c(me=>({...me,[s]:{...me[s],summaryFileName:ce.target.value,3:""}}))},placeholder:"Enter summary filename..."}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"You can edit this filename or keep the suggested name"})]}),(()=>{const ce=N.filter(fe=>fe.brand===M&&fe.projectType===Q).sort((fe,qe)=>qe.timestamp-fe.timestamp),me=a[s]?.[j]?.split(",").filter(Boolean)||[];return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". ",F]}),a[s]?.[j]?.trim().length>0&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsx("div",{className:"border-2 border-gray-300 rounded p-2 bg-white max-h-40 overflow-y-auto",children:ce.length>0?ce.map((fe,qe)=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer py-1",children:[r.jsx("input",{type:"checkbox",checked:me.includes(fe.fileName),onChange:Re=>{let ct=[...me];Re.target.checked?ct.push(fe.fileName):ct=ct.filter(Lt=>Lt!==fe.fileName),Oe(j,ct.join(","))},className:"w-4 h-4"}),r.jsxs("span",{className:"text-gray-700",children:[fe.fileName," (",new Date(fe.timestamp).toLocaleDateString(),")"]})]},qe)):r.jsxs("p",{className:"text-gray-500 text-sm",children:["No files found for ",M," - ",Q]})})]})})()]},j)}if(j===1&&F==="Which files should we include in our findings?"){const V=N.filter(me=>me.brand===M&&me.projectType===Q).sort((me,fe)=>fe.timestamp-me.timestamp),ce=a[s]?.[j]?.split(",").filter(Boolean)||[];return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". ",F]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsx("div",{className:"border-2 border-gray-300 rounded p-2 bg-white max-h-40 overflow-y-auto",children:V.length>0?V.map((me,fe)=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer py-1",children:[r.jsx("input",{type:"checkbox",checked:ce.includes(me.fileName),onChange:qe=>{let Re=[...ce];qe.target.checked?Re.push(me.fileName):Re=Re.filter(ct=>ct!==me.fileName),Oe(j,Re.join(","))},className:"w-4 h-4 flex-shrink-0"}),r.jsxs("span",{className:"text-gray-700",children:[me.fileName," (",new Date(me.timestamp).toLocaleDateString(),")"]})]},fe)):r.jsxs("p",{className:"text-gray-500 text-sm",children:["No files found for ",M," - ",Q]})})]},j)}if(j===2&&F==="Output Options"){const V=a[s]?.[j]?.split(",").filter(Boolean)||[],ce=["Executive Summary","Share all Ideas as a list",'Provide a grid with all "final" ideas with their scores',"Include Gems","Include User Notes from all iterations as an Appendix"];return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". ",F]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsx("div",{className:"space-y-1",children:ce.map((me,fe)=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:V.includes(me),onChange:qe=>{let Re=[...V];qe.target.checked?Re.push(me):Re=Re.filter(ct=>ct!==me),Oe(j,Re.join(","))},className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:me})]},fe))})]},j)}if(j===3&&F==="Save or Download")return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". ",F]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"saveOrDownload",value:"SaveWorkspace",checked:a[s]?.[j]==="SaveWorkspace",onChange:V=>{if(Oe(j,V.target.value),V.target.value==="SaveWorkspace"&&M&&Q){const ce=a[s]?.summaryFileName||pe(oe||"");if(ce){const me={brand:M,projectType:Q,fileName:ce,timestamp:Date.now(),responses:a,selectedFiles:a[s]?.[1]?.split(",").filter(Boolean)||[],outputOptions:a[s]?.[2]?.split(",").filter(Boolean)||[],hexExecutions:se,completedSteps:Array.from(d)},fe=ce.endsWith(".json")?ce:`${ce}.json`,qe=JSON.stringify(me,null,2);Ze({fileName:fe,content:qe}),ve(!0),Oe(j,"")}}},className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"Save to Databricks Workspace"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"saveOrDownload",value:"Download",checked:a[s]?.[j]==="Download",onChange:V=>{if(Oe(j,V.target.value),V.target.value==="Download"&&M&&Q){const ce=a[s]?.summaryFileName||pe(oe||"");if(ce){const me={brand:M,projectType:Q,fileName:ce,timestamp:Date.now(),responses:a,selectedFiles:a[s]?.[1]?.split(",").filter(Boolean)||[],outputOptions:a[s]?.[2]?.split(",").filter(Boolean)||[],hexExecutions:se,completedSteps:Array.from(d)};jm(ce.endsWith(".json")?ce:`${ce}.json`,JSON.stringify(me,null,2),"application/json"),alert(" Summary downloaded to your computer!"),Oe(j,"")}}},className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-700",children:"Download to Computer"})]})]})]},j)}return r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-gray-900 mb-1 flex items-start justify-between",children:[r.jsxs("span",{children:[j+1,". ",F]}),Y&&r.jsx(rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),r.jsx("textarea",{className:"w-full h-20 border-2 border-gray-300 bg-white rounded p-2 text-gray-700 resize-none focus:outline-none focus:border-blue-500",placeholder:"Enter your response...",value:a[s]?.[j]||"",onChange:M=>Oe(j,M.target.value)}),ye]},j)})})]})]}),r.jsx("div",{className:"w-80 flex-shrink-0",children:r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",style:{height:"650px"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(np,{className:"w-4 h-4 text-gray-600"}),r.jsx("h3",{className:"text-gray-900",children:"User Notes"})]}),r.jsx("textarea",{className:"w-full border-2 border-gray-300 bg-gray-50 rounded p-2 text-sm resize-none",style:{height:"calc(650px - 80px)"},placeholder:"Add notes to be saved with each iteration..."})]})})]})]}),r.jsx(Sc,{open:We,currentStep:s,onClose:()=>{Qe(!1),setTimeout(()=>{const F=ia();ge(F)},500)}}),$e&&r.jsx(vb,{open:Ie,onClose:()=>{ve(!1),Ze(null)},fileName:$e.fileName,fileContent:$e.content,onSaveSuccess:F=>{console.log("File saved successfully to:",F)}})]})}const jb="/assets/11e423d80e5ce28fde4173da3dcb80d9f7d0c8fe-DvkLVrhK.png";function Nb({onLogin:s}){return r.jsxs("div",{className:"min-h-screen bg-white flex items-center justify-center p-4 relative",children:[r.jsx("div",{className:"absolute top-6 right-6 z-50",children:r.jsx("button",{onClick:s,className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors shadow-lg hover:shadow-xl",children:"Login"})}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("img",{src:jb,alt:"CoHive - Insight into Inspiration",className:"max-w-4xl w-full h-auto"})})]})}function Sb({onSuccess:s,onError:l}){const[a,c]=p.useState("loading"),[d,f]=p.useState("Completing authentication...");p.useEffect(()=>{g()},[]);const g=async()=>{try{if(c("loading"),f("Exchanging authorization code..."),await hm().catch(y=>{throw console.error("OAuth callback error:",y),new Error(y?.message||"Failed to complete authentication")}))c("success"),f("Authentication successful! Redirecting..."),setTimeout(()=>{s()},1500);else throw new Error("Failed to create session")}catch(m){c("error");const y=m instanceof Error?m.message:"Authentication failed";f(y),l(y)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:te.background.primary},children:r.jsx("div",{className:"max-w-md w-full p-8 rounded-lg border",style:{backgroundColor:te.background.secondary,borderColor:te.border.light},children:r.jsxs("div",{className:"flex flex-col items-center gap-6 text-center",children:[a==="loading"&&r.jsx(la,{className:"h-16 w-16 animate-spin",style:{color:te.hex.purple.light}}),a==="success"&&r.jsx(Cy,{className:"h-16 w-16",style:{color:te.hex.Findings}}),a==="error"&&r.jsx(An,{className:"h-16 w-16",style:{color:"#ef4444"}}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h2",{className:"text-2xl font-semibold",style:{color:te.text.primary},children:[a==="loading"&&"Authenticating...",a==="success"&&"Success!",a==="error"&&"Authentication Failed"]}),r.jsx("p",{className:"text-sm",style:{color:te.text.secondary},children:d})]}),a==="error"&&r.jsx("button",{onClick:()=>window.location.href="/",className:"px-4 py-2 rounded-lg text-white",style:{backgroundColor:te.hex.purple.light},children:"Return to CoHive"})]})})})}function kb(){const[s,l]=p.useState(!1);p.useEffect(()=>{const c=document.querySelector("link[rel*='icon']")||document.createElement("link");c.type="image/png",c.rel="icon",c.href=Sm,document.head.appendChild(c)},[]);const a=()=>{l(!0)};return s?r.jsx("div",{className:"min-h-screen bg-white",children:r.jsx(wb,{})}):r.jsx(Nb,{onLogin:a})}function Cb(){const s=Xg();return r.jsx(Sb,{onSuccess:()=>{console.log(" OAuth successful, redirecting to app..."),s("/")},onError:l=>{console.error(" OAuth error:",l),alert(`Authentication failed: ${l.message}`),s("/")}})}function Eb(){return r.jsxs(my,{children:[r.jsx(Gi,{path:"/oauth/callback",element:r.jsx(Cb,{})}),r.jsx(Gi,{path:"*",element:r.jsx(kb,{})})]})}vg.createRoot(document.getElementById("root")).render(r.jsx(yy,{children:r.jsx(Eb,{})}));
